!function(e){function t(t){for(var i,n,o=t[0],r=t[1],d=t[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&p.push(l[n][0]),l[n]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(c&&c(t);p.length;)p.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var r=a[o];0!==l[r]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},l={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=r;s.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},"0027":function(e,t,a){"use strict";var i=a("53a1");a.n(i).a},"0462":function(e,t,a){},"0bfe":function(e,t,a){"use strict";var i=a("4ae9");a.n(i).a},"0d07":function(e,t,a){"use strict";var i=a("e3b9");a.n(i).a},"1d7b":function(e,t,a){"use strict";var i=a("783b");a.n(i).a},"280c":function(e,t,a){"use strict";var i=a("9144");a.n(i).a},"29fc":function(e,t,a){"use strict";var i=a("3da5");a.n(i).a},"2bc6":function(e,t,a){},"2f63":function(e,t,a){"use strict";var i=a("b839");a.n(i).a},"385b":function(e,t,a){"use strict";var i=a("6525");a.n(i).a},"387f":function(e,t,a){"use strict";var i=a("6fc0");a.n(i).a},3959:function(e,t,a){"use strict";var i=a("5ab1");a.n(i).a},"3aa7":function(e,t,a){"use strict";var i=a("e8d6");a.n(i).a},"3b05":function(e,t,a){"use strict";var i=a("5f1c");a.n(i).a},"3da5":function(e,t,a){},4260:function(e,t,a){},4646:function(e,t,a){"use strict";var i=a("b126");a.n(i).a},"4a82":function(e,t,a){},"4ab6":function(e,t,a){},"4ae9":function(e,t,a){},"4b05":function(e,t,a){"use strict";var i=a("7417");a.n(i).a},5202:function(e,t,a){},"53a1":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),l={name:"app",methods:{handleHome(){this.$router.push({path:"/"})},handleLangCommand(e){this.$router.replace({name:this.$route.name,params:{lang:e}})}}},s=(a("5c0b"),a("2877")),n=Object(s.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"fm-container"},[t("router-view")],1)])}),[],!1,null,null,null).exports,o=a("8c4f"),r={mounted(){}},d=Object(s.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("fm-designer",{ref:"makingForm",attrs:{preview:"","generate-code":"","generate-json":"",clearable:""}},[t("template",{slot:"action"})],2)}),[],!1,null,null,null).exports,c={created(){this.loadLanguage()},methods:{loadLanguage(){"zh-CN"==this.$route.params.lang?(i.default.config.lang="zh-CN",localStorage.setItem("language","zh-CN")):"en-US"==this.$route.params.lang?(i.default.config.lang="en-US",localStorage.setItem("language","en-US")):this.$router.replace({name:this.$route.name,params:{lang:"zh-CN"==navigator.language?"zh-CN":"en-US"}})}},watch:{"$route.params.lang":function(e){this.loadLanguage()}}};Object(s.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null).exports,i.default.use(o.a);var u=new o.a({routes:[{path:"/",name:"index",component:d}]}),p=a("5c96"),m=a.n(p),h=a("08a3"),f=a.n(h),g=a("5873"),b=(a("0fae"),a("939f"),a("c568"),a("b835"),a("e0d0"),a("9df9"),a("747a"),a("8e3d"),a("f0d9")),y=a.n(b),v=a("310e"),x=a.n(v),w=a("b311"),S=a.n(w),k={name:"JsEvent",props:["data"],data:()=>({}),methods:{}},_=(a("387f"),Object(s.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("div",[a("label",{staticClass:"left-label"},[e._v("onclick：")]),a("mf-input",{model:{value:e.data.options.onclick,callback:function(t){e.$set(e.data.options,"onclick",t)},expression:"data.options.onclick"}})],1),"button"!=e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onblur：")]),a("mf-input",{model:{value:e.data.options.onblur,callback:function(t){e.$set(e.data.options,"onblur",t)},expression:"data.options.onblur"}})],1):e._e(),"button"!=e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onchange：")]),a("mf-input",{model:{value:e.data.options.onchange,callback:function(t){e.$set(e.data.options,"onchange",t)},expression:"data.options.onchange"}})],1):e._e(),a("div",[a("label",{staticClass:"left-label"},[e._v("ondblclick：")]),a("mf-input",{model:{value:e.data.options.ondblclick,callback:function(t){e.$set(e.data.options,"ondblclick",t)},expression:"data.options.ondblclick"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("onfocus：")]),a("mf-input",{model:{value:e.data.options.onfocus,callback:function(t){e.$set(e.data.options,"onfocus",t)},expression:"data.options.onfocus"}})],1),"select"==e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onselect：")]),a("mf-input",{model:{value:e.data.options.onselect,callback:function(t){e.$set(e.data.options,"onselect",t)},expression:"data.options.onselect"}})],1):e._e(),"button"==e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onpreclick：")]),a("mf-input",{model:{value:e.data.options.onpreclick,callback:function(t){e.$set(e.data.options,"onpreclick",t)},expression:"data.options.onpreclick"}})],1):e._e(),"button"==e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onpostclick：")]),a("mf-input",{model:{value:e.data.options.onpostclick,callback:function(t){e.$set(e.data.options,"onpostclick",t)},expression:"data.options.onpostclick"}})],1):e._e()])}),[],!1,null,null,null).exports),C={name:"RelationProp",props:["data"],data:()=>({}),methods:{}},T=(a("3959"),Object(s.a)(C,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("div",[a("label",{staticClass:"left-label"},[e._v("级联类型：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.relationType,callback:function(t){e.$set(e.data.options,"relationType",t)},expression:"data.options.relationType"}},[a("el-option",{key:"similar",attrs:{label:"规则",value:"similar"}}),a("el-option",{key:"unsimilar",attrs:{label:"不规则",value:"unsimilar"}})],1)],1),a("div",[a("label",{staticClass:"left-label"},[e._v("级联组件编码：")]),a("mf-input",{model:{value:e.data.options.relationId,callback:function(t){e.$set(e.data.options,"relationId",t)},expression:"data.options.relationId"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("规则编码总位数：")]),a("mf-number",{model:{value:e.data.options.digit,callback:function(t){e.$set(e.data.options,"digit",t)},expression:"data.options.digit"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("当前层次编码位数：")]),a("mf-number",{model:{value:e.data.options.levelDigit,callback:function(t){e.$set(e.data.options,"levelDigit",t)},expression:"data.options.levelDigit"}})],1)])}),[],!1,null,null,null).exports),D={name:"AdvancedProp",props:["data","dataSourceItem"],data(){return{showPageVarArea:this.data.options.isPageVar}},methods:{changeOptionType(e){this.showPageVarArea=e,!0===e?(this.dataSourceItem.optionsText="",this.dataSourceItem.options=""):(this.data.options.formVar="",this.data.options.entity="",this.data.options.itemLabel="",this.data.options.itemValue="")},openFormVar(e,t){openFormVar(e,t,this)},openEntity(e,t){openEntity(e,t,this)},openItemLabel(e,t){let a=t.options.entity;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;openItemLabel(e,t,this)},openItemValue(e,t){let a=t.options.entity;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;openItemValue(e,t,this)}}},V=(a("3b05"),Object(s.a)(D,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},["input"==e.data.type||"textarea"==e.data.type||"number"==e.data.type||"select"==e.data.type||"multiselect"==e.data.type||"listbox"==e.data.type||"popupselect"==e.data.type||"date"==e.data.type||"time"==e.data.type||"checkbox"==e.data.type||"checkboxgroup"==e.data.type||"radiogroup"==e.data.type||"DesignSingleFileUpload"==e.data.type||"DesignMultiFileUpload"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否必填：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否只读：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.readonlyStr,callback:function(t){e.$set(e.data.options,"readonlyStr",t)},expression:"data.options.readonlyStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("文本输出：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.toTextStr,callback:function(t){e.$set(e.data.options,"toTextStr",t)},expression:"data.options.toTextStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),"input"==e.data.type||"textarea"==e.data.type?a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("长度限制：")]),a("mf-number",{attrs:{min:0,max:20,step:1},model:{value:e.data.options.lengthLimit,callback:function(t){e.$set(e.data.options,"lengthLimit",t)},expression:"data.options.lengthLimit"}})],1):e._e(),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("扩展属性：")]),a("mf-input",{model:{value:e.data.options.extentionAttribute,callback:function(t){e.$set(e.data.options,"extentionAttribute",t)},expression:"data.options.extentionAttribute"}})],1),"select"==e.data.type||"multiselect"==e.data.type||"radiogroup"==e.data.type||"checkboxgroup"==e.data.type||"listbox"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("选项类型为表单变量：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},on:{change:function(t){return e.changeOptionType(t)}},model:{value:e.data.options.isPageVar,callback:function(t){e.$set(e.data.options,"isPageVar",t)},expression:"data.options.isPageVar"}})],1),e.showPageVarArea?a("div",[a("label",{staticClass:"left-label"},[e._v("表单变量：")]),a("mf-popupselect",{on:{click:function(t){return e.openFormVar(t,e.data)}},model:{value:e.data.options.formVar,callback:function(t){e.$set(e.data.options,"formVar",t)},expression:"data.options.formVar"}}),a("label",{staticClass:"left-label"},[e._v("业务对象：")]),a("mf-popupselect",{on:{click:function(t){return e.openEntity(t,e.data)}},model:{value:e.data.options.entity,callback:function(t){e.$set(e.data.options,"entity",t)},expression:"data.options.entity"}}),a("label",{staticClass:"left-label"},[e._v("显示名称：")]),a("mf-popupselect",{on:{click:function(t){return e.openItemLabel(t,e.data)}},model:{value:e.data.options.itemLabel,callback:function(t){e.$set(e.data.options,"itemLabel",t)},expression:"data.options.itemLabel"}}),a("label",{staticClass:"left-label"},[e._v("显示值：")]),a("mf-popupselect",{on:{click:function(t){return e.openItemValue(t,e.data)}},model:{value:e.data.options.itemValue,callback:function(t){e.$set(e.data.options,"itemValue",t)},expression:"data.options.itemValue"}})],1):e._e()]:e._e()]:"SingleUserSelect"==e.data.type||"MultiUserSelect"==e.data.type||"SingleDeptSelect"==e.data.type||"MultiDeptSelect"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("绑定值：")]),a("mf-input",{model:{value:e.data.options.propertyA,callback:function(t){e.$set(e.data.options,"propertyA",t)},expression:"data.options.propertyA"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否必填：")]),a("el-switch",{model:{value:e.data.options.propertyC,callback:function(t){e.$set(e.data.options,"propertyC",t)},expression:"data.options.propertyC"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否只读：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.propertyF,callback:function(t){e.$set(e.data.options,"propertyF",t)},expression:"data.options.propertyF"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("文本输出：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.propertyG,callback:function(t){e.$set(e.data.options,"propertyG",t)},expression:"data.options.propertyG"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("onblur：")]),a("mf-input",{model:{value:e.data.options.propertyE,callback:function(t){e.$set(e.data.options,"propertyE",t)},expression:"data.options.propertyE"}})],1)]:"ProcessOpinion"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("文本输出：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.propertyG,callback:function(t){e.$set(e.data.options,"propertyG",t)},expression:"data.options.propertyG"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1)]:[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1)]],2)}),[],!1,null,null,null).exports);const I=function(e){let t=null;var a=e.mainTable;let i=a[a.length-1].key;var l=e.repeatTable,s=e.repeatRTable;if(0!=l.length||0!=s.length){let e="0",a="0";if(0!=l.length){let t=l[l.length-1].columns[0].key;e=t.substring(8,t.length)}if(0!=s.length){let e=s[s.length-1].columns[0].key;a=e.substring(8,e.length)}let n=1;n=Number(e)>Number(a)?Number(e)+1:Number(a)+1,t=i+n}else t=i+2;return t},F=function(e,t){let a=t.mainTable.key,i=2;return e.startsWith(a)&&(i=e.substring(e.indexOf(a)+a.length)),1==i.toString().length?i="00"+i:2==i.toString().length&&(i="0"+i),i},O=function(e){let t="";e.startsWith("sm")&&(t="s");let a=e.substring(e.indexOf("field")+5);return 1==a.toString().length?a=t+"00"+a:2==a.toString().length&&(a=t+"0"+a),a},M=function(e){let t=1;return"number"==e?t=3:"date"==e?t=7:"checkbox"==e&&(t=6),t},N=function(e){let t=255;return"textarea"==e?t=2e3:"number"==e&&(t=12),t},P=function(e,t){let a={columns:{},columnsIndex:-1,inColumnsIndex:0,flag:"",tableCode:""},i=t.mainTable,l=t.repeatTable,s=t.repeatRTable;if(!i)return a;if(i&&i.key==e)return a.columns=i,a;for(let n=i.length-1;n>=0;n--)for(let t=0;t<=i[n].columns.length-1;t++)if(i[n].columns[t].key==e)return a.columns=i[n].columns[t],a.columnsIndex=n,a.flag="mainTable",a.tableCode=i.key,a;for(let n=l.length-1;n>=0;n--)for(let t=l[n].columns.length-1;t>=0;t--)if(l[n].columns[t].key==e)return a.columns=l[n].columns[t],a.columnsIndex=n,a.flag="repeatTable",a.tableCode=l[n].columns[0].key,a;for(let n=s.length-1;n>=0;n--)for(let t=s[n].columns.length-1;t>=0;t--)if(s[n].columns[t].key==e)return a.columns=s[n].columns[t],a.columnsIndex=n,a.inColumnsIndex=t,a.flag="repeatRTable",a.tableCode=s[n].columns[0].key,a;return a},W=function(e,t,a){let i=t.dataSource;if(e||(e=1!=t.designType?I(i):"subTable"+Date.parse(new Date)),1!=t.designType){var l=i.repeatTable,s=F(e,i),n={},o=[],r={type:"EditList"};r.key=e,r.name=a.name+s,r.isNew="true",o.push(r),n.columns=o,l.push(n)}return e},L=function(e,t,a){let i=t.dataSource,l=t.designType;if(e||(e=function(e,t){let a=null;var i=e.mainTable;let l="";if(1!=t)if(l=i[i.length-1].key,0==i[i.length-1].columns.length)a="m"+l+"field1";else{const e=i[i.length-1];let t=e.columns[e.columns.length-1].key,s=t.substring(14,t.length);a="m"+l+"field"+(Number(s)+1)}else a="field"+Date.parse(new Date);return a}(i,l)),1!=l){var s=i.mainTable,n=a.type,o=O(e),r={};r.uiType=n,r.key=e,r.name=a.name+o,r.isNew="true",r.isKey="false",r.isCol="true",r.isSystemCol="false",r.isRequired="false",r.desc="",r.precision="",r.state="",r.calculate="",r.uiExtType="",r.entityType="",r.enabled="",r.phase=4,r.defaultValue="",r.options="",r.optionsText="",r.displayFormat="",r.type=M(n),r.length=N(n),s[0].columns.push(r)}return e},j=function(e,t,a,i){let l=t.dataSource,s=t.designType;if(e||(e=function(e,t){let a=null;var i=e.mainTable,l=e.repeatTable,s=e.repeatRTable;let n=i[i.length-1].key,o="";for(var r=l.length-1;r>=0;r--)if(1!=l[r].columns.length){let e=l[r].columns[l[r].columns.length-1].key;o=e.substring(14,e.length);break}let d="";for(r=s.length-1;r>=0;r--)if(1!=s[r].columns.length){let e=s[r].columns[s[r].columns.length-1].key;d=e.substring(14,e.length);break}let c=1;return c=Number(o)>Number(d)?Number(o)+1:Number(d)+1,a="s"+n+"field"+c,a||(a="s"+n+"field1"),a}(l)),1!=s){var n=function(e,t,a){var i={},l=a.key;let s=a.type;if("EditList"==s)for(var n=t.repeatTable,o=n.length-1;o>=0;o--)n[o].columns[0].key==l&&(i=n[o].columns);else if("DataList"==s){var r=t.repeatRTable;for(o=r.length-1;o>=0;o--)r[o].columns[0].key==l&&(i=r[o].columns)}return i}(0,l,i),o=a.type,r=O(e),d={};d.uiType=o,d.key=e,d.name=a.name+r,d.isNew="true",d.isKey="false",d.isCol="true",d.isSystemCol="false",d.isRequired="false",d.desc="",d.precision="",d.state="",d.calculate="",d.uiExtType="",d.entityType="",d.enabled="",d.phase=4,d.defaultValue="",d.options="",d.optionsText="",d.displayFormat="",d.type=M(o),d.length=N(o),n.push(d)}return e},E=function(e,t,a,i){"EditList"==e?R(t,i):"DataList"==e?A(t,i):"Grid"==e?U(t,a,i):"TitlePanel"==e?z(t,a,i):"TabContainer"==e?q(t,a,i):"HorizontalContainer"==e?H(t,a,i):(B(t,i),R(t,i),A(t,i))},B=function(e,t){let a=t.mainTable;var i={},l=0,s=0;for(let n=a.length-1;n>=0;n--)for(let t=0;t<=a[n].columns.length-1;t++)if(a[n].columns[t].key==e){i=a[n].columns[t],l=n,s=t;break}Object.keys(i).length>0&&(i.isNew?a[l].columns.splice(s,1):i.isDelete="true")},R=function(e,t){let a=t.repeatTable;for(var i={},l=0,s=0,n=a.length-1;n>=0;n--)for(var o=a[n].columns.length-1;o>=0;o--)if(a[n].columns[o].key==e){i=a[n].columns,l=n,s=o;break}Object.keys(i).length>0&&(i[s].isNew?a.splice(l,1):i[s].isDelete="true")},A=function(e,t){let a=t.repeatRTable;for(var i={},l=0,s=0,n=a.length-1;n>=0;n--)for(var o=a[n].columns.length-1;o>=0;o--)if(a[n].columns[o].key==e){i=a[n].columns,l=n,s=o;break}Object.keys(i).length>0&&(i[s].isNew?a.splice(l,1):i[s].isDelete="true")},U=function(e,t,a){t.columns.forEach((function(e,t,i){e.list.forEach((function(e,t,i){E(e.type,e.key,e,a)}))}))},z=function(e,t,a){t.list.forEach((function(e,t,i){E(e.type,e.key,e,a)}))},q=function(e,t,a){t.tabPanels.forEach((function(e,t,i){e.list.forEach((function(e,t,i){E(e.type,e.key,e,a)}))}))},H=function(e,t,a){t.list.forEach((function(e,t,i){e.list.forEach((function(e,t,i){E(e.type,e.key,e,a)}))}))},G=function(e,t){var a=0,i={};for(i.num=a,i.recordNum=0,t.list.forEach((function(t,a,l){J(e,t,i)})),a=i.num+i.recordNum,a=(a=parseInt(a,10)).toString();a.length<3;)a="0"+a;return a},J=function(e,t,a){e==t.type?Q(t,a):"EditList"==t.type?K(e,t,a):"DataList"==t.type?X(e,t,a):"Grid"==t.type?K(e,t,a):"TitlePanel"==t.type?X(e,t,a):"TabContainer"==t.type?Y(e,t,a):"HorizontalContainer"==t.type&&Z(e,t,a)},Q=function(e,t){if(e.key){var a=e.key.substring(e.key.length-3);parseInt(a)>t.num&&(t.num=parseInt(a))}else t.recordNum++},K=function(e,t,a){t.columns.forEach((function(t,i,l){t.list.forEach((function(t,i,l){J(e,t,a)}))}))},X=function(e,t,a){t.list.forEach((function(t,i,l){J(e,t,a)}))},Y=function(e,t,a){t.tabPanels.forEach((function(t,i,l){t.list.forEach((function(t,i,l){J(e,t,a)}))}))},Z=function(e,t,a){t.list.forEach((function(t,i,l){t.list.forEach((function(t,i,l){J(e,t,a)}))}))};var ee={components:{Draggable:x.a,JsEvent:_,AdvancedProp:V,RelationProp:T},props:["data","dataSourceItem","designType","result"],data:()=>({}),computed:{show(){return!!(this.data&&Object.keys(this.data).length>0)},designDisabled(){return 1==this.designType&&(!this.data.value||void 0)},titleShow(){return!(["EditList","DataList","Grid","label","innerhtml","image","button","TabContainer","Tree","IncludeForm","HorizontalContainer","QueryList"].indexOf(this.data.type)>=0)}},mounted(){},methods:{handleOptionsRemove(e){"EditList"===this.data.type||"Grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn(){let e=0;for(let t=0;t<this.data.columns.length;t++)if(e+=Number(this.data.columns[t].span),e>=24)return void layer.msg("达到最大栅格配置,请重新分配后添加列",{icon:0});this.data.columns.push({span:String(24-e),gridPosition:"",list:[]})},handleSelectMuliple(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},handleSelectMuliple(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},openDataValidator(){this.$emit("openOuterDialog",this.data.dataValidators)},openTabSet(){this.$emit("openTabSetDialog",this.data.tabPanels)},coppyArray:e=>e.map(e=>"object"==typeof e?Object.assign({},e):e),openStyleSet(e,t){openStyle(e,t)},openSelectCode(e,t){onselectItemsClick(e,t,this)},openAttributeSet(e,t){this.loadModelAndSource(),openAttributeSet(e,t,this)},openSelectFormTree(e,t){openSelectFormTree(e,t,this)},loadModelAndSource(){this.$emit("loadModelAndSource")},openBindDataValue(e,t){onBindDataValueClick(e,t)},openDataObject(e,t){onDataObjectClick(e,t)},openRelationPro(e,t){let a=t.options.dataObject;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;onRelationProClick(e,t)},openRelationProValue(e,t){onRelationProValueClick(e,t)},openFileId(e,t){onFileIdClick(e,t)},openFileName(e,t){onFileNameClick(e,t)},openFileSize(e,t){onFileSizeClick(e,t)},openContents(e,t){onContentsClick(e,t)},openBindId(e,t){onBindIdClick(e,t)},openBindName(e,t){onBindNameClick(e,t)},checkFieldName(e,t){var a=e.target.value;if(""==(a=a.replace(/(^\s*)|(\s*$)/g,""))||null==a||null==a)return e.target.focus(),layer.msg("字段名称不能为空！"),!1;if(a==t)return!1;let i=this.result.mainTable,l=this.result.repeatTable,s=this.result.repeatRTable;for(var n=!1,o=0;o<=i.columns.length-1;o++)if(i.columns[o].name==a){n=!0;break}for(o=l.length-1;o>=0;o--)for(var r=l[o].columns.length-1;r>=0;r--)if(l[o].columns[r].name==a){n=!0;break}for(o=s.length-1;o>=0;o--)for(r=s[o].columns.length-1;r>=0;r--)if(s[o].columns[r].name==a){n=!0;break}n?(e.target.focus(),layer.msg("字段名称重复！")):this.dataSourceItem.name=a},openBindValue(e,t){openBindValueClick(e,t,this)},loadFormBySession(){this.$emit("loadFormBySession")},handleCompontentSet(e,t){this.$emit("handleCompontentSet",t,{list:null,newIndex:null},this)},setDataSourceItem(e){let t=P(e,this.result).columns;return this.$emit("update:dataSourceItem",t),this.dataSourceItem=t,null!=this.dataSourceItem.options&&""!=this.dataSourceItem.options&&this.clearPageVar(),t},clearPageVar(){1==this.designType&&(this.data.options.isPageVar=!1,this.data.options.formVar="",this.data.options.entity="",this.data.options.itemLabel="",this.data.options.itemValue="")}},watch:{"dataSourceItem.precision":function(e){void 0!==this.data&&"number"==this.data.type&&(0==Number(e)?(this.dataSourceItem.type=3,this.dataSourceItem.length=12):(this.dataSourceItem.type=9,this.dataSourceItem.length=11))}}},te=(a("0027"),Object(s.a)(ee,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",[a("mf-form",{attrs:{"labmf-position":"top"}},[a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.id")}},[a("mf-input",{attrs:{readonly:""},model:{value:e.data.key,callback:function(t){e.$set(e.data,"key",t)},expression:"data.key"}})],1),"splitline"!=e.data.type?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},["TitlePanel"==e.data.type||"TabContainer"==e.data.type||"Grid"==e.data.type||"label"==e.data.type||"innerhtml"==e.data.type||"image"==e.data.type||"button"==e.data.type||"Tree"==e.data.type||"IncludeForm"==e.data.type||"HorizontalContainer"==e.data.type||1==e.designType?[a("mf-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})]:[a("input",{staticClass:"form-control",domProps:{value:e.dataSourceItem.name},on:{blur:function(t){return e.checkFieldName(t,e.dataSourceItem.name)}}})]],2):e._e(),e.titleShow?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fieldTitle")}},[a("mf-input",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1):e._e(),Object.keys(e.data.options).indexOf("styleText")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.styleText")}},[a("mf-popupselect",{on:{click:function(t){return e.openStyleSet(t,e.data)}},model:{value:e.data.options.styleText,callback:function(t){e.$set(e.data.options,"styleText",t)},expression:"data.options.styleText"}})],1):e._e(),Object.keys(e.data).indexOf("value")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindValue")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindValue(t,e.data)}},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1):e._e(),2==e.designType&&Object.keys(e.data.options).indexOf("length")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.length")}},[a("mf-number",{model:{value:e.dataSourceItem.length,callback:function(t){e.$set(e.dataSourceItem,"length",t)},expression:"dataSourceItem.length"}})],1):e._e(),2==e.designType&&Object.keys(e.data.options).indexOf("precision")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.precision")}},[a("mf-number",{model:{value:e.dataSourceItem.precision,callback:function(t){e.$set(e.dataSourceItem,"precision",t)},expression:"dataSourceItem.precision"}})],1):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:"",disabled:e.designDisabled},model:{value:e.dataSourceItem.defaultValue,callback:function(t){e.$set(e.dataSourceItem,"defaultValue",t)},expression:"dataSourceItem.defaultValue"}},["SingleUserSelect"==e.data.type||"MultiUserSelect"==e.data.type||"input"==e.data.type?[a("el-option",{key:"#{FormValue.userName}",attrs:{label:"当前用户名称",value:"#{FormValue.userName}"}})]:e._e(),"SingleDeptSelect"==e.data.type||"MultiDeptSelect"==e.data.type||"input"==e.data.type?[a("el-option",{key:"#{FormValue.depName}",attrs:{label:"当前用户部门名称",value:"#{FormValue.depName}"}}),a("el-option",{key:"#{FormValue.parentDepName}",attrs:{label:"当前用户上级部门名称",value:"#{FormValue.parentDepName}"}}),a("el-option",{key:"#{FormValue.topDepName}",attrs:{label:"当前用户一级部门名称",value:"#{FormValue.topDepName}"}}),a("el-option",{key:"#{FormValue.secondDepName}",attrs:{label:"当前用户二级部门名称",value:"#{FormValue.secondDepName}"}}),a("el-option",{key:"#{FormValue.orgName}",attrs:{label:"当前用户机构名称",value:"#{FormValue.orgName}"}})]:e._e(),"date"==e.data.type?[a("el-option",{key:"#{FormValue.date}",attrs:{label:"当前日期",value:"#{FormValue.date}"}}),a("el-option",{key:"#{FormValue.dateTime}",attrs:{label:"当前日期时间",value:"#{FormValue.dateTime}"}})]:e._e(),"time"==e.data.type?[a("el-option",{key:"#{FormValue.time}",attrs:{label:"当前时间",value:"#{FormValue.time}"}})]:e._e(),"checkbox"==e.data.type?[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})]:e._e()],2)],1):e._e(),Object.keys(e.data.options).indexOf("columns")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.columns")}},[a("mf-number",{attrs:{min:1,max:20,step:1},model:{value:e.data.options.columns,callback:function(t){e.$set(e.data.options,"columns",t)},expression:"data.options.columns"}})],1):e._e(),Object.keys(e.data.options).indexOf("labelValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.labelValue")}},[a("mf-input",{model:{value:e.data.options.labelValue,callback:function(t){e.$set(e.data.options,"labelValue",t)},expression:"data.options.labelValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("catalogId")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.catalogId")}},[a("mf-popupselect",{attrs:{readonly:e.designDisabled},on:{click:function(t){return e.openSelectCode(t,e.dataSourceItem,this)}},model:{value:e.dataSourceItem.optionsText,callback:function(t){e.$set(e.dataSourceItem,"optionsText",t)},expression:"dataSourceItem.optionsText"}}),a("mf-input",{attrs:{type:"hidden"},model:{value:e.dataSourceItem.options,callback:function(t){e.$set(e.dataSourceItem,"options",t)},expression:"dataSourceItem.options"}})],1):e._e(),Object.keys(e.data.options).indexOf("textPattern")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.textPattern")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:"",disabled:e.designDisabled},model:{value:e.data.options.textPattern,callback:function(t){e.$set(e.data.options,"textPattern",t)},expression:"data.options.textPattern"}},[a("el-option",{key:"#.##%",attrs:{label:"百分号",value:"#.##%"}}),a("el-option",{key:"#,##0.00",attrs:{label:"千分位",value:"#,##0.00"}}),a("el-option",{key:"DHM",attrs:{label:"*天*时*分",value:"DHM"}}),a("el-option",{key:"DAY",attrs:{label:"*天",value:"DAY"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("mf-form-item",{attrs:{label:"number"==e.data.type?e.$t("fm.config.widget.hint"):e.$t("fm.config.widget.datePattern")}},["number"==e.data.type?[a("mf-input",{attrs:{size:"mini"},model:{value:e.dataSourceItem.displayFormat,callback:function(t){e.$set(e.dataSourceItem,"displayFormat",t)},expression:"dataSourceItem.displayFormat"}})]:e._e(),"date"==e.data.type?[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"",disabled:e.designDisabled},model:{value:e.dataSourceItem.displayFormat,callback:function(t){e.$set(e.dataSourceItem,"displayFormat",t)},expression:"dataSourceItem.displayFormat"}},[a("el-option",{key:"yyyy-MM-dd",attrs:{label:"yyyy-MM-dd",value:"yyyy-MM-dd"}}),a("el-option",{key:"yyyy年MM月dd日",attrs:{label:"yyyy年MM月dd日",value:"yyyy年MM月dd日"}}),a("el-option",{key:"yyyy-MM-dd HH:mm",attrs:{label:"yyyy-MM-dd HH:mm",value:"yyyy-MM-dd HH:mm"}}),a("el-option",{key:"yyyy年MM月dd日 HH:mm",attrs:{label:"yyyy年MM月dd日 HH:mm",value:"yyyy年MM月dd日 HH:mm"}})],1)]:e._e()],2):e._e(),Object.keys(e.data.options).indexOf("mask")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.mask")}},[a("mf-input",{attrs:{size:"mini"},model:{value:e.data.options.mask,callback:function(t){e.$set(e.data.options,"mask",t)},expression:"data.options.mask"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("mf-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("isCurrency")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isCurrency")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isCurrency,callback:function(t){e.$set(e.data.options,"isCurrency",t)},expression:"data.options.isCurrency"}})],1):e._e(),Object.keys(e.data.options).indexOf("preDeduction")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.preDeduction")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.preDeduction,callback:function(t){e.$set(e.data.options,"preDeduction",t)},expression:"data.options.preDeduction"}})],1):e._e(),Object.keys(e.data.options).indexOf("showPreview")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showPreview")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showPreview,callback:function(t){e.$set(e.data.options,"showPreview",t)},expression:"data.options.showPreview"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileType")}},[a("mf-input",{model:{value:e.data.options.fileType,callback:function(t){e.$set(e.data.options,"fileType",t)},expression:"data.options.fileType"}})],1):e._e(),Object.keys(e.data.options).indexOf("maxFileCount")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.maxFileCount")}},[a("mf-number",{attrs:{min:1,max:20,step:1},model:{value:e.data.options.maxFileCount,callback:function(t){e.$set(e.data.options,"maxFileCount",t)},expression:"data.options.maxFileCount"}})],1):e._e(),Object.keys(e.data.options).indexOf("showMultiComments")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showMultiComments")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showMultiComments,callback:function(t){e.$set(e.data.options,"showMultiComments",t)},expression:"data.options.showMultiComments"}})],1):e._e(),Object.keys(e.data.options).indexOf("showDep")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showDep")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showDep,callback:function(t){e.$set(e.data.options,"showDep",t)},expression:"data.options.showDep"}})],1):e._e(),Object.keys(e.data.options).indexOf("showMinimizeButton")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showMinimizeButton")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showMinimizeButton,callback:function(t){e.$set(e.data.options,"showMinimizeButton",t)},expression:"data.options.showMinimizeButton"}})],1):e._e(),Object.keys(e.data.options).indexOf("showTitle")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showTitle")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showTitle,callback:function(t){e.$set(e.data.options,"showTitle",t)},expression:"data.options.showTitle"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLine")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showLine")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showLine,callback:function(t){e.$set(e.data.options,"showLine",t)},expression:"data.options.showLine"}})],1):e._e(),Object.keys(e.data.options).indexOf("contentValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.contentValue")}},["label"==e.data.type||"button"==e.data.type?[a("mf-input",{model:{value:e.data.options.contentValue,callback:function(t){e.$set(e.data.options,"contentValue",t)},expression:"data.options.contentValue"}})]:e._e(),"innerhtml"==e.data.type?[a("mf-textarea",{attrs:{styleText:"height:72px;"},model:{value:e.data.options.contentValue,callback:function(t){e.$set(e.data.options,"contentValue",t)},expression:"data.options.contentValue"}})]:e._e()],2):e._e(),Object.keys(e.data.options).indexOf("styleClass")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.styleClass")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.styleClass,callback:function(t){e.$set(e.data.options,"styleClass",t)},expression:"data.options.styleClass"}},[a("el-option",{key:"label",attrs:{label:"普通标签",value:"label"}}),a("el-option",{key:"tableTitle",attrs:{label:"表头标签",value:"tableTitle"}}),a("el-option",{key:"seqNumStyle",attrs:{label:"编码标签",value:"seqNumStyle"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("imgSrc")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.imgSrc")}},[a("mf-input",{model:{value:e.data.options.imgSrc,callback:function(t){e.$set(e.data.options,"imgSrc",t)},expression:"data.options.imgSrc"}})],1):e._e(),Object.keys(e.data.options).indexOf("btnType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.btnType")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.data.options.btnType,callback:function(t){e.$set(e.data.options,"btnType",t)},expression:"data.options.btnType"}},[a("el-option",{key:"cancel",attrs:{label:"默认",value:"cancel"}}),a("el-option",{key:"ok",attrs:{label:"原始",value:"ok"}}),a("el-option",{key:"success",attrs:{label:"成功",value:"success"}}),a("el-option",{key:"info",attrs:{label:"信息",value:"info"}}),a("el-option",{key:"warning",attrs:{label:"警告",value:"warning"}}),a("el-option",{key:"danger",attrs:{label:"危险",value:"danger"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("formDid")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.formDid")}},[a("mf-popupselect",{on:{click:function(t){return e.openSelectFormTree(t,e.data)}},model:{value:e.data.options.formName,callback:function(t){e.$set(e.data.options,"formName",t)},expression:"data.options.formName"}}),a("mf-input",{attrs:{type:"hidden"},model:{value:e.data.options.formDid,callback:function(t){e.$set(e.data.options,"formDid",t)},expression:"data.options.formDid"}})],1):e._e(),Object.keys(e.data.options).indexOf("renderFormTag")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.renderFormTag")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.renderFormTag,callback:function(t){e.$set(e.data.options,"renderFormTag",t)},expression:"data.options.renderFormTag"}})],1):e._e(),Object.keys(e.data.options).indexOf("src")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.src")}},[a("mf-input",{model:{value:e.data.options.src,callback:function(t){e.$set(e.data.options,"src",t)},expression:"data.options.src"}})],1):e._e(),Object.keys(e.data.options).indexOf("method")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.method")}},[a("mf-input",{model:{value:e.data.options.method,callback:function(t){e.$set(e.data.options,"method",t)},expression:"data.options.method"}})],1):e._e(),Object.keys(e.data.options).indexOf("popupTitle")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.popupTitle")}},[a("mf-input",{model:{value:e.data.options.popupTitle,callback:function(t){e.$set(e.data.options,"popupTitle",t)},expression:"data.options.popupTitle"}})],1):e._e(),Object.keys(e.data.options).indexOf("bindDataValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindDataValue")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindDataValue(t,e.data)}},model:{value:e.data.options.bindDataValue,callback:function(t){e.$set(e.data.options,"bindDataValue",t)},expression:"data.options.bindDataValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("dataObject")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.dataObject")}},[a("mf-popupselect",{on:{click:function(t){return e.openDataObject(t,e.data)}},model:{value:e.data.options.dataObject,callback:function(t){e.$set(e.data.options,"dataObject",t)},expression:"data.options.dataObject"}})],1):e._e(),Object.keys(e.data.options).indexOf("relationPro")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.relationPro")}},[a("mf-popupselect",{on:{click:function(t){return e.openRelationPro(t,e.data)}},model:{value:e.data.options.relationPro,callback:function(t){e.$set(e.data.options,"relationPro",t)},expression:"data.options.relationPro"}})],1):e._e(),Object.keys(e.data.options).indexOf("relationProValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.relationProValue")}},[a("mf-popupselect",{on:{click:function(t){return e.openRelationProValue(t,e.data)}},model:{value:e.data.options.relationProValue,callback:function(t){e.$set(e.data.options,"relationProValue",t)},expression:"data.options.relationProValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileId")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileId")}},[a("mf-popupselect",{on:{click:function(t){return e.openFileId(t,e.data)}},model:{value:e.data.options.fileId,callback:function(t){e.$set(e.data.options,"fileId",t)},expression:"data.options.fileId"}})],1):e._e(),Object.keys(e.data.options).indexOf("displayMsg")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.displayMsg")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.displayMsg,callback:function(t){e.$set(e.data.options,"displayMsg",t)},expression:"data.options.displayMsg"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileName")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileName")}},[a("mf-popupselect",{on:{click:function(t){return e.openFileName(t,e.data)}},model:{value:e.data.options.fileName,callback:function(t){e.$set(e.data.options,"fileName",t)},expression:"data.options.fileName"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileSizes")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileSizes")}},[a("mf-popupselect",{on:{click:function(t){return e.openFileSize(t,e.data)}},model:{value:e.data.options.fileSizes,callback:function(t){e.$set(e.data.options,"fileSizes",t)},expression:"data.options.fileSizes"}})],1):e._e(),Object.keys(e.data.options).indexOf("contents")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.contents")}},[a("mf-popupselect",{on:{click:function(t){return e.openContents(t,e.data)}},model:{value:e.data.options.contents,callback:function(t){e.$set(e.data.options,"contents",t)},expression:"data.options.contents"}})],1):e._e(),Object.keys(e.data.options).indexOf("queryCondition")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.queryCondition")}},[a("mf-input",{model:{value:e.data.options.queryCondition,callback:function(t){e.$set(e.data.options,"queryCondition",t)},expression:"data.options.queryCondition"}})],1):e._e(),Object.keys(e.data.options).indexOf("saveType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.saveType")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.data.options.saveType,callback:function(t){e.$set(e.data.options,"saveType",t)},expression:"data.options.saveType"}},[a("el-option",{key:"file",attrs:{label:"file",value:"file"}}),a("el-option",{key:"db",attrs:{label:"db",value:"db"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("fileRootPath")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileRootPath")}},[a("mf-input",{model:{value:e.data.options.fileRootPath,callback:function(t){e.$set(e.data.options,"fileRootPath",t)},expression:"data.options.fileRootPath"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileSubPath")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileSubPath")}},[a("mf-input",{model:{value:e.data.options.fileSubPath,callback:function(t){e.$set(e.data.options,"fileSubPath",t)},expression:"data.options.fileSubPath"}})],1):e._e(),Object.keys(e.data.options).indexOf("isDowload")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isDowload")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isDowload,callback:function(t){e.$set(e.data.options,"isDowload",t)},expression:"data.options.isDowload"}})],1):e._e(),Object.keys(e.data.options).indexOf("isView")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isView")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isView,callback:function(t){e.$set(e.data.options,"isView",t)},expression:"data.options.isView"}})],1):e._e(),Object.keys(e.data.options).indexOf("isDeleted")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isDeleted")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isDeleted,callback:function(t){e.$set(e.data.options,"isDeleted",t)},expression:"data.options.isDeleted"}})],1):e._e(),Object.keys(e.data.options).indexOf("uploadAgain")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.uploadAgain")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.uploadAgain,callback:function(t){e.$set(e.data.options,"uploadAgain",t)},expression:"data.options.uploadAgain"}})],1):e._e(),Object.keys(e.data.options).indexOf("annexSize")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.annexSize")}},[a("mf-number",{model:{value:e.data.options.annexSize,callback:function(t){e.$set(e.data.options,"annexSize",t)},expression:"data.options.annexSize"}})],1):e._e(),Object.keys(e.data.options).indexOf("annexType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.annexType")}},[a("mf-input",{model:{value:e.data.options.annexType,callback:function(t){e.$set(e.data.options,"annexType",t)},expression:"data.options.annexType"}})],1):e._e(),Object.keys(e.data.options).indexOf("annexNum")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.annexNum")}},[a("mf-number",{model:{value:e.data.options.annexNum,callback:function(t){e.$set(e.data.options,"annexNum",t)},expression:"data.options.annexNum"}})],1):e._e(),Object.keys(e.data.options).indexOf("bindId")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindId")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindId(t,e.data)}},model:{value:e.data.options.bindId,callback:function(t){e.$set(e.data.options,"bindId",t)},expression:"data.options.bindId"}})],1):e._e(),Object.keys(e.data.options).indexOf("bindName")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindName")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindName(t,e.data)}},model:{value:e.data.options.bindName,callback:function(t){e.$set(e.data.options,"bindName",t)},expression:"data.options.bindName"}})],1):e._e(),a("mf-input",{attrs:{type:"hidden"},model:{value:e.data.options.isDesign,callback:function(t){e.$set(e.data.options,"isDesign",t)},expression:"data.options.isDesign"}}),Object.keys(e.data.options).indexOf("colClass")>=0&&"EditList"!=e.data.type&&"DataList"!=e.data.type&&"splitline"!=e.data.type&&"TitlePanel"!=e.data.type&&"TabContainer"!=e.data.type&&"Grid"!=e.data.type&&"Tree"!=e.data.type&&"IncludeForm"!=e.data.type&&"HorizontalContainer"!=e.data.type?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fieldCol")}},[a("mf-number",{attrs:{min:1,max:12,step:1},model:{value:e.data.options.colClass,callback:function(t){e.$set(e.data.options,"colClass",t)},expression:"data.options.colClass"}})],1):e._e(),"EditList"!=e.data.type&&"Grid"!=e.data.type||1==e.designType?e._e():[a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}}),a("mf-form-item",[a("draggable",e._b({staticStyle:{width:"266px"},attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),"Grid"==e.data.type?a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:""},model:{value:t.gridPosition,callback:function(a){e.$set(t,"gridPosition",a)},expression:"item.gridPosition"}},[a("el-option",{key:"left",attrs:{label:e.$t("fm.config.form.labelPosition.left"),value:"left"}}),a("el-option",{key:"center",attrs:{label:e.$t("fm.config.form.labelPosition.center"),value:"center"}}),a("el-option",{key:"right",attrs:{label:e.$t("fm.config.form.labelPosition.right"),value:"right"}})],1):e._e(),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1)],Object.keys(e.data.options).indexOf("height")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},["TitlePanel"==e.data.type||"TabContainer"==e.data.type||"IncludeForm"==e.data.type?[a("div",{staticClass:"col-md-12 input-group"},[a("mf-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1)]:"Grid"==e.data.type?[a("div",{staticClass:"col-md-12 input-group"},[a("mf-input",{staticStyle:{width:"90%",display:"inline-flex"},model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}}),a("label",{staticStyle:{width:"10%","padding-left":"4px","font-size":"18px"}},[e._v("px")])],1)]:e._e()],2):e._e(),a("el-collapse",{staticClass:"col-md-12"},[1==e.designType&&"select"==e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.relationProp"),name:"relationProp"}},[a("relation-prop",{attrs:{data:e.data}})],1):e._e(),1==e.designType&&(Object.keys(e.data).indexOf("dataValidators")>=0||"button"==e.data.type)?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.jsEvent"),name:"jsEvent"}},[a("js-event",{attrs:{data:e.data}})],1):e._e(),"HorizontalContainer"==e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.leftContainer"),name:"leftContainer"}},[a("div",[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.id"))+"：")]),a("mf-input",{model:{value:e.data.list[0].id,callback:function(t){e.$set(e.data.list[0],"id",t)},expression:"data.list[0].id"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.name"))+"：")]),a("mf-input",{model:{value:e.data.list[0].name,callback:function(t){e.$set(e.data.list[0],"name",t)},expression:"data.list[0].name"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.width"))+"：")]),a("mf-input",{model:{value:e.data.list[0].width,callback:function(t){e.$set(e.data.list[0],"width",t)},expression:"data.list[0].width"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.isURLPanel"))+"：")]),a("el-switch",{model:{value:e.data.list[0].isURLPanel,callback:function(t){e.$set(e.data.list[0],"isURLPanel",t)},expression:"data.list[0].isURLPanel"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.viewURL"))+"：")]),a("mf-input",{model:{value:e.data.list[0].viewURL,callback:function(t){e.$set(e.data.list[0],"viewURL",t)},expression:"data.list[0].viewURL"}})],1)]):e._e(),"HorizontalContainer"==e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.rightContainer"),name:"rightContainer"}},[a("div",[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.id"))+"：")]),a("mf-input",{model:{value:e.data.list[1].id,callback:function(t){e.$set(e.data.list[1],"id",t)},expression:"data.list[1].id"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.name"))+"：")]),a("mf-input",{model:{value:e.data.list[1].name,callback:function(t){e.$set(e.data.list[1],"name",t)},expression:"data.list[1].name"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.isURLPanel"))+"：")]),a("el-switch",{model:{value:e.data.list[1].isURLPanel,callback:function(t){e.$set(e.data.list[1],"isURLPanel",t)},expression:"data.list[1].isURLPanel"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.viewURL"))+"：")]),a("mf-input",{model:{value:e.data.list[1].viewURL,callback:function(t){e.$set(e.data.list[1],"viewURL",t)},expression:"data.list[1].viewURL"}})],1)]):e._e(),1==e.designType&&"SingleFileUpload"!=e.data.type&&"MultiFileUpload"!=e.data.type&&"splitline"!=e.data.type&&"Tree"!=e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.advancedProp"),name:"advancedProp"}},[a("advanced-prop",{attrs:{data:e.data,dataSourceItem:e.dataSourceItem}})],1):e._e()],1),Object.keys(e.data).indexOf("dataValidators")>=0?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:e.openDataValidator}},[e._v(e._s(e.$t("fm.config.widget.dataValidate"))+"\n\t\t\t    ")])]):e._e(),"TabContainer"==e.data.type?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:e.openTabSet}},[e._v(e._s(e.$t("fm.config.widget.tabSet"))+"\n\t\t\t    ")])]):e._e(),"button"==e.data.type||"Tree"==e.data.type?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:function(t){return e.openAttributeSet(t,e.data)}}},[e._v(e._s(e.$t("fm.config.widget.attributeSet"))+"\n\t\t\t    ")])]):e._e(),"EditList"==e.data.type||"QueryList"==e.data.type?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:function(t){return e.handleCompontentSet(t,e.data)}}},[e._v(e._s(e.$t("fm.config.widget.attributeSet"))+"\n\t\t\t\t")])]):e._e()],2)],1):a("div",{staticClass:"emptyMsg"},[a("span",[e._v("请选择一个字段来设置属性")])])}),[],!1,null,null,null).exports),ae={name:"MfTextarea",componentName:"MfTextarea",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e="resize:none;",t=this.styleText;if(null==t||0==t.length)return"";t=t.toLowerCase();const a=t.split(";");for(let i=0;i<a.length;i++)-1!=a[i].indexOf("height")&&(e+=a[i]);return e}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},ie=Object(s.a)(ae,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("textarea",this._b({ref:"input",staticClass:"form-control text-area ",staticStyle:{width:"100%",height:"100%"},attrs:{id:this.id,name:this.name,readonly:this.readonly,styleText:this.styleText,type:"text"},on:{input:this.handleInput}},"textarea",this.$attrs,!1))]],2)}),[],!1,null,null,null).exports,le={components:{MfTextarea:ie},props:["data"],methods:{openDataUnique(){var e=this.$refs.dataUnique;this.loadModelAndSource(),openDataUniqueFun(e)},openJointValidation(){this.loadModelAndSource(),openJointValidationFun()},openDataFormula(){this.loadModelAndSource(),openDataFormulaFun()},openDataPower(){this.loadModelAndSource(),openDataPowerFun()},openDataEntry(){this.loadModelAndSource(),openDataEntryFun()},openTriggerAction(){this.loadModelAndSource(),openTriggerActionFun()},loadModelAndSource(){this.$emit("loadModelAndSource")},handleSetProperty(){openFormProperty(this)},_loadComponents(){this.$emit("_loadComponents")}}},se=Object(s.a)(le,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config-container"},[a("mf-form",{attrs:{"labmf-position":"top"}},[a("mf-form-item",{attrs:{label:e.$t("fm.config.form.formCode")}},[a("mf-input",{attrs:{id:"formCode",name:"formCode",readonly:!0},model:{value:e.data.formCode,callback:function(t){e.$set(e.data,"formCode",t)},expression:"data.formCode"}})],1),a("mf-form-item",{attrs:{label:e.$t("fm.config.form.formName")}},[a("mf-input",{attrs:{id:"formName",name:"formName",readonly:!0},model:{value:e.data.formName,callback:function(t){e.$set(e.data,"formName",t)},expression:"data.formName"}})],1),a("mf-form-item",{attrs:{label:e.$t("fm.config.form.col")}},[a("mf-number",{attrs:{min:1,max:12,step:1},model:{value:e.data.config.colClass,callback:function(t){e.$set(e.data.config,"colClass",t)},expression:"data.config.colClass"}})],1),1==e.data.designType?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.handleSetProperty}},[e._v(e._s(e.$t("fm.config.form.formProperty"))+"\n                ")])]):e._e(),a("mf-form-item",[a("mf-textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"dataUnique",model:{value:e.data.unionPKText,callback:function(t){e.$set(e.data,"unionPKText",t)},expression:"data.unionPKText"}}),a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataUnique}},[e._v(e._s(e.$t("fm.config.widget.requiredValid"))+"\n                ")])],1),a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openJointValidation}},[e._v(e._s(e.$t("fm.config.widget.jointValidation"))+"\n                ")])]),a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataFormula}},[e._v(e._s(e.$t("fm.config.widget.dataFormula"))+"\n            ")])]),a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataPower}},[e._v(e._s(e.$t("fm.config.widget.dataPower"))+"\n            ")])]),1!=e.data.designType?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataEntry}},[e._v(e._s(e.$t("fm.config.widget.dataEntry"))+"\n            ")])]):e._e(),1!=e.data.designType?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openTriggerAction}},[e._v(e._s(e.$t("fm.config.widget.triggerAction"))+"\n            ")])]):e._e(),a("mf-form-item",{attrs:{label:e.$t("fm.config.form.labelPosition.title")}},[a("el-radio-group",{staticClass:"col-md-12 input-group",model:{value:e.data.config.labelPosition,callback:function(t){e.$set(e.data.config,"labelPosition",t)},expression:"data.config.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.left")))]),a("el-radio-button",{attrs:{label:"right"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.right")))]),a("el-radio-button",{staticStyle:{width:"70px"},attrs:{label:"top"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.top")))]),a("el-radio-button",{attrs:{label:"center"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.center")))])],1)],1)],1)],1)}),[],!1,null,null,null).exports,ne={name:"WidgetFormItem",componentName:"WidgetFormItem",props:["element","select","index","data","result","selectDataSource","widgetForm","isIncludeForm"],components:{},data(){return{dataSource:{},selectWidget:this.select,seleDataSource:this.selectDataSource}},mounted(){},methods:{handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.dataSource=this.result;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.result),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return P(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},oe=Object(s.a)(ne,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key&&"label"!=e.element.type&&"innerhtml"!=e.element.type&&"image"!=e.element.type&&"button"!=e.element.type&&"Tree"!=e.element.type?a("mf-form-item",{staticClass:"widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,is_req:e.element.options.required},attrs:{label:"label"==e.element.type||"innerhtml"==e.element.type||"image"==e.element.type?"":e.element.title,colClass:"splitline"!=e.element.type?e.element.options.colClass:12,formItem:"formItem",labelClass:"splitline"==e.element.type?[]:["myLabClass","itemLable"],itemClass:"splitline"==e.element.type?"":"itemValue",type:e.element.type,isIncludeForm:e.isIncludeForm,isEditListItem:e.element.isEditListItem},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},["input"==e.element.type?[a("mf-input",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,mask:e.element.options.mask,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"date"==e.element.type?[a("mf-date",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"time"==e.element.type?[a("mf-time",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"number"==e.element.type?[a("mf-number",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"textarea"==e.element.type?[a("mf-textarea",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"select"==e.element.type?[a("mf-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,disabled:e.element.options.disabled,multiple:e.element.options.multiple,catalogIdText:e.element.options.catalogIdText,catalogId:e.element.options.catalogId,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"multiselect"==e.element.type?[a("mf-multiselect",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"listbox"==e.element.type?[a("mf-listbox",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"popupselect"==e.element.type?[a("mf-popupselect",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"radiogroup"==e.element.type?[a("mf-radio-group",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"checkboxgroup"==e.element.type?[a("mf-checkbox-group",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"checkbox"==e.element.type?[a("mf-checkbox",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled,labelValue:e.element.options.labelValue}})]:e._e(),"splitline"==e.element.type?[a("mf-splitline",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"SingleUserSelect"==e.element.type?[a("mf-single-user-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"MultiUserSelect"==e.element.type?[a("mf-multi-user-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"SingleDeptSelect"==e.element.type?[a("mf-single-dept-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"MultiDeptSelect"==e.element.type?[a("mf-multi-dept-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"SingleFileUpload"==e.element.type?[a("mf-single-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"MultiFileUpload"==e.element.type?[a("mf-multi-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"DesignSingleFileUpload"==e.element.type?[a("mf-single-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"DesignMultiFileUpload"==e.element.type?[a("mf-multi-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"ProcessOpinion"==e.element.type?[a("mf-process-opinion",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"editor"==e.element.type?[a("vue-editor",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"blank"==e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v("\n                "+e._s(e.$t("fm.components.fields.blank"))+"\n            ")])]:e._e(),"text"==e.element.type?[a("span",[e._v(e._s(e.element.options.defaultValue))])]:e._e(),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],2):e.element&&e.element.key&&"label"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-label",{attrs:{id:e.element.options.id,name:e.element.options.name,styleText:e.element.options.styleText,contentValue:e.element.options.contentValue,styleClass:e.element.options.styleClass}}),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"innerhtml"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-inner-html",{attrs:{id:e.element.options.id,name:e.element.options.name,styleText:e.element.options.styleText,contentValue:e.element.options.contentValue}}),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"image"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-image",{attrs:{id:e.element.options.id,name:e.element.options.name,imgSrc:e.element.options.imgSrc,styleText:e.element.options.styleText}}),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"button"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-button",{attrs:{id:e.element.options.id,name:e.element.options.name,contentValue:e.element.options.contentValue,styleText:e.element.options.styleText,btnType:e.element.options.btnType}}),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"Tree"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",style:"height: 100%;width: 100%;padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e.element&&e.element.key?a("mf-tree",{key:e.element.key,attrs:{element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,index:e.index,data:e.data,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e(),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,re={components:{Draggable:x.a,WidgetFormItem:oe},props:["data","select","selectDataSource"],data(){return{result:{},selectWidget:this.select,seleDataSource:this.selectDataSource,fromData:{row:null,colIndex:null}}},mounted(){document.body.ondrop=function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(e.preventDefault(),e.stopPropagation())}},methods:{loadFormBySession(){this.$emit("loadFormBySession")},handleCompontentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleCompontentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"data.dataSource":function(e){this.result=e}}},de=(a("60da"),Object(s.a)(re,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container",staticStyle:{height:"100%",margin:"auto"},style:{width:e.data.isMobile?"70%":"100%"}},[0==e.data.list.length?a("div",{staticClass:"form-empty"},[e._v(e._s(e.$t("fm.description.containerEmpty")))]):e._e(),a("mf-form",{staticStyle:{height:"calc(100% - 10px)"},attrs:{size:"small","label-suffix":":","label-position":e.data.config.labelPosition}},[a("form-container",{ref:"formContainer",attrs:{data:e.data,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.data,fromData:this.fromData},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadFormBySession:e.loadFormBySession,handleCompontentSet:function(t){return e.handleCompontentSet(arguments)}}})],1)],1)}),[],!1,null,null,null).exports),ce={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},computed:{show(){return!this.form||this.showForm}},data(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close(){this.dialogVisible=!1},submit(){this.loading=!0,this.$emit("on-submit")},end(){this.loading=!1}},mounted(){},watch:{dialogVisible(e){e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout(()=>{this.showForm=!1},300))},visible(e){this.dialogVisible=e}}},ue=(a("4b05"),Object(s.a)(ce,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",width:e.width,id:e.id},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("fm.actions.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("fm.actions.confirm")))])])],2):e._e()])}),[],!1,null,null,null).exports),pe=a("5f49").a,me=Object(s.a)(pe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"generateForm",attrs:{"label-suffix":":",size:e.data.config.size,model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth}},[e._l(e.data.list,(function(t){return["EditList"==t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[e._l(t.list,(function(t){return["blank"==t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("genetate-form-item",{key:t.key,attrs:{models:e.models,remote:e.remote,rules:e.rules,widget:t},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]}))],2)})),1)]:"blank"==t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:[a("genetate-form-item",{key:t.key,attrs:{models:e.models,rules:e.rules,widget:t,remote:e.remote},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]]}))],2)],1)}),[],!1,null,null,null).exports,he={name:"DataValidator",props:{dataValidatorTypes:Array},data(){return{outerVisible:!1,innerVisible:!1,blankClose:!1,escClose:!1,dialogTitle:"添加验证器",rowIndex:null,currentRow:null,tableData:[],dataValidator:{validatorType:"",validatorName:"",minValue:"",maxValue:"",functionName:"",expression:"",precision:"",errorMessage:""},minValueDisplay:!1,maxValueDisplay:!1,functionNameDisplay:!1,expressionDisplay:!1,precisionDisplay:!1,rules:{minValue:[{required:!0,message:"请输入最小值",trigger:"blur"},{type:"number",message:"最小值必须为数字值"},{validator:(e,t,a)=>{this.checkNumberSize(e,t,a)},trigger:["blur","change"]},{validator:(e,t,a)=>{this.checkMinValue(e,t,a)},trigger:["blur","change"]}],maxValue:[{required:!0,message:"请输入最大值",trigger:"blur"},{type:"number",message:"最大值必须为数字值"},{validator:(e,t,a)=>{this.checkNumberSize(e,t,a)},trigger:["blur","change"]},{validator:(e,t,a)=>{this.checkMaxValue(e,t,a)},trigger:["blur","change"]}],functionName:[{required:!0,message:"请输入方法名",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"},{validator:(e,t,a)=>{this.checkCharacter(e,t,a)},trigger:["blur","change"]}],expression:[{required:!0,message:"请输入表达式",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],precision:[{required:!0,message:"请输入精度",trigger:"blur"},{type:"number",message:"精度必须为数字值"},{validator:(e,t,a)=>{this.checkNumberSize(e,t,a)},trigger:["blur","change"]}],errorMessage:[{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"},{validator:(e,t,a)=>{this.checkCharacter(e,t,a)},trigger:["blur","change"]}]}}},methods:{openDataValidator(e){this.tableData=e,this.outerVisible=!0},setCurrent(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange(e){this.currentRow=e},tableRowClassName({row:e,rowIndex:t}){e.index=t},validatorChanged(e){var t=this.dataValidator.validatorType,a=e.target.selectedIndex;this.dataValidator.validatorName=this.$refs.optionText[a].text,this.clearInputValue(),this.isDisplay(t)},clearInputValue(){var e=this.dataValidator.validatorType,t=this.dataValidator.validatorName;this.dataValidator={},this.dataValidator.validatorType=e,this.dataValidator.validatorName=t},isDisplay(e){"email"==e||"postCode"==e||"mobileTelephone"==e||"identityCard"==e?(this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1):"precision"==e?(this.precisionDisplay=!0,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1):"regexp"==e||"jsExpression"==e?(this.precisionDisplay=!1,this.expressionDisplay=!0,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1):"jsFunction"==e?(this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!0):"length"!=e&&"longRange"!=e&&"doubleRange"!=e||(this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!0,this.maxValueDisplay=!0,this.functionNameDisplay=!1)},addValidator(){this.dialogTitle="添加验证器",this.dataValidator={},this.dataValidator.validatorType="email",this.dataValidator.validatorName="Email验证器",this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1,this.innerVisible=!0},editbefore(){null!=this.currentRow?this.editValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},editValidator(e,t){this.dialogTitle="编辑验证器",this.dataValidator=JSON.parse(JSON.stringify(t)),this.innerVisible=!0,this.rowIndex=e,this.isDisplay(this.dataValidator.validatorType)},doubleClick(e,t,a,i){this.editValidator(this.currentRow.index,this.currentRow)},saveValidator(){this.$refs.ruleForm.validate(e=>{let t=Object.assign({},JSON.parse(JSON.stringify(this.dataValidator)));return!!e&&(this.dialogTitle.indexOf("编辑")>=0?(this.tableData.splice(this.rowIndex,1,t),void this.closeInner()):(this.tableData.push(t),void this.closeInner()))})},checkMinValue(e,t,a){t>this.dataValidator.maxValue?a(new Error("最小值应该小于最大值!")):a()},checkMaxValue(e,t,a){t<this.dataValidator.minValue?a(new Error("最大值应该大于最小值!")):a()},checkNumberSize(e,t,a){t<0||t>2147483647?a(new Error("范围在1 到 2147483647之间!")):a()},checkCharacter(e,t,a){t&&null!=t&&""!=t&&null==("functionName"==e.field?t.match(/^[a-zA-Z_]+[a-zA-Z_\d]+$/):t.match(/^[a-zA-Z0-9_\u4e00-\u9fa5]+[\?!\？！]{0,1}$/))?a(new Error("请按正确的格式输入!")):a()},closeInner(){this.innerVisible=!1},deletebefore(){null!=this.currentRow?this.deleteValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},deleteValidator(e,t){this.tableData.splice(e,1)},moveUpBefore(){null!=this.currentRow?this.moveUpValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveUpValidator(e,t){if(e>0){let t=this.tableData[e-1];this.tableData.splice(e-1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经是第一条,不可上移!",type:"warning"})},moverDownBefore(){null!=this.currentRow?this.moveDownValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveDownValidator(e,t){if(e+1!=this.tableData.length){let t=this.tableData[e+1];this.tableData.splice(e+1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经最后一条,不可下移!",type:"warning"})}},watch:{innerVisible(e){e&&void 0!==this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()}}},fe=(a("2f63"),Object(s.a)(he,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"数据校验",width:"40%",visible:e.outerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose},on:{"update:visible":function(t){e.outerVisible=t}}},[a("div",{staticStyle:{height:"460px"}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("el-button",{attrs:{type:"tools",icon:"el-icon-plus",size:"mini"},on:{click:e.addValidator}},[e._v("添加")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-edit",size:"mini"},on:{click:e.editbefore}},[e._v("编辑")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-up",size:"mini"},on:{click:e.moveUpBefore}},[e._v("上移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-down",size:"mini"},on:{click:e.moverDownBefore}},[e._v("下移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-delete",size:"mini"},on:{click:e.deletebefore}},[e._v("删除")])],1),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"400","highlight-current-row":"","row-class-name":e.tableRowClassName},on:{"current-change":e.handleCurrentChange,"cell-dblclick":e.doubleClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{property:"validatorName",label:"名称",width:"230"}}),a("el-table-column",{attrs:{property:"errorMessage",label:"错误消息",width:"430"}})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:function(t){e.outerVisible=!1}}},[e._v("关 闭")])]),a("el-dialog",{attrs:{width:"30%",title:e.dialogTitle,visible:e.innerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.dataValidator,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"验证器："}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.dataValidator.validatorType,expression:"dataValidator.validatorType"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.dataValidator,"validatorType",t.target.multiple?a:a[0])},function(t){return e.validatorChanged(t)}]}},e._l(e.dataValidatorTypes,(function(t,i){return a("option",{key:i,ref:"optionText",refInFor:!0,domProps:{value:t.validatorType}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.validatorName)+"\n\t\t\t\t\t\t\t")])})),0)]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("el-input",{model:{value:e.dataValidator.validatorName,callback:function(t){e.$set(e.dataValidator,"validatorName",t)},expression:"dataValidator.validatorName"}})],1),e.minValueDisplay?a("el-form-item",{attrs:{label:"最小值：",prop:"minValue"}},[a("el-input",{model:{value:e.dataValidator.minValue,callback:function(t){e.$set(e.dataValidator,"minValue",e._n(t))},expression:"dataValidator.minValue"}})],1):e._e(),e.maxValueDisplay?a("el-form-item",{attrs:{label:"最大值：",prop:"maxValue"}},[a("el-input",{model:{value:e.dataValidator.maxValue,callback:function(t){e.$set(e.dataValidator,"maxValue",e._n(t))},expression:"dataValidator.maxValue"}})],1):e._e(),e.functionNameDisplay?a("el-form-item",{attrs:{label:"方法名：",prop:"functionName"}},[a("el-input",{model:{value:e.dataValidator.functionName,callback:function(t){e.$set(e.dataValidator,"functionName",t)},expression:"dataValidator.functionName"}})],1):e._e(),e.expressionDisplay?a("el-form-item",{attrs:{label:"表达式：",prop:"expression"}},[a("el-input",{model:{value:e.dataValidator.expression,callback:function(t){e.$set(e.dataValidator,"expression",t)},expression:"dataValidator.expression"}})],1):e._e(),e.precisionDisplay?a("el-form-item",{attrs:{label:"精度：",prop:"precision"}},[a("el-input",{model:{value:e.dataValidator.precision,callback:function(t){e.$set(e.dataValidator,"precision",e._n(t))},expression:"dataValidator.precision"}})],1):e._e(),a("el-form-item",{attrs:{label:"错误消息：",prop:"errorMessage"}},[a("el-input",{model:{value:e.dataValidator.errorMessage,callback:function(t){e.$set(e.dataValidator,"errorMessage",t)},expression:"dataValidator.errorMessage"}})],1),a("div",{staticStyle:{"text-align":"right"}},[a("div",{staticClass:"x-btn ok-btn el-button--ok",on:{click:e.saveValidator}},[e._v("保 存")]),a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:e.closeInner}},[e._v("关 闭")])])],1)],1)],1)])}),[],!1,null,"6ea34660",null).exports),ge={name:"TabSetUp",props:{},data(){return{outerVisible:!1,innerVisible:!1,blankClose:!1,escClose:!1,dialogTitle:"添加标签页",isReadonly:!0,rowIndex:null,currentRow:null,tableData:[],tabPanel:{id:"",title:"",list:[],selected:"false"},formContainerDom:null,rules:{id:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"},{validator:(e,t,a)=>{this.checkCharacter(e,t,a)},trigger:["blur","change"]}]}}},methods:{openTabSet(e,t){this.tableData=e,this.formContainerDom=t,this.outerVisible=!0},setCurrent(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange(e){this.currentRow=e},tableRowClassName({row:e,rowIndex:t}){e.index=t},addTab(){this.dialogTitle="添加标签页";let e={},t=this.formContainerDom.getMaxTabId();e.id="TabPanel"+t,e.title="标签"+t,e.list=[],e.selected="false",this.tabPanel=e,this.innerVisible=!0,this.isReadonly=!0},editbefore(){null!=this.currentRow?this.editTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},editTab(e,t){this.dialogTitle="编辑标签页",this.tabPanel=JSON.parse(JSON.stringify(t)),this.innerVisible=!0,this.rowIndex=e,this.isReadonly=!0},doubleClick(e,t,a,i){this.editTab(this.currentRow.index,this.currentRow)},saveTab(){this.$refs.ruleForm.validate(e=>{if(!e)return!1;{let e=Object.assign({},JSON.parse(JSON.stringify(this.tabPanel)));if(this.dialogTitle.indexOf("编辑")>=0)return 1==this.tableData.length?e.selected="true":"true"==e.selected&&(this.tableData.forEach((function(e,t,a){e.selected="false"})),e.selected="true"),this.tableData.splice(this.rowIndex,1,e),void this.closeInner();"true"==e.selected&&(this.tableData.forEach((function(e,t,a){e.selected="false"})),e.selected="true"),this.tableData.push(e),this.closeInner()}})},checkCharacter(e,t,a){t&&null!=t&&""!=t&&null==t.match(/^[a-zA-Z0-9_\u4e00-\u9fa5]+[\?!\？！]{0,1}$/)?a(new Error("请按正确的格式输入!")):a()},closeInner(){this.innerVisible=!1},deletebefore(){null!=this.currentRow?1==this.tableData.length?this.$message({message:"最后一个标签页不可删除!",type:"warning"}):this.deleteTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},deleteTab(e,t){this.tableData.splice(e,1)},moveUpBefore(){null!=this.currentRow?this.moveUpTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveUpTab(e,t){if(e>0){let t=this.tableData[e-1];this.tableData.splice(e-1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经是第一条,不可上移!",type:"warning"})},moverDownBefore(){null!=this.currentRow?this.moveDownTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveDownTab(e,t){if(e+1!=this.tableData.length){let t=this.tableData[e+1];this.tableData.splice(e+1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经最后一条,不可下移!",type:"warning"})}},watch:{innerVisible(e){e&&void 0!==this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()}}},be=(a("0bfe"),Object(s.a)(ge,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"标签页设置",width:"40%",visible:e.outerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose},on:{"update:visible":function(t){e.outerVisible=t}}},[a("div",{staticStyle:{height:"460px"}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("el-button",{attrs:{type:"tools",icon:"el-icon-plus",size:"mini"},on:{click:e.addTab}},[e._v("添加")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-edit",size:"mini"},on:{click:e.editbefore}},[e._v("编辑")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-up",size:"mini"},on:{click:e.moveUpBefore}},[e._v("上移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-down",size:"mini"},on:{click:e.moverDownBefore}},[e._v("下移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-delete",size:"mini"},on:{click:e.deletebefore}},[e._v("删除")])],1),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"400","highlight-current-row":"","row-class-name":e.tableRowClassName},on:{"current-change":e.handleCurrentChange,"cell-dblclick":e.doubleClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{property:"id",label:"编码",width:"230"}}),a("el-table-column",{attrs:{property:"title",label:"标题",width:"430"}})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:function(t){e.outerVisible=!1}}},[e._v("关 闭")])]),a("el-dialog",{attrs:{width:"30%",title:e.dialogTitle,visible:e.innerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.tabPanel,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"编码：",prop:"id"}},[a("el-input",{attrs:{readonly:e.isReadonly},model:{value:e.tabPanel.id,callback:function(t){e.$set(e.tabPanel,"id",t)},expression:"tabPanel.id"}})],1),a("el-form-item",{attrs:{label:"标题：",prop:"title"}},[a("el-input",{model:{value:e.tabPanel.title,callback:function(t){e.$set(e.tabPanel,"title",t)},expression:"tabPanel.title"}})],1),a("el-form-item",{attrs:{label:"是否选中："}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.tabPanel.selected,expression:"tabPanel.selected"}],staticClass:"form-control",on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.tabPanel,"selected",t.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"true"}},[e._v("是")]),a("option",{attrs:{value:"false"}},[e._v("否")])])]),a("div",{staticStyle:{"text-align":"right"}},[a("div",{staticClass:"x-btn ok-btn el-button--ok",on:{click:e.saveTab}},[e._v("保 存")]),a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:e.closeInner}},[e._v("关 闭")])])],1)],1)],1)])}),[],!1,null,"610d758f",null).exports);const ye=[{type:"label",icon:"icon-label",mobileShow:!0,options:{styleText:"",contentValue:"单行标签",styleClass:"label"}},{type:"innerhtml",icon:"icon-innerHtml",mobileShow:!0,options:{styleText:"height:50px;width:120px;",contentValue:"多行标签"}},{type:"input",icon:"icon-input",options:{styleText:"width:100%",defaultValue:"",required:!1,mask:"",placeholder:"",disabled:!1,length:"",labelWidth:"25%",colClass:12},dataValidators:[],value:null},{type:"textarea",icon:"icon-textarea",options:{styleText:"width:100%;height:90px",length:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"25%",colClass:12},dataValidators:[],value:null},{type:"number",icon:"icon-number",options:{styleText:"width:100%",defaultValue:"",required:!1,placeholder:"",disabled:!1,isCurrency:!1,preDeduction:!1,pattern:"",length:"",precision:"",options:[{label:"百分号",value:"#.##%"},{label:"千分位",value:"###0.00"},{label:"*天*时*分",value:"DHM"},{label:"*天",value:"DAY"}],labelWidth:"25%",colClass:12},dataValidators:[],value:null},{type:"select",icon:"icon-select",options:{relationType:"",relationId:"",relationProperty:"",digit:"",levelDigit:"",styleText:"width:100%",length:"",defaultValue:"",disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,options:[{label:"规则",value:"similar"},{label:"不规则",value:"unsimilar"}],labelWidth:"25%",colClass:12,catalogId:""},dataValidators:[],value:null},{type:"multiselect",icon:"icon-multiselect",options:{styleText:"width:100%",length:"",defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],remote:!1,filterable:!1,remoteOptions:[],props:{value:"value",label:"label"},labelWidth:"25%",colClass:12,catalogId:""},dataValidators:[],value:null},{type:"listbox",icon:"icon-listbox",options:{styleText:"width:100%",length:"",defaultValue:"",multiple:!1,disabled:!1,clearable:!1,required:!1,showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],filterable:!1,props:{value:"value",label:"label"},labelWidth:"25%",colClass:12,catalogId:""},dataValidators:[],value:null},{type:"popupselect",icon:"icon-popupselect",options:{styleText:"width:100%",defaultValue:"",required:!1,disabled:!1,labelWidth:"25%",src:"",method:"",popupTitle:"",colClass:12},value:null,dataValidators:[]},{type:"date",icon:"icon-date",options:{styleText:"width:100%",defaultValue:"",required:!1,placeholder:"",disabled:!1,pattern:"",labelWidth:"25%",colClass:12},dataValidators:[],value:null},{type:"time",icon:"icon-time",options:{styleText:"width:100%",defaultValue:"",required:!1,dataType:"string",placeholder:"",disabled:!1,labelWidth:"25%",colClass:12},dataValidators:[],value:null},{type:"checkbox",icon:"icon-checkbox",options:{styleText:"width:100%",defaultValue:"",required:!1,disabled:!1,labelValue:"",labelWidth:"25%",colClass:12,options:[]},dataValidators:[],value:null},{type:"checkboxgroup",icon:"icon-checkboxgroup",options:{styleText:"width:100%",length:"",defaultValue:"",required:!1,disabled:!1,columns:"2",options:[],labelWidth:"25%",colClass:12,catalogId:""},dataValidators:[],value:null},{type:"radiogroup",icon:"icon-radiogroup",options:{styleText:"width:100%",length:"",defaultValue:"",required:!1,dataType:"string",disabled:!1,columns:"2",options:[],labelWidth:"25%",colClass:12,catalogId:""},dataValidators:[],value:null},{type:"image",icon:"icon-image",mobileShow:!0,options:{styleText:"",imgSrc:"resource/images/form/designer/component/cube_blue.png"}},{type:"button",icon:"icon-button",options:{contentValue:"按钮",btnType:"ok",styleText:""},operations:[],transitions:[]}],ve=[{type:"SingleUserSelect",icon:"icon-input",options:{styleText:"width:100%",defaultValue:"",required:!1,disabled:!1,labelWidth:"25%",colClass:12,bindId:"",bindName:"",isDesign:"true"},value:null},{type:"MultiUserSelect",icon:"icon-input",options:{styleText:"width:100%",length:"",defaultValue:"",required:!1,disabled:!1,labelWidth:"25%",colClass:12,bindId:"",bindName:"",isDesign:"true"},value:null},{type:"SingleDeptSelect",icon:"icon-input",options:{styleText:"width:100%",defaultValue:"",required:!1,disabled:!1,labelWidth:"25%",colClass:12,bindId:"",bindName:"",isDesign:"true"},value:null},{type:"MultiDeptSelect",icon:"icon-input",options:{styleText:"width:100%",length:"",defaultValue:"",required:!1,disabled:!1,labelWidth:"25%",colClass:12,bindId:"",bindName:"",isDesign:"true"},value:null},{type:"SingleFileUpload",icon:"icon-input",options:{styleText:"width:100%",required:!1,disabled:!1,labelWidth:"25%",fileType:"",colClass:12}},{type:"DesignSingleFileUpload",icon:"icon-input",options:{styleText:"width:100%",required:!1,disabled:!1,labelWidth:"25%",colClass:12,relationPro:"",relationProValue:"",fileId:"",fileName:"",fileSizes:"",contents:"",queryCondition:"",fileRootPath:"",fileSubPath:"",isDowload:!1,isView:!1,isDeleted:!1,annexSize:0,annexType:"",saveType:"",dataObject:"",bindDataValue:""}},{type:"MultiFileUpload",icon:"icon-input",options:{styleText:"width:100%",required:!1,disabled:!1,showPreview:!1,fileType:"",maxFileCount:"",labelWidth:"25%",colClass:12}},{type:"DesignMultiFileUpload",icon:"icon-input",options:{styleText:"width:100%",required:!1,disabled:!1,labelWidth:"25%",colClass:12,relationPro:"",relationProValue:"",fileId:"",fileName:"",fileSizes:"",contents:"",queryCondition:"",fileRootPath:"",fileSubPath:"",isDowload:!1,uploadAgain:!1,isDeleted:!1,annexSize:0,annexType:"",annexNum:1,saveType:"",dataObject:"",bindDataValue:""}},{type:"ProcessOpinion",icon:"icon-input",options:{styleText:"width:100%",required:!1,disabled:!1,showMultiComments:!1,showDep:!1,labelWidth:"25%",colClass:12},value:null},{type:"Tree",icon:"icon-tree",options:{styleText:"height:100%;width:100%"}}],xe=[{type:"EditList",icon:"icon-grid-",showLineNumber:!0,columns:[{span:12,list:[]},{span:12,list:[]}],options:{gutter:0,justify:"start",align:"top"},actions:{id:"ActionButtons001",type:"ActionButtons",name:"ActionButtons001",list:[{type:"ToolBarItem",key:"toolBarItem005",name:"toolBarItem001",options:{contentValue:"添加",iconClass:"EditorIconAdd",buttonType:"button",onclick:"Matrix.addRepeatLastRow",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem001",name:"toolBarItem002",options:{contentValue:"删除",iconClass:"EditorIconRemove",buttonType:"button",onclick:"Matrix.deleteRowsOfRepeat",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem002",name:"toolBarItem003",options:{contentValue:"上移",iconClass:"EditorIconUp",buttonType:"button",onclick:"Matrix.moveUpSelectedRow",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem003",name:"toolBarItem004",options:{contentValue:"下移",iconClass:"EditorIconDown",buttonType:"button",onclick:"Matrix.moveDownSelectedRow",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]}]}},{type:"DataList",icon:"icon-reptable-",title:"重复节",list:[],options:{gutter:0,justify:"start",align:"top",dataObject:"",relationPro:"",relationProValue:"",isDesign:"true"}},{type:"splitline",icon:"icon-splitline",mobileShow:!0,options:{showTitle:!0,showLine:!0}},{type:"TitlePanel",icon:"icon-TitlePanel-",mobileShow:!0,title:"标题面板",list:[],options:{height:"300px",showMinimizeButton:!1,gutter:0,justify:"start",align:"top"}},{type:"TabContainer",icon:"icon-TabContainer-",mobileShow:!0,title:"标签容器",tabPanels:[{id:"TabPanel001",title:"标签001",list:[],selected:"true"}],options:{gutter:0,justify:"start",align:"top",height:"100%"}},{type:"Grid",icon:"icon-grid-",mobileShow:!0,columns:[{span:8,gridPosition:"center",list:[]},{span:8,gridPosition:"center",list:[]},{span:8,gridPosition:"center",list:[]}],options:{gutter:0,justify:"start",align:"top",height:""}},{type:"HorizontalContainer",icon:"icon-HorizontalContainer-",mobileShow:!0,title:"左右分栏",list:[{id:"BorderPanel001",name:"边框面板001",width:"25%",isURLPanel:!1,viewURL:"",list:[]},{id:"BorderPanel002",name:"边框面板002",isURLPanel:!1,viewURL:"",list:[]}],options:{styleText:"height:100%;width:100%"}},{type:"IncludeForm",icon:"icon-IncludeForm-",mobileShow:!0,title:"子表单",list:[],options:{styleText:"height:300px;width:100%",formDid:"",formName:"",renderFormTag:!1}},{type:"QueryList",icon:"icon-grid-",mobileShow:!1,options:{queryContainerType:"toolbar"},QueryForm:{list:[]},DataGrid:{},fields:[],actions:{id:"ActionButtons001",type:"ActionButtons",name:"ActionButtons001",list:[{type:"ToolBarItem",key:"toolBarItem001",name:"toolBarItem001",options:{contentValue:"查询",iconClass:"EditorIconQuery",buttonType:"button",onclick:"Matrix.refreshDataGridData",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!0,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem002",name:"toolBarItem002",options:{contentValue:"高级查询",iconClass:"EditorIconQuery",buttonType:"button",onclick:"Matrix.showDataGridCustomFilter",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!0,styleText:"",validateForm:!0},operations:[],transitions:[]}]}}],we=[{validatorType:"email",validatorName:"Email验证器"},{validatorType:"postCode",validatorName:"邮编验证器"},{validatorType:"mobileTelephone",validatorName:"手机验证器"},{validatorType:"identityCard",validatorName:"身份证验证器"},{validatorType:"precision",validatorName:"小数精度验证器"},{validatorType:"jsFunction",validatorName:"JS方法验证器"},{validatorType:"length",validatorName:"字符长度验证器"},{validatorType:"regexp",validatorName:"正则表达式验证器"},{validatorType:"jsExpression",validatorName:"JS表达式验证器"},{validatorType:"longRange",validatorName:"整数范围验证器"},{validatorType:"doubleRange",validatorName:"小数范围验证器"}];a("4260");var Se=function(e,t="vue"){const a=[],i=[],l=[];!function e(t,a,i,l){for(let s=0;s<t.length;s++)"grid"==t[s].type?t[s].columns.forEach(t=>{e(t.list,a,i,l)}):"blank"==t[s].type?t[s].model&&l.push({name:t[s].model,label:t[s].name}):"imgupload"==t[s].type?t[s].options.tokenFunc&&i.push({func:t[s].options.tokenFunc,label:t[s].name,model:t[s].model}):t[s].options.remote&&t[s].options.remoteFunc&&a.push({func:t[s].options.remoteFunc,label:t[s].name,model:t[s].model})}(JSON.parse(e).list,a,i,l);let s="",n="";for(let o=0;o<a.length;o++)s+=`\n            ${a[o].func} (resolve) {\n              // ${a[o].label} ${a[o].model}\n              // Call callback function once get the data from remote server\n              // resolve(data)\n            },\n    `;for(let o=0;o<i.length;o++)s+=`\n            ${i[o].func} (resolve) {\n              // ${i[o].label} ${i[o].model}\n              // Call callback function once get the token\n              // resolve(token)\n            },\n    `;for(let o=0;o<l.length;o++)n+=`\n        <template slot="${l[o].name}" slot-scope="scope">\n          \x3c!-- ${l[o].label} --\x3e\n          \x3c!-- use v-model="scope.model.${l[o].name}" to bind data --\x3e\n        </template>\n    `;return"vue"==t?`<template>\n  <div>\n    <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n      ${n}\n    </fm-generate-form>\n    <el-button type="primary" @click="handleSubmit">提交</el-button>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        jsonData: ${e},\n        editData: {},\n        remoteFuncs: {\n          ${s}\n        }\n      }\n    },\n    methods: {\n      handleSubmit () {\n        this.$refs.generateForm.getData().then(data => {\n          // data check success\n          // data - form data\n        }).catch(e => {\n          // data check failed\n        })\n      }\n    }\n  }\n<\/script>`:`<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n \n    \n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        ${n}\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    \n    <script>\n      new Vue({\n        el: '#app',\n        data: {\n          jsonData: ${e},\n          editData: {},\n          remoteFuncs: {\n            ${s}\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // data check success\n              // data - form data\n            }).catch(e => {\n              // data check failed\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>`};const ke={input:"icon-widget-text",date:"icon-widget-datetime",time:"icon-widget-time",number:"icon-widget-number",textarea:"icon-widget-textarea",select:"icon-widget-combo",popupselect:"icon-widget-search",SingleUserSelect:"icon-widget-user",radiogroup:"icon-widget-radiogroup",checkboxgroup:"icon-widget-checkboxgroup",listbox:"icon-widget-combocheck",popupselect:"fa fa-search",splitline:"icon-widget-separator",MultiUserSelect:"icon-widget-combocheck",SingleDeptSelect:"icon-widget-dept",MultiDeptSelect:"icon-widget-deptgroup",SingleFileUpload:"icon-widget-upload",MultiFileUpload:"icon-widget-upload",DesignSingleFileUpload:"icon-widget-upload",DesignMultiFileUpload:"icon-widget-upload",ProcessOpinion:"icon-widget-signature",Tree:"fa fa-tree",DataList:"icon-widget-subform",checkbox:"fa fa-check-square-o",EditList:"fa fa-list-alt",multiselect:"fa fa-object-group",TitlePanel:"fa fa-file-o",TabContainer:"el-icon-reading",label:"fa fa-tag",innerhtml:"fa fa-tags",image:"icon-widget-image",button:"fa fa-square-o",Grid:"fa fa-table",HorizontalContainer:"fa fa-columns",IncludeForm:"fa fa-wpforms",QueryList:"fa fa-calculator"};var _e={name:"fm-designer",components:{Draggable:x.a,WidgetConfig:te,FormConfig:se,WidgetForm:de,CusDialog:ue,GenerateForm:me,DataValidator:fe,TabSetUp:be},props:{preview:{type:Boolean,default:!1},generateCode:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},basicFields:{type:Array,default:()=>["input","textarea","number","radiogroup","checkboxgroup","time","date","select","switch","popupselect","multiselect","listbox","checkbox","splitline","button","label","innerhtml","image"]},advanceFields:{type:Array,default:()=>["SingleUserSelect","MultiUserSelect","SingleDeptSelect","MultiDeptSelect","ProcessOpinion","Tree"]},layoutFields:{type:Array,default:()=>["EditList","QueryList","DataList","splitline","TitlePanel","TabContainer","Grid","HorizontalContainer","IncludeForm"]}},data:()=>({basicComponents:null,advanceComponents:null,layoutComponents:null,mainTableComponents:null,repeatSectionComponents:null,resetJson:!1,widgetForm:{formCode:"",formName:"",unionPKText:"",ftid:"",list:[],designType:1,haveData:!1,config:{labelWidth:"25%",labelPosition:"center",colClass:12},dataSource:{}},configTab:"widget",widgetFormSelect:{},seleDataSource:{},previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test(e){setTimeout(()=>{e([{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}])},2e3)},funcGetToken(e){},upload_callback(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:"",vueTemplate:"",jsonTemplate:"",uploadEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonEg:'{\n  "list": [],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}',codeActiveName:"vue",dataValidatorTypes:null,showModal:!1}),mounted(){this._loadComponents(),this.loadFormList()},methods:{_loadComponents(){const e=this;$.ajax({type:"POST",url:"../designerVue/formDesignVue_getFormDataSourceInfo.action",data:{formUuid:e.$route.query.formUuid,designType:e.$route.query.designType,isMobile:e.$route.query.isMobile},dataType:"json",success:function(t){e.resetJson=!0,e.widgetForm.designType=t.designType,e.haveData=t.haveData,e.widgetForm.dataSource=t.dataSource,e.dataValidatorTypes=we.map(e=>({...e})),t.isMobile?(e.widgetForm.config.colClass=6,e.mainTableComponents=t.mobileFiled.mainTableComponents.map(e=>({...e,icon:ke[e.type]})),e.repeatSectionComponents=t.mobileFiled.repeatSectionComponents.map(e=>(e.columns=e.columns.map(e=>({...e,icon:ke[e.type]})),e)),e.basicComponents=ye.filter(e=>1==e.mobileShow).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),icon:ke[t.type]})),e.layoutComponents=xe.filter(e=>1==e.mobileShow).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),icon:ke[t.type]}))):(e.widgetForm.config.colClass=12,e.basicComponents=ye.map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),title:e.$t(`fm.components.fields.${t.type}`),icon:ke[t.type]})),1==e.widgetForm.designType?(e.advanceFields.push("DesignSingleFileUpload"),e.advanceFields.push("DesignMultiFileUpload")):(e.advanceFields.push("SingleFileUpload"),e.advanceFields.push("MultiFileUpload")),e.advanceComponents=ve.map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),title:e.$t(`fm.components.fields.${t.type}`),icon:ke[t.type]})),e.layoutComponents=xe.map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),title:e.$t(`fm.components.fields.${t.type}`),icon:ke[t.type]})),1==e.widgetForm.designType?(e.advanceComponents[0].options.isDesign="true",e.advanceComponents[1].options.isDesign="true",e.advanceComponents[2].options.isDesign="true",e.advanceComponents[3].options.isDesign="true",e.layoutComponents[1].options.isDesign="true"):(e.advanceComponents[0].options.isDesign="false",e.advanceComponents[1].options.isDesign="false",e.advanceComponents[2].options.isDesign="false",e.advanceComponents[3].options.isDesign="false",e.layoutComponents[1].options.isDesign="false"))}})},handleGoGithub(){window.location.href=""},handleConfigSelect(e){this.configTab=e},handleMoveEnd(e){},handleMoveStart({oldIndex:e}){},handleMove:(e,t)=>!0,handlePreview(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_setFormModelAndDataSource.action",data:{data:JSON.stringify(e.widgetForm)},dataType:"json",success:function(t){var a=t.type,i=t.messgage;"success"==a?window.open("../form/admin/debug/formdebug.jsp","_blank"):e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},handleTest(){this.$refs.generateForm.getData().then(e=>{this.$alert(e,"").catch(e=>{}),this.$refs.widgetPreview.end()}).catch(e=>{this.$refs.widgetPreview.end()})},handleReset(){this.$refs.generateForm.reset()},handleGenerateJson(){this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick(()=>{ace.edit("jsoneditor").session.setMode("ace/mode/json"),this.jsonClipboard||(this.jsonClipboard=new S.a(".json-btn"),this.jsonClipboard.on("success",e=>{this.$message.success(this.$t("fm.message.copySuccess"))})),this.jsonCopyValue=JSON.stringify(this.widgetForm)})},handleGenerateCode(){this.codeVisible=!0,this.htmlTemplate=Se(JSON.stringify(this.widgetForm),"html"),this.vueTemplate=Se(JSON.stringify(this.widgetForm),"vue"),this.$nextTick(()=>{ace.edit("codeeditor").session.setMode("ace/mode/html"),ace.edit("vuecodeeditor").session.setMode("ace/mode/html")})},handleUpload(){this.uploadVisible=!0,this.$nextTick(()=>{this.uploadEditor=ace.edit("uploadeditor"),this.uploadEditor.session.setMode("ace/mode/json")})},handleUploadJson(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue())),this.uploadVisible=!1}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear(){this.widgetForm={list:[],config:{labelWidth:"25%",labelPosition:"center",colClass:12,size:"small",customClass:""}},this.widgetFormSelect={},this.seleDataSource={}},getJSON(){return this.widgetForm},getHtml(){return Se(JSON.stringify(this.widgetForm))},setJSON(e){this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput(e){this.blank=e},handleDataChange(e,t,a){},loadFormList(){const e=this;$.ajax({type:"POST",url:"../designerVue/formDesignVue_loadForm.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){e.widgetForm.list=t.list,e.widgetForm.formCode=t.formCode,e.widgetForm.formName=t.formName,e.widgetForm.unionPKText=t.unionPKText,e.widgetForm.config=t.config,e.widgetForm.published=t.published}})},openDataValidator(e){this.$refs.dataValidator.openDataValidator(e)},openTabSet(e){let t=this.$refs.widgetForm.$refs.formContainer;this.$refs.tabSetUp.openTabSet(e,t)},handleSaveForm(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_saveForm.action",data:{data:JSON.stringify(e.widgetForm)},dataType:"json",success:function(t){var a=t.type,i=t.messgage;e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},handlePublishForm(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_publishForm.action",data:{data:JSON.stringify(e.widgetForm)},dataType:"json",success:function(t){var a=t.type;e.widgetForm.published="true";var i=t.messgage;e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},handleUnPublishForm(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_unPublishForm.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){var a=t.type;e.widgetForm.published="false";var i=t.messgage;e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},loadModelAndSource(){const e=this;$.ajax({url:"../designerVue/formDesignVue_setFormModelAndDataSource.action",data:{data:JSON.stringify(e.widgetForm),formUuid:e.$route.query.formUuid},type:"post",dataType:"json",async:!1,success:function(t){var a=t.type,i=t.messgage;"success"!=a&&e.$message({message:i,type:a})}})},loadFormBySession(){const e=this;$.ajax({type:"POST",url:"../designerVue/formDesignVue_loadFormBySession.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){e.widgetForm.list=t.list}})},handleCompontentSet(e){$.ajax({url:"../designerVue/formDesignVue_setFormModelAndDataSource.action",data:{data:JSON.stringify(this.widgetForm)},type:"post",dataType:"json",async:!1,success:function(t){if("success"==t.type){const t=e[0],a=e[1],i=e[2];openCompontentSet(t,a,i)}}})}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}},created(){}},Ce=(a("1d7b"),Object(s.a)(_e,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container"},[a("el-main",{staticClass:"fm2-main"},[a("el-container",[3==this.widgetForm.designType?a("el-aside",{attrs:{width:"260px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label-mob",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.mainTableComponents?[a("div",{staticClass:"widget-cate"},[e._v("主表")]),a("draggable",e._b({attrs:{tag:"ul",list:e.mainTableComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.mainTableComponents,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label-mob",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.title))])])])})),0)]:e._e(),e.repeatSectionComponents&&e.repeatSectionComponents.length>0?[a("div",{staticClass:"widget-cate"},[e._v("重复节")]),e._l(e.repeatSectionComponents,(function(t,i){return a("div",{key:i,attrs:{list:e.repeatSectionComponents}},[a("div",{staticClass:"widget-sub-cate"}),a("draggable",e._b({attrs:{tag:"ul",list:t.columns,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(t.columns,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label-mob",class:{"no-put":"table"}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.title))])])])})),0)],1)}))]:e._e(),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.layoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.layoutComponents,(function(t,i){return e.layoutFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)]):a("el-aside",{attrs:{width:"260px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.advanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.advanceComponents,(function(t,i){return e.advanceFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.layoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.layoutComponents,(function(t,i){return e.layoutFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)]),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[e._t("action"),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"fa fa-save",disabled:"true"==e.widgetForm.published},on:{click:e.handleSaveForm}},[e._v("\n                        保存\n                    ")]),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v("\n                        预览\n                    ")]),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"fa fa-cloud-upload",disabled:"true"==e.widgetForm.published},on:{click:e.handlePublishForm}},[e._v("\n                        发布\n                    ")]),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"fa fa-close",disabled:"true"!=e.widgetForm.published},on:{click:e.handleUnPublishForm}},[e._v("\n                        取消发布\n                    ")]),e.generateJson?a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"el-icon-tickets"},on:{click:e.handleGenerateJson}},[e._v("\n                        "+e._s(e.$t("fm.actions.json"))+"\n                    ")]):e._e(),a("label",{staticClass:"form-published"},[e._v("状态:"+e._s("true"==e.widgetForm.published?"已发布":"未发布"))])],2),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[e.resetJson?a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect,selectDataSource:e.seleDataSource},on:{"update:select":function(t){e.widgetFormSelect=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadFormBySession:e.loadFormBySession,handleCompontentSet:function(t){return e.handleCompontentSet(arguments)}}}):e._e()],1)],1),a("el-aside",{staticClass:"widget-config-container",staticStyle:{width:"320px"}},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title"))+"\n                        ")]),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title"))+"\n                        ")])]),a("el-main",{staticClass:"config-content"},[a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect,dataSourceItem:e.seleDataSource,designType:e.widgetForm.designType,result:e.widgetForm.dataSource},on:{"update:dataSourceItem":function(t){e.seleDataSource=t},"update:data-source-item":function(t){e.seleDataSource=t},openOuterDialog:e.openDataValidator,openTabSetDialog:e.openTabSet,loadModelAndSource:e.loadModelAndSource,loadFormBySession:e.loadFormBySession,handleCompontentSet:function(t){return e.handleCompontentSet(arguments)}}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],attrs:{data:e.widgetForm},on:{loadModelAndSource:e.loadModelAndSource,_loadComponents:e._loadComponents}})],1)],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{insite:"true",data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs},on:{"on-change":e.handleDataChange},scopedSlots:e._u([{key:"blank",fn:function(t){return[e._v("\n                    Width\n                    "),a("mf-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("\n                    Height\n                    "),a("mf-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}],null,!1,592311445)}):e._e(),a("template",{slot:"action"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonEg))])],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary","data-clipboard-text":e.jsonCopyValue}},[e._v("\n                    "+e._s(e.$t("fm.actions.copyData"))+"\n                ")])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("el-tabs",{staticStyle:{"box-shadow":"none"},attrs:{type:"border-card"},model:{value:e.codeActiveName,callback:function(t){e.codeActiveName=t},expression:"codeActiveName"}},[a("el-tab-pane",{attrs:{label:"Vue Component",name:"vue"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"vuecodeeditor"}},[e._v(e._s(e.vueTemplate))])]),a("el-tab-pane",{attrs:{label:"HTML",name:"html"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1),a("DataValidator",{ref:"dataValidator",attrs:{dataValidatorTypes:e.dataValidatorTypes}}),a("TabSetUp",{ref:"tabSetUp"}),e.showModal?a("div",{staticClass:"mask"}):e._e()],1)],1)}),[],!1,null,null,null).exports),Te={name:"MfForm",componentName:"MfForm",provide(){return{mfForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{},computed:{autoLabelWidth(){if(!this.potentialLabelWidthArr.length)return 0;const e=Math.max(...this.potentialLabelWidthArr);return e?`${e}px`:""}},data:()=>({fields:[],potentialLabelWidthArr:[]}),created(){this.$on("mf.form.addField",e=>{e&&this.fields.push(e)}),this.$on("mf.form.removeField",e=>{e.prop&&this.fields.splice(this.fields.indexOf(e),1)})},methods:{resetFields(){this.model&&this.fields.forEach(e=>{e.resetField()})},getLabelWidthIndex(e){const t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[MfementForm]unpected width ",e);return t},registerLabelWidth(e,t){if(e&&t){const a=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(a,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth(e){const t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},De=(a("96c9"),Object(s.a)(Te,(function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)}),[],!1,null,null,null).exports);function Ve(e,t,a){this.$children.forEach(i=>{i.$options.componentName===e?i.$emit.apply(i,[t].concat(a)):Ve.apply(i,[e,t].concat([a]))})}var $e={methods:{dispatch(e,t,a){for(var i=this.$parent||this.$root,l=i.$options.componentName;i&&(!l||l!==e);)(i=i.$parent)&&(l=i.$options.componentName);i&&i.$emit.apply(i,[t].concat(a))},broadcast(e,t,a){Ve.call(this,e,t,a)}}},Ie=(a("6bd7"),{name:"MfFormItem",componentName:"MfFormItem",mixins:[$e],provide(){return{mfFormItem:this}},inject:["mfForm"],props:{label:String,labelWidth:String,formItem:String,labelClass:Array,itemClass:String,prop:String,for:String,size:String,colClass:Number,type:String,isEditListItem:{type:Boolean,default:()=>!1},isIncludeForm:Boolean},components:{},watch:{},computed:{labelFor(){return this.for||this.prop},labelStyle(){const e={};if("top"===this.form.labelPosition)return e;const t=this.labelWidth||this.form.labelWidth;return t&&(e.width=t),this.$options&&"splitline"===this.$options.propsData.type&&(e.float="left",e.textAlign="left"),e},contentStyle(){const e={},t=this.label;if(this.$options&&"splitline"===this.$options.propsData.type)return e;if("top"===this.form.labelPosition||this.form.inline)return e;if(!t&&!this.labelWidth&&this.isNested)return e;const a=this.labelWidth||this.form.labelWidth;return"auto"===a?"auto"===this.labelWidth?e.marginLeft=this.computedLabelWidth:"auto"===this.form.labelWidth&&(e.marginLeft=this.elForm.autoLabelWidth):e.marginLeft=a,e},form(){let e=this.$parent,t=e.$options.componentName;for(;"MfForm"!==t;)"MfFormItem"===t&&(this.isNested=!0),e=e.$parent,t=e.$options.componentName;return e},fieldValue(){const e=this.form.model;if(!e||!this.prop)return;let t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),(void 0)(e,t,!0).v},_formSize(){return this.mfForm.size},elFormItemSize(){return this.size||this._formSize},sizeClass(){return this.elFormItemSize||(this.$ELEMENT||{}).size},itemStyle(){return"top"===this.form.labelPosition||this.form.inline?"":this.itemClass}},data:()=>({isNested:!1,computedLabelWidth:""}),methods:{updateComputedLabelWidth(e){this.computedLabelWidth=e?`${e}px`:""}},mounted(){if(this.prop){this.dispatch("MfForm","mf.form.addField",[this]);let e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy(){this.dispatch("MfForm","mf.form.removeField",[this])}}),Fe=Ie,Oe=(a("385b"),Object(s.a)(Fe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isEditListItem?a("div",{staticClass:"el-form-item mf_form_item",class:[e.isEditListItem?"":e.colClass?"col-md-"+e.colClass:"col-md-12",e.sizeClass?"el-form-item--"+e.sizeClass:""],staticStyle:{"margin-bottom":"0px"}},[a("div",{staticClass:"subtableHeadStyle",staticStyle:{width:"100%"}},[e.label||e.$slots.label?a("label",{staticClass:"el-form-item__label",staticStyle:{width:"100%","text-align":"center"},attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label))])],2):e._e()]),a("div",{staticClass:"subtableCellStyle",staticStyle:{width:"100%"}},[e._t("default")],2)]):a("div",{staticClass:"el-form-item mf_form_item mf_form_item_bottom ",class:[e.colClass?"col-md-"+e.colClass:"col-md-12",e.sizeClass?"el-form-item--"+e.sizeClass:"",e.formItem?e.formItem:""],style:{pointerEvents:!0===e.isIncludeForm?"none":"auto",marginBottom:"0px"}},[e.label||e.$slots.label?a("label",{class:["el-form-item__label",e.labelClass?e.labelClass:""],style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e(),a("div",{class:["mf-form-item__content",e.label?e.itemStyle:""],style:e.contentStyle},[e._t("default")],2)])}),[],!1,null,null,null)),Me=Oe.exports,Ne={name:"MfInput",componentName:"MfInput",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,mask:String,type:{type:String,default:()=>"text"}},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]},inputmask(){return null!=this.mask&&null!=this.mask&&""!=this.mask?"'mask':'"+this.mask+"'":""}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},Pe=Ne,We=Object(s.a)(Pe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",staticClass:"form-control ",style:e.hightValue,attrs:{id:e.id,name:e.name,readonly:e.readonly,styleText:e.styleText,"data-inputmask":e.inputmask,type:e.type},on:{input:e.handleInput}},"input",e.$attrs,!1))]],2)}),[],!1,null,null,null),Le=We.exports,je=a("6be5"),Ee=a("7c86"),Be={name:"MfNumber",componentName:"MfNumber",inheritAttrs:!1,props:{id:String,name:String,max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":Number(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){let t=void 0===e.target.value?e.target.value:Number(e.target.value);t!==this.nativeInputValue&&(this.$emit("input",t),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},Re=Be,Ae=Object(s.a)(Re,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",staticClass:"form-control ",style:e.hightValue,attrs:{id:e.id,name:e.name,readonly:e.readonly,styleText:e.styleText,type:"number"},on:{input:e.handleInput}},"input",e.$attrs,!1))]],2)}),[],!1,null,null,null),Ue=Ae.exports,ze={name:"MfDate",componentName:"MfDate",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},qe=ze,He=Object(s.a)(qe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect ",attrs:{readonly:e.readonly}},[a("i",{staticClass:"fa fa-calendar"})])]],2)}),[],!1,null,null,null),Ge=He.exports,Je={name:"MfTime",componentName:"MfTime",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},Qe=Object(s.a)(Je,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect ",attrs:{readonly:e.readonly}},[a("i",{staticClass:"fa fa-clock-o"})])]],2)}),[],!1,null,null,null).exports,Ke={name:"MfMultiselect",componentName:"MfMultiselect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,styleText:String,readonly:Boolean},computed:{hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{},methods:{},created(){},mounted(){$("#"+this.id).select2({placeholder:this.placeholder,minimumResultsForSearch:-1,allowClear:!0})}},Xe=Object(s.a)(Ke,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"],style:[{height:"34px"},this.styleText]},[[t("select",this._b({staticClass:"form-control",staticStyle:{width:"100%",height:"100%"},attrs:{id:this.id,name:this.name,readonly:this.readonly}},"select",this.$attrs,!1),[t("option")])]],2)}),[],!1,null,null,null).exports,Ye={name:"MfListbox",componentName:"MfListbox",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,styleText:String,readonly:Boolean},computed:{hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{},methods:{},created(){},mounted(){}},Ze=Object(s.a)(Ye,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("select",this._b({staticClass:"form-control",style:this.hightValue,attrs:{id:this.id,name:this.name,styleText:this.styleText,readonly:this.readonly,multiple:""}},"select",this.$attrs,!1),[t("option")])]],2)}),[],!1,null,null,null).exports,et={name:"MfCheckboxGroup",componentName:"MfCheckboxGroup",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},initCheckBox(e){setTimeout((function(){$("#"+e).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),50)}},created(){},mounted(){this.setNativeInputValue(),this.initCheckBox(this.id)}},tt=Object(s.a)(et,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{width:"100px",height:"34px","line-height":"32px"}},[t("input",{staticClass:"box",attrs:{type:"checkbox",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v("复选框组")])])]],2)}),[],!1,null,null,null).exports,at={name:"MfCheckbox",componentName:"MfCheckbox",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,labelValue:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},initCheckBox(e){setTimeout((function(){$("#"+e).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),50)}},created(){},mounted(){this.setNativeInputValue(),this.initCheckBox(this.id)}},it=Object(s.a)(at,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{width:"100px",height:"34px","line-height":"32px"}},[t("input",{staticClass:"box",attrs:{type:"checkbox",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v(this._s(this.labelValue))])])]],2)}),[],!1,null,null,null).exports,lt={name:"MfRadioGroup",componentName:"MfRadioGroup",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue(),$("#"+this.id).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}},st=Object(s.a)(lt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{width:"100px",height:"32px","line-height":"32px"}},[t("input",{staticClass:"box",attrs:{type:"radio",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v("单选框组")])])]],2)}),[],!1,null,null,null).exports,nt={name:"MfSplitline",componentName:"MfSplitline",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},ot=Object(s.a)(nt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{"border-top":"solid 1px #c5cfdb"}})]],2)}),[],!1,null,null,null).exports,rt={name:"MfButton",componentName:"MfButton",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,btnType:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},parseType(){return"x-btn "+this.btnType+"-btn"}},watch:{},methods:{},created(){},mounted(){}},dt=Object(s.a)(rt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",e._b({class:e.parseType,style:e.hightValue,attrs:{type:"button",id:e.id,name:e.name,styleText:e.styleText}},"button",e.$attrs,!1),[e._v("\n\t\t  "+e._s(e.contentValue)+"\n\t  ")])}),[],!1,null,null,null).exports,ct={name:"MfLabel",componentName:"MfLabel",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,styleText:String,styleClass:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)}},watch:{},methods:{},created(){},mounted(){}},ut=Object(s.a)(ct,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("label",{class:["control-label",e.styleClass],style:e.hightValue,attrs:{id:e.id,name:e.name,styleText:e.styleText}},[e._v(e._s(e.contentValue))])}),[],!1,null,"60dc519a",null).exports,pt={name:"MfInnerHtml",componentName:"MfInnerHtml",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},parseText(){return this.contentValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\n/g,"<br>")}},watch:{},methods:{},created(){},mounted(){}},mt=(a("f284"),Object(s.a)(pt,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"itemHtml",style:this.hightValue,attrs:{id:this.id,name:this.name,styleText:this.styleText},domProps:{innerHTML:this._s(this.parseText)}})}),[],!1,null,"665a19e0",null).exports),ht={name:"MfImage",componentName:"MfImage",inheritAttrs:!1,props:{id:String,name:String,imgSrc:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},initImgSrc(){let e=this.imgSrc;return null==e||0==e.length?"":(e="../"+e.toLowerCase(),alert(e),e)}},watch:{},methods:{},created(){},mounted(){}},ft=(a("3aa7"),Object(s.a)(ht,(function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"itemImage",style:this.hightValue,attrs:{src:this.initImgSrc,id:this.id,name:this.name,styleText:this.styleText}})}),[],!1,null,"0ca73580",null).exports),gt={name:"MfSingleUserSelect",componentName:"MfSingleUserSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},bt=Object(s.a)(gt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-user"})])])}),[],!1,null,null,null).exports,yt={name:"MfMultiUserSelect",componentName:"MfMultiUserSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},vt=Object(s.a)(yt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-group"})])])}),[],!1,null,null,null).exports,xt={name:"MfSingleDeptSelect",componentName:"MfSingleDeptSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},wt=Object(s.a)(xt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-th-large"})])])}),[],!1,null,null,null).exports,St={name:"MfMultiDeptSelect",componentName:"MfMultiDeptSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},kt=Object(s.a)(St,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-sitemap"})])])}),[],!1,null,null,null).exports,_t={name:"MfSingleFileUpload",componentName:"MfSingleFileUpload",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},Ct=(a("5ade"),Object(s.a)(_t,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[t("div",{staticStyle:{height:"32px",float:"right",width:"60px","margin-left":"0px"}},[t("div",{staticClass:"col-md-12 input-group input-group  clearfix"},[t("a",{staticClass:"common_button2 common_button_icon file_click",attrs:{href:"###"}},[t("em",{staticClass:"ico16 affix_16"}),this._v("添加\n\t\t\t\t\t"),t("input",this._b({attrs:{type:"file",size:"51",id:this.id,name:this.name,readonly:"readonly"}},"input",this.$attrs,!1))])])]),this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"file_select  border_all clearfix",staticStyle:{float:"left",width:"calc(100% - 60px)",padding:"0px 5px"}},[t("li",[t("a",[this._v(" ")])])])}],!1,null,"4eafea48",null).exports),Tt={name:"MfMultiFileUpload",componentName:"MfMultiFileUpload",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},Dt=(a("0d07"),Object(s.a)(Tt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[t("div",{staticStyle:{height:"30px",float:"right",width:"60px","margin-left":"0px"}},[t("div",{staticClass:"col-md-12 input-group input-group  clearfix"},[t("a",{staticClass:"common_button2 common_button_icon file_click",attrs:{href:"###"}},[t("em",{staticClass:"ico16 affix_16"}),this._v("添加\n\t\t\t\t\t"),t("input",this._b({attrs:{type:"file",size:"51",id:this.id,name:this.name,readonly:this.readonly}},"input",this.$attrs,!1))])])]),this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"file_select  border_all clearfix",staticStyle:{float:"left",width:"calc(100% - 60px)",padding:"0px 5px"}},[t("li",[t("a",[this._v(" ")])])])}],!1,null,"3dbe8932",null).exports),Vt={name:"MfProcessOpinion",componentName:"MfProcessOpinion",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},$t=Object(s.a)(Vt,(function(){var e=this.$createElement;return(this._self._c||e)("div",{class:["col-md-12","input-group"]},[this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%","min-height":"72px",width:"100%"}},[t("div",{staticClass:"strCls",staticStyle:{height:"36px",color:"#606266","text-align":"left","line-height":"36px"}},[this._v("意见内容")]),t("div",{staticClass:"strCls",staticStyle:{height:"36px",color:"#0560a6","line-height":"36px"}},[t("div",{staticStyle:{float:"right"}},[this._v("XXXX年XX月XX日")]),t("div",{staticStyle:{float:"right","margin-right":"30px"}},[this._v("部门    意见人")])])])}],!1,null,"7e76d21a",null).exports,It={name:"MfTree",componentName:"MfTree",props:["element","select","index","data","selectDataSource","widgetForm"],components:{Draggable:x.a},data(){return{defaultStyle:"height:300px;width:100%",selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{initStyle(){let e=this.element.options.styleText;return null==e||0==e.length?this.defaultStyle:(e=e.toLowerCase(),e)}},mounted(){},methods:{handleWidgetDelete(e){this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Ft=Object(s.a)(It,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24,id:e.element.key,name:e.element.name}},[a("label",{staticStyle:{color:"#000000"}},[e._v(e._s(e.element.name))])]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,Ot={name:"MfToolBarItem",componentName:"MfToolBarItem",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,btnType:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},parseType(){return"x-btn "+this.btnType+"-btn"}},watch:{},methods:{},created(){},mounted(){}},Mt=Object(s.a)(Ot,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",e._b({class:["btn","btn-default","toolBarItem"],style:e.hightValue,attrs:{type:"button",id:e.id,name:e.name,styleText:e.styleText}},"button",e.$attrs,!1),[e._v("\n\t\t  "+e._s(e.contentValue)+"\n\t  ")])}),[],!1,null,null,null).exports,Nt={name:"MfEditList",componentName:"MfEditList",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm"],components:{MFToolBarItem:Mt,Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},mounted(){},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleEditListAdd(e,t,a){const i=e.newIndex,l=e.oldIndex,s=e.item;if(s.className.indexOf("data-grid")>=0)return"DIV"===s.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let n=t.columns[a].list[i].key;if(this.validateDraggableMsg(n,e,t,a))return;if("EditList"==t.type&&t.columns[a].list.length>1)return t.columns[a].list.splice(i,1),!1;let o=t.columns[a].list[i].name;t.columns[a].list[i].type,n=j(n,this.widgetForm,t.columns[a].list[i],t),this.$set(t.columns[a].list,i,{...t.columns[a].list[i],isEditListItem:"EditList"==t.type,options:{...t.columns[a].list[i].options,remoteFunc:"func_"+n,colClass:this.widgetForm.config.colClass},key:n,name:o,model:t.columns[a].list[i].type+"_"+n}),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,{...t.columns[a].list[i],isEditListItem:"EditList"==t.type,options:{...t.columns[a].list[i].options,colClass:this.widgetForm.config.colClass,options:t.columns[a].list[i].options.options?t.columns[a].list[i].options.options.map(e=>({...e})):[]}}),this.selectWidget=t.columns[a].list[i],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;if(!e){if(a){const e=this.element.columns[i].list[l].type;if(this.isEditListFiled(e))return layer.msg("重复表区域只能拖入字段",{icon:0}),a.columns[i].list.splice(l,1),!0}return!1}{const n=this.getDataSourceItemSelect(e);if(!this.data.isMobile)return"repeatRTable"==n.flag?(layer.msg("重复节不能移动到重复表内",{icon:0}),this.$set(this.fromData.row.list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0):"repeatTable"==n.flag&&a.key!=n.tableCode&&(layer.msg("重复表组件只能在自己所在重复表内移动",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0);if("mainTable"==n.flag&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.columns[i].list.splice(l,1),!0;if(a&&a.key!=n.tableCode)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.columns[i].list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)},isEditListFiled(e){let t=!1;switch(e){case"EditList":case"DataList":case"splitline":case"TitlePanel":case"TabContainer":case"Grid":case"image":case"button":case"label":case"innerhtml":t=!0;break;default:t=!1}return t}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Pt=(a("79d1"),Object(s.a)(Nt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget col-md-12",class:{active:e.selectWidget.key==e.element.key},staticStyle:{display:"flow-root"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[1==e.element.designType?[a("div",{staticClass:"x_panel panel_color",staticStyle:{"pointer-events":"none"}},e._l(e.element.actions.list,(function(t,i){return t.key?a("mf-tool-bar-item",{key:i,attrs:{contentValue:t.options.contentValue}}):e._e()})),1),a("table",{staticClass:"subtableStyle"},[a("mf-edit-list-item",{attrs:{element:e.element,widgetForm:e.widgetForm,select:e.selectWidget},on:{"update:select":function(t){e.selectWidget=t}}}),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1)]:[a("div",{staticClass:"editListHeadStyle",style:{display:"flow-root",pointerEvents:!0===e.isIncludeForm?"none":"auto"}},e._l(e.element.actions.list,(function(t,i){return t.key?a("mf-tool-bar-item",{key:i,attrs:{contentValue:t.options.contentValue}}):e._e()})),1),a("el-row",{attrs:{gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,type:"flex",align:e.element.options.align}},[e._l(e.element.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span?t.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.element,i)},add:function(t){return e.handleEditListAdd(t,e.element,i)}},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list edit-List",attrs:{name:"fade",tag:"div"}},e._l(t.list,(function(i,l){return i.key?a("widget-form-item",{key:i.key,staticClass:"editList-item",attrs:{element:i,select:e.selectWidget,selectDataSource:e.seleDataSource,index:l,data:t,result:e.widgetForm.dataSource,isIncludeForm:e.isIncludeForm,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()})),1)],1)],1)})),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],2)]],2):e._e()}),[],!1,null,null,null).exports),Wt={name:"TitlePanel",componentName:"TitlePanel",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm"],components:{Draggable:x.a},data(){return{contentHeight:"252px",selectWidget:this.select,seleDataSource:this.selectDataSource}},mounted(){this.changeContenHeight(),window.onresize=()=>(()=>{this.changeContenHeight()})()},methods:{changeContenHeight(){this.$nextTick(()=>{if(this.$refs.tabDiv){let e=this.$refs.tabDiv.$el.offsetHeight;this.contentHeight=e-55+"px"}})},handleSelectWidget(e,t){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns,void 0!==t&&(t.cancelBubble=!0)},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"element.options.height":function(e){this.changeContenHeight()}}},Lt=Object(s.a)(Wt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key},style:{height:e.element.options.height,pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{type:"flex",gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index,t)}}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"ibox-title"},[a("h5",[e._v(e._s(e.element.title))]),a("div",{staticClass:"ibox-tools"})]),a("div",{staticClass:"ibox-content",style:{height:e.contentHeight}},[a("form-container",{attrs:{data:e.element,element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isTitlePanel:!0,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}})],1)]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,jt={name:"MfDataList",componentName:"MfDataList",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},mounted(){},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleDataListAdd(e,t,a){const i=e.newIndex,l=e.oldIndex,s=e.item;if(s.className.indexOf("data-grid")>=0)return"DIV"===s.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let n=t.list[i].key;if(this.validateDraggableMsg(n,e,t))return void t.list.splice(i,1);let o=t.list[i].name;var r=t.list[i].type;if("splitline"===r||"label"===r||"innerhtml"===r){var d=G(r,this.widgetForm);n=r+d,o+=d}else n=j(n,this.widgetForm,t.list[i],t);this.$set(t.list,i,{...t.list[i],options:{...t.list[i].options,remoteFunc:"func_"+n},key:n,name:o,model:t.list[i].type+"_"+n}),"radio"!==t.list[i].type&&"checkbox"!==t.list[i].type&&"select"!==t.list[i].type||this.$set(t.list,i,{...t.list[i],options:{...t.list[i].options,options:t.list[i].options.options?t.list[i].options.options.map(e=>({...e})):[]}}),this.selectWidget=t.list[i],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;if(!e){if(a){const e=this.element.list[l].type;if("EditList"===a.type){if("EditList"==e||"DataList"==e||"splitline"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e)return layer.msg("重复表区域只能拖入字段",{icon:0}),a.list.splice(l,1),!0}else if("DataList"===a.type&&("EditList"==e||"DataList"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e))return layer.msg("重复节区域只能拖入字段或分割线",{icon:0}),a.list.splice(l,1),!0}return!1}{const i=this.getDataSourceItemSelect(e);if(!this.data.isMobile)return"repeatRTable"==i.flag?(layer.msg("重复节组件不能移动到其他重复节",{icon:0}),this.$set(this.fromData.row.list,s,{...a.list[l]}),a.list.splice(l,1),!0):"repeatTable"==i.flag?a.key!=i.tableCode&&(layer.msg("重复表组件不能移动到重复节",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.list[l]}),a.list.splice(l,1),!0):"mainTable"==i.flag&&(layer.msg("主表组件不能移动到重复节",{icon:0}),this.$set(null!=this.fromData.colIndex?this.fromData.row.columns[this.fromData.colIndex].list:this.fromData.row.list,s,{...a.list[l]}),a.list.splice(l,1),!0);if("mainTable"==i.flag&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.list.splice(l,1),!0;if(a&&a.key!=i.tableCode)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Et=(a("bd7f"),Object(s.a)(jt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view col-md-12 drag-widget",class:{active:e.selectWidget.key==e.element.key},style:{pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{type:"flex",gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{attrs:{span:24}},[a("h3",{staticClass:"dataListTitle"},[e._v("\n                "+e._s(e.getDataSourceItemSelect(e.element.key).columns.name))]),a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.element,null)},add:function(t){return e.handleDataListAdd(t,e.element,0)}},model:{value:e.element.list,callback:function(t){e.$set(e.element,"list",t)},expression:"element.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list data-list",attrs:{name:"fade",tag:"div"}},e._l(e.element.list,(function(t,i){return t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.element,result:e.widgetForm.dataSource,isIncludeForm:e.isIncludeForm,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()})),1)],1)],1),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports),Bt={name:"MfQueryForm",components:{MfButton:dt},componentName:"MfQueryForm",inheritAttrs:!1,props:{queryForm:{type:Object},actions:{type:Object},queryContainerType:{type:String}},computed:{tableArr(){const e=[];let t;if("toolbar"!=this.queryContainerType)for(let a=0;a<this.queryForm.list.length;a++)a%2==0&&(t=[],e.push(t)),t.push(this.queryForm.list[a]);return e}},watch:{},methods:{},created(){},mounted(){}},Rt=Object(s.a)(Bt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return"toolbar"==e.queryContainerType?a("div",{staticClass:"x_panel panel_color",staticStyle:{"text-align":"left",width:"100%",height:"38px"},attrs:{id:"QueryForm001_tb"}},[e._l(e.queryForm.list,(function(t,i){return[a("label",{staticClass:"control-label ",staticStyle:{"white-space":"nowrap","padding-left":"4px","min-width":"40px","vertical-align":"middle"}},[e._t("label",[e._v(e._s(t.displayLabel))])],2),"input"==t.editorType?[a("mf-input",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"date"==t.editorType?[a("mf-date",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"time"==t.editorType?[a("mf-time",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},attrs:{id:t.id}})]:e._e(),"number"==t.editorType?[a("mf-number",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.options.id}})]:e._e(),"select"==t.editorType?[a("mf-select",{style:t.style,attrs:{id:t.id}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"multiselect"==t.editorType?[a("mf-multiselect",{style:t.style,attrs:{id:t.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"listbox"==t.editorType?[a("mf-listbox",{style:t.style,attrs:{id:t.options.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"popupselect"==t.editorType?[a("mf-popupselect",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"radiogroup"==t.editorType?[a("mf-radio-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkboxgroup"==t.editorType?[a("mf-checkbox-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkbox"==t.editorType?[a("mf-checkbox",{attrs:{id:t.id,labelValue:t.options.labelValue}})]:e._e(),"SingleUserSelect"==t.editorType?[a("mf-single-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"MultiUserSelect"==t.editorType?[a("mf-multi-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"SingleDeptSelect"==t.editorType?[a("mf-single-dept-select",{attrs:{id:t.options.id}})]:e._e(),"MultiDeptSelect"==t.editorType?[a("mf-multi-dept-select",{attrs:{id:t.options.id}})]:e._e()]})),e._l(e.actions.list,(function(t,i){return t.key?a("mf-tool-bar-item",{key:i,attrs:{contentValue:t.options.contentValue}}):e._e()}))],2):a("table",{staticClass:"query_form_content",staticStyle:{width:"100%"}},[e._l(e.tableArr,(function(t){return a("tr",[e._l(t,(function(t,i){return[a("td",{staticClass:"query_form_label2"},[a("label",{staticClass:"control-label ",attrs:{id:"j_id0",name:"j_id0"}},[e._v(e._s(t.displayLabel))])]),a("td",{staticClass:"query_form_input2"},["input"==t.editorType?[a("mf-input",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"date"==t.editorType?[a("mf-date",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"time"==t.editorType?[a("mf-time",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},attrs:{id:t.id}})]:e._e(),"number"==t.editorType?[a("mf-number",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.options.id}})]:e._e(),"select"==t.editorType?[a("mf-select",{style:t.style,attrs:{id:t.id}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"multiselect"==t.editorType?[a("mf-multiselect",{style:t.style,attrs:{id:t.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"listbox"==t.editorType?[a("mf-listbox",{style:t.style,attrs:{id:t.options.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"popupselect"==t.editorType?[a("mf-popupselect",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"radiogroup"==t.editorType?[a("mf-radio-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkboxgroup"==t.editorType?[a("mf-checkbox-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkbox"==t.editorType?[a("mf-checkbox",{attrs:{id:t.id,labelValue:t.options.labelValue}})]:e._e(),"SingleUserSelect"==t.editorType?[a("mf-single-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"MultiUserSelect"==t.editorType?[a("mf-multi-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"SingleDeptSelect"==t.editorType?[a("mf-single-dept-select",{attrs:{id:t.options.id}})]:e._e(),"MultiDeptSelect"==t.editorType?[a("mf-multi-dept-select",{attrs:{id:t.options.id}})]:e._e()],2)]})),e.queryForm.list.length%2!=0&&t==e.tableArr[e.tableArr.length-1]?[a("td",{staticClass:"query_form_label2"}),a("td",{staticClass:"query_form_input2"})]:e._e()],2)})),a("tr",[a("td",{staticClass:"query_form_command",staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},e._l(e.actions.list,(function(t,i){return t.key?a("mf-button",{key:i,staticClass:"x-btn ok-btn",attrs:{contentValue:t.options.contentValue}}):e._e()})),1)])],2)}),[],!1,null,null,null).exports,At={name:"MfQueryList",componentName:"MfQueryList",props:["id","element","select","index","data","widgetForm","fromData"],components:{MfQueryForm:Rt,Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{gridHight(){let e=this.element.options.height;return e&&-1==e.toLowerCase().indexOf("px")&&-1==e.indexOf("%")&&(e+="px"),e},getDataGridParam(){let e={classes:"table table-hover",method:"post",url:"../matrix.rform?mHtml5Flag=true&MATRIX_REFRESH_FORM_ID=form0&matrix_command_id=loadData&X-Requested-With=XMLHttpRequest&REFRESH_COMPONENT_IDS=DataGrid001,&matrix_form_tid=a5509859-5ce3-4400-b367-1bbc204a2db0",showToggle:!1,sortable:!0,onDblClickRow:function(e,t,a){rowClick(e)},striped:!0,pagination:!0,pageSize:20,pageNumber:1,pageList:[10,25,50,100],search:!1,sidePagination:"server",clickToSelect:!0,formatLoadingMessage:function(){return"请稍等，正在加载中..."},formatNoMatches:function(){return"无符合条件的记录"},showExport:!0,exportDataType:"basic",queryParamsType:"limit",queryParams:function(e){return{pageNumber:e.offset,pageSize:e.limit,sort:e.sort,order:e.order}},columns:[{title:"序号",width:"8px",formatter:function(e,t,a){var i=$("#"+this.id).bootstrapTable("getPage");return i.pageSize*(i.pageNumber-1)+a+1}}],singleSelect:!0};return e.columns=e.columns.concat(this.element.fields),e}},methods:{handleSelectWidget(e){this.selectWidget=this.data.list[e]},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},initQueryList(e){var t=this.getDataGridParam;setTimeout((function(){$("#"+e).bootstrapTable("destroy"),$("#"+e).bootstrapTable(t)}),50)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},element:{handler(e){$("#"+this.id).length>0&&this.initQueryList(this.id)},deep:!0}},mounted(){this.initQueryList(this.id)}},Ut=(a("f715"),Object(s.a)(At,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget col-md-12 query-list",class:{active:e.selectWidget.key==e.element.key},style:[{display:"flow-root"},{height:e.gridHight}],attrs:{gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,type:"flex",align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("table",{staticClass:"query_form_content",staticStyle:{height:"100%",width:"100%",overflow:"hidden","border-collapse":"collapse","border-spacing":"0px","table-layout":"fixed"}},[a("tr",{staticStyle:{height:"0px"}},[a("td",{staticClass:"query_form_toolbar",attrs:{colspan:"2"}},[a("mf-query-form",{attrs:{queryForm:e.element.QueryForm,actions:e.element.actions,queryContainerType:e.element.options.queryContainerType}})],1)]),a("tr",[a("td",{staticStyle:{"border-style":"none",width:"100%",margin:"0px",padding:"0px","vertical-align":"top",height:"100%"},attrs:{colspan:"2"}},[a("table",{staticStyle:{width:"100%",height:"100%"},attrs:{id:e.id}})])])]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()]):e._e()}),[],!1,null,null,null).exports),zt={name:"FormContainer",componentName:"FormContainer",props:["data","select","selectDataSource","widgetForm","isTitlePanel","fromData","isIncludeForm"],components:{MfDataGridList:Ut,MfDataList:Et,TitlePanel:Lt,Draggable:x.a},data(){return{result:{},selectWidget:this.select,seleDataSource:this.selectDataSource}},mounted(){},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetAdd(e){const t=e.newIndex;if(e.oldIndex,e.to,void 0!==this.data.list[t].dataSourceType&&"subData"==this.data.list[t].dataSourceType)return layer.msg("重复节组件只能添加到重复节当中",{icon:0}),this.data.list.splice(t,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let a=this.data.list[t].key;if(this.validateDraggableMsg(a,e))return void this.data.list.splice(t,1);let i=this.data.list[t].name;var l=this.data.list[t].type;if("EditList"===l)this.$set(this.data.list,t,{...this.data.list[t],designType:this.widgetForm.designType,relationId:1!=this.widgetForm.designType?"rBizId":"",relationValue:1!=this.widgetForm.designType?"#{param.mFlowBizId}":"",orderId:1!=this.widgetForm.designType?"cOrder":"",columns:this.data.list[t].columns.map(e=>({...e}))}),a=W(a,this.widgetForm,this.data.list[t]);else if("DataList"===l)this.$set(this.data.list,t,{...this.data.list[t],list:this.data.list[t].list.map(e=>({...e}))}),a=function(e,t,a){let i=t.dataSource;if(e||(e=1!=t.designType?I(i):"subTable"+Date.parse(new Date)),1!=t.designType){var l=i.repeatRTable,s=F(e,i),n={},o=[],r={type:"DataList"};r.key=e,r.name=a.name+s,r.isNew="true",o.push(r),n.columns=o,l.push(n)}return e}(a,this.widgetForm,this.data.list[t]);else if("splitline"===l||"TitlePanel"===l||"Tree"===l||"IncludeForm"===l){var s=G(l,this.widgetForm);a=l+s,i+=s}else"HorizontalContainer"===l?(this.$set(this.data.list,t,{...this.data.list[t],list:this.data.list[t].list.map(e=>({...e}))}),s=G(l,this.widgetForm),a=l+s,i+=s):"Grid"===l?(this.$set(this.data.list,t,{...this.data.list[t],columns:this.data.list[t].columns.map(e=>({...e}))}),s=G(l,this.widgetForm),a=l+s,i+=s):"TabContainer"===l?(this.$set(this.data.list,t,{...this.data.list[t],tabPanels:this.data.list[t].tabPanels.map(e=>({...e}))}),s=G(l,this.widgetForm),a=l+s,i+=s):a="QueryList"===l?W(a,this.widgetForm,this.data.list[t]):L(a,this.widgetForm,this.data.list[t]);if(this.$set(this.data.list,t,{...this.data.list[t],options:{...this.data.list[t].options,id:a+this.data.list[t].type},key:a,name:i}),"EditList"!==l&&"QueryList"!==l||(this.data.list[t].actions.list=this.data.list[t].actions.list.map(e=>({...e,options:{...e.options,onclick:e.options.onclick+"('"+a+this.data.list[t].type+"')"}}))),"radio"!==l&&"checkbox"!==l&&"select"!==l||this.$set(this.data.list,t,{...this.data.list[t],options:{...this.data.list[t].options,colClass:this.data.list[t].options.hasOwnProperty("colClass")?this.data.list[t].options.colClass:this.data.config.colClass,options:this.data.list[t].options.options.map(e=>({...e}))}}),this.selectWidget=this.data.list[t],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns,1==this.widgetForm.designType&&("EditList"===this.data.list[t].type||"QueryList"===this.data.list[t].type)){const e={list:this.data.list,newIndex:t};this.$emit("handleCompontentSet",this.selectWidget,e,this)}},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)},getMaxTabId(){var e=0;for(this.data.list.forEach((function(t,a,i){"TabContainer"==t.type&&t.tabPanels.forEach((function(t,a,i){if(t.id){var l=t.id.substring(t.id.length-3);parseInt(l)>e&&(e=parseInt(l))}}))})),e++,e=(e=parseInt(e,10)).toString();e.length<3;)e="0"+e;return e},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;let n="";if(!e){const e=this.data.list[l].type;if(a)if("EditList"===a.type){if("EditList"==e||"DataList"==e||"splitline"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e)return layer.msg("重复表区域只能拖入字段",{icon:0}),!0}else if("DataList"===a.type&&("EditList"==e||"DataList"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e))return layer.msg("重复节区域只能拖入字段或分割线",{icon:0}),!0;return n=this.$t(`fm.components.fields.${e}`),!!this.isContainerFiled(e)&&(layer.msg(n+"不能拖入当前区域",{icon:0}),!0)}{a||(a=this.data),n=this.data&&void 0!==this.data.type?this.$t(`fm.components.fields.${this.data.type}`):this.data&&void 0!==this.data.id?"标签容器":"主表";const o=this.getDataSourceItemSelect(e);if(!this.data.isMobile){if("repeatRTable"==o.flag)return layer.msg("重复节组件不能移动到主表",{icon:0}),this.$set(this.fromData.row.list,s,{...this.data.list[l]}),!0;if("repeatTable"==o.flag){if(a){if(a.key==o.tableCode)return!1;layer.msg("重复表组件只能在自己所在重复表内移动",{icon:0}),void 0===i?this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.list[l]}):this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.columns[i].list[l]})}else layer.msg("重复表组件不能移动到主表",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...this.data.list[l]});return!0}if("mainTable"==o.flag){if(void 0!==i)layer.msg("主表组件不能移动到重复表",{icon:0}),this.$set(null!=this.fromData.colIndex?this.fromData.row.columns[this.fromData.colIndex].list:this.fromData.row.list,s,{...a.columns[i].list[l]});else{if(this.data&&(void 0!==this.data.id||"TitlePanel"==this.data.type))return!1;layer.msg("主表组件不能移动到"+n,{icon:0}),this.$set(null!=this.fromData.colIndex?this.fromData.row.columns[this.fromData.colIndex].list:this.fromData.row.list,s,{...a.list[l]})}return!0}return!1}if(a&&void 0!==a.formCode)return!1;if("mainTable"==o.flag&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),!0;if(a&&a.key!=o.tableCode)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)},handleMove(e,t){const a=e.to;return-1==e.from.className.indexOf("widget-form-list")||-1==a.className.indexOf("edit-List")&&-1==a.className.indexOf("data-list")},isContainerFiled(e){let t=!1;switch(e){case"image":case"button":case"label":case"innerhtml":t=!0;break;default:t=!1}return t},loadFormBySession(){this.$emit("loadFormBySession")}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},qt=(a("9357"),Object(s.a)(zt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("draggable",e._b({staticClass:"fromContainer",attrs:{move:e.handleMove},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.data,null)},add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-form-list",attrs:{name:"fade",tag:"div"}},[e._l(e.data.list,(function(t,i){return["EditList"==t.type?[t&&t.key?a("mf-edit-list",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"DataList"==t.type?[t&&t.key?a("mf-data-list",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"TitlePanel"==t.type?[t&&t.key?a("title-panel",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"TabContainer"==t.type?[t&&t.key?a("mf-tab-container",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"Grid"==t.type?[t&&t.key?a("mf-grid",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"HorizontalContainer"==t.type?[t&&t.key?a("mf-horizontal-container",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"Tree"==t.type?[t&&t.key?a("mf-tree",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"IncludeForm"==t.type?[t&&t.key?a("mf-include-form",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"QueryList"==t.type?[t&&t.key?a("mf-query-list",{key:t.key,attrs:{id:t.key+"_table",element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,result:e.widgetForm.dataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]]}))],2)],1)}),[],!1,null,null,null).exports),Ht={name:"MfTabContainer",componentName:"MfTabContainer",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm"],components:{Draggable:x.a},data(){return{tabId:"",contentHeight:"546px",selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{},mounted(){this.changeContenHeight(),window.onresize=()=>(()=>{this.changeContenHeight()})()},methods:{getTabId(e){let t=!1;return e.id&&(t=!0,"true"==e.selected&&(this.tabId=e.id)),t},changeContenHeight(){this.$nextTick(()=>{if(this.$refs.tabDiv){let e=this.$refs.tabDiv.$el.offsetHeight;this.contentHeight=e-64+"px"}})},handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"element.options.height":function(e){this.changeContenHeight()}}},Gt=Object(s.a)(Ht,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key},style:{height:e.element.options.height,pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{type:"flex",gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{attrs:{span:24}},[e.element.tabPanels.length>0?a("el-tabs",{staticStyle:{padding:"0 20px"},model:{value:e.tabId,callback:function(t){e.tabId=t},expression:"tabId"}},e._l(e.element.tabPanels,(function(t,i){return e.getTabId(t)?a("el-tab-pane",{key:i,style:{height:e.contentHeight},attrs:{label:t.title,name:t.id}},[a("form-container",{attrs:{data:t,element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}})],1):e._e()})),1):e._e()],1),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,Jt={name:"MfGrid",componentName:"MfGrid",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},mounted(){},computed:{gridHight(){let e=this.element.options.height;return e&&-1==e.toLowerCase().indexOf("px")&&-1==e.indexOf("%")&&(e+="px"),e}},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleGridAdd(e,t,a){const i=e.newIndex,l=e.oldIndex,s=e.item;if(s.className.indexOf("data-grid")>=0)return"DIV"===s.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].columns[a].list.splice(i,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let n=t.columns[a].list[i].key;if(this.validateDraggableMsg(n,e,t,a))return;let o=t.columns[a].list[i].name;var r=t.columns[a].list[i].type;if("label"===r||"innerhtml"===r||"image"===r||"button"===r||"Tree"===r){var d=G(r,this.widgetForm);n=r+d,o+=d}else n=L(n,this.widgetForm,t.columns[a].list[i]);this.$set(t.columns[a].list,i,{...t.columns[a].list[i],options:{...t.columns[a].list[i].options},key:n,name:o}),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,{...t.columns[a].list[i],options:{...t.columns[a].list[i].options,options:t.columns[a].list[i].options.options.map(e=>({...e}))}}),this.selectWidget=t.columns[a].list[i],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;if(!e){if(a){const e=this.element.columns[i].list[l].type;if("EditList"==e||"DataList"==e||"splitline"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e)return layer.msg("栅格区域只能拖入字段",{icon:0}),a.columns[i].list.splice(l,1),!0}return!1}{const n=this.getDataSourceItemSelect(e);if(!this.data.isMobile)return"repeatRTable"==n.flag?(layer.msg("重复节组件不能移动到栅格",{icon:0}),this.$set(this.fromData.row.list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0):"repeatTable"==n.flag?(layer.msg("重复表组件不能移动到栅格",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0):(n.flag,!1);if("mainTable"==n.flag&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.columns[i].list.splice(l,1),!0;if(a&&a.key!=n.tableCode)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.columns[i].list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Qt=(a("8ba4"),Object(s.a)(Jt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget col-md-12 grid",class:{active:e.selectWidget.key==e.element.key},style:{display:"flow-root",height:e.gridHight,pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,type:"flex",align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e._l(e.element.columns,(function(t,i){return a("el-col",{key:i,staticClass:"grid-col",attrs:{span:t.span?t.span:0}},[a("draggable",e._b({staticClass:"grid-col",attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.element,i)},add:function(t){return e.handleGridAdd(t,e.element,i)}},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list grid-col",class:"gridPosition-"+t.gridPosition,style:[{"min-height":"54px"},{height:e.gridHight}],attrs:{name:"fade",tag:"div"}},e._l(t.list,(function(i,l){return i.key?a("widget-form-item",{key:i.key,attrs:{element:i,select:e.selectWidget,selectDataSource:e.seleDataSource,index:l,data:t,result:e.widgetForm.dataSource,isIncludeForm:e.isIncludeForm,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()})),1)],1)],1)})),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],2):e._e()}),[],!1,null,null,null).exports),Kt={name:"MfHorizontalContainer",componentName:"MfHorizontalContainer",props:["element","select","index","data","selectDataSource","widgetForm","isIncludeForm"],components:{Draggable:x.a},data(){return{leftMask:!this.element.list[0].isURLPanel,rightMask:!this.element.list[1].isURLPanel,selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{initStyle(){let e=this.element.options.styleText;return e=e.toLowerCase(),!0===this.isIncludeForm&&(e+=";pointer-events: none"),e}},mounted(){},methods:{handleSelectWidget(e,t){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns,void 0!==t&&(t.cancelBubble=!0)},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&E(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},element:{handler(e){this.leftMask=!e.list[0].isURLPanel,this.rightMask=!e.list[1].isURLPanel},deep:!0}}},Xt=(a("29fc"),Object(s.a)(Kt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index,t)}}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"left-container",style:{height:"100%",width:e.element.list[0].width}},[e.leftMask?a("form-container",{attrs:{data:e.element.list[0],element:e.element.list[0],select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()],1),a("div",{style:{height:"100%",marginLeft:e.element.list[0].width}},[a("div",{staticClass:"middle-line"}),a("div",{staticClass:"right-container"},[e.rightMask?a("form-container",{attrs:{data:e.element.list[1],element:e.element.list[1],select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()],1)])]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,"5978eea6",null).exports),Yt={name:"MfIncludeForm",componentName:"MfIncludeForm",props:["element","select","index","data","selectDataSource","widgetForm"],components:{Draggable:x.a},data(){return{defaultStyle:"height:300px;width:100%",selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{initStyle(){let e=this.element.options.styleText;return null==e||0==e.length?this.defaultStyle:(e=e.toLowerCase(),e)}},mounted(){},methods:{handleWidgetDelete(e){this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,P(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Zt=(a("f983"),Object(s.a)(Yt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e.element.list.length>0?a("el-col",{attrs:{span:24,id:e.element.key,name:e.element.name}},[a("form-container",{attrs:{data:e.element,element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:!0},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}})],1):a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24,id:e.element.key,name:e.element.name}},[a("label",{staticStyle:{color:"#000000"}},[e._v(e._s(e.element.name))])]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports),ea={name:"MfEditListItem",componentName:"MfEditListItem",mixins:[$e],provide(){return{MfEditListItem:this}},inject:["mfForm"],props:["element","index","select","data","widgetForm","fromData"],data(){return{selectWidget:this.select}},components:{},watch:{},computed:{},mounted(){$(".box").iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}},ta=(a("280c"),Object(s.a)(ea,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tbody",{attrs:{align:e.element.options.align}},[a("tr",{staticStyle:{width:"100%",height:"40px"}},[a("td",{staticClass:"subtableNumberStyle",staticStyle:{width:"30px"}},[e._v("\n         \n    ")]),a("td",{staticClass:"subtableHeadStyle",staticStyle:{width:"30px"}},[a("input",{staticClass:"box",attrs:{type:"checkbox",id:e.element.key+"_headCheckBox",name:"mForm0125EditList_trCheckBox_0"}})]),e._l(e.element.columns,(function(t,i){return a("td",{key:i,staticClass:"subtableHeadStyle",style:t.list[0].options.styleText},e._l(t.list,(function(t,i){return t.title?a("label",{staticClass:"el-form-item__label",staticStyle:{width:"100%","text-align":"center"}},[e._t("label",[e._v(e._s(t.title))])],2):e._e()})),0)}))],2),a("tr",[e._m(0),a("td",{staticClass:"subtableHeadStyle",staticStyle:{width:"30px"}},[a("input",{staticClass:"box",attrs:{type:"checkbox",id:e.element.key+"_trCheckBox_0",name:"mForm0125EditList_trCheckBox_0"}})]),e._l(e.element.columns,(function(t,i){return a("td",{key:i,staticClass:"subtableCellStyle"},e._l(t.list,(function(t,i){return t.key?a("div",{key:t.key,staticStyle:{"pointer-events":"none"},attrs:{index:i}},["input"==t.type?[a("mf-input",{attrs:{defaultValue:t.options.defaultValue,id:t.key,mask:t.options.mask,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"date"==t.type?[a("mf-date",{attrs:{defaultValue:t.options.defaultValue,id:t.key,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"time"==t.type?[a("mf-time",{attrs:{defaultValue:t.options.defaultValue,id:t.key,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"number"==t.type?[a("mf-number",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"textarea"==t.type?[a("mf-textarea",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"select"==t.type?[a("mf-select",{attrs:{defaultValue:t.options.defaultValue,id:t.key,disabled:t.options.disabled,multiple:t.options.multiple,catalogIdText:t.options.catalogIdText,catalogId:t.options.catalogId,clearable:t.options.clearable,placeholder:t.options.placeholder}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"multiselect"==t.type?[a("mf-multiselect",{attrs:{defaultValue:t.options.defaultValue,id:t.key,disabled:t.options.disabled,multiple:t.options.multiple,clearable:t.options.clearable,placeholder:t.options.placeholder}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"listbox"==t.type?[a("mf-listbox",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,disabled:t.options.disabled,multiple:t.options.multiple,clearable:t.options.clearable,placeholder:t.options.placeholder}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"popupselect"==t.type?[a("mf-popupselect",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"radiogroup"==t.type?[a("mf-radio-group",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.key,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"checkboxgroup"==t.type?[a("mf-checkbox-group",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.key,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"checkbox"==t.type?[a("mf-checkbox",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.key,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled,labelValue:t.options.labelValue}})]:e._e(),"SingleUserSelect"==t.type?[a("mf-single-user-select",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"MultiUserSelect"==t.type?[a("mf-multi-user-select",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"SingleDeptSelect"==t.type?[a("mf-single-dept-select",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"MultiDeptSelect"==t.type?[a("mf-multi-dept-select",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.options.id,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"SingleFileUpload"==t.type?[a("mf-single-file-upload",{attrs:{id:t.options.id,styleText:t.options.styleText}})]:e._e(),"MultiFileUpload"==t.type?[a("mf-multi-file-upload",{attrs:{id:t.options.id,styleText:t.options.styleText}})]:e._e(),""==t.type?["text_type"==t.displayTypes[0].type?[a("label",{attrs:{id:t.options.id,styleText:t.options.styleText}},[e._v(e._s(t.displayTypes[0].value))])]:e._e(),"link_type"==t.displayTypes[0].type?[a("a",{attrs:{href:"#"}},[e._v(e._s(t.displayTypes[0].value))])]:e._e(),"picture_type"==t.displayTypes[0].type?[a("img",{attrs:{src:"../"+t.displayTypes[0].value}})]:e._e(),"picture_link_type"==t.displayTypes[0].type?[a("a",{attrs:{href:"#"}},[a("img",{attrs:{src:"../"+t.displayTypes[0].value}})])]:e._e()]:e._e()],2):e._e()})),0)}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"subtableNumberStyle",staticStyle:{width:"30px"}},[t("label",{staticClass:"control-label "},[this._v("1")])])}],!1,null,null,null).exports),aa={fm:{components:{fields:{input:"文本框",textarea:"文本域",number:"数字框",radiogroup:"单选框组",checkbox:"复选框",checkboxgroup:"复选框组",time:"时间选择",date:"日期选择",select:"下拉框",multiselect:"多选下拉框",listbox:"列表框",switch:"开关",text:"文字",DataList:"重复节",EditList:"重复表",tabs:"标签页",popupselect:"弹出选择",label:"单行标签",image:"图片",innerhtml:"多行标签",SingleUserSelect:"单选用户",MultiUserSelect:"多选用户",SingleDeptSelect:"单选部门",MultiDeptSelect:"多选部门",SingleFileUpload:"单文件上传",MultiFileUpload:"多文件上传",DesignSingleFileUpload:"单文件上传",DesignMultiFileUpload:"多文件上传",ProcessOpinion:"流程意见",Tree:"树",splitline:"分割线",button:"按钮",TitlePanel:"标题面板",TabContainer:"标签容器",Grid:"栅格布局",HorizontalContainer:"左右分栏",IncludeForm:"子表单",QueryList:"查询列表"},basic:{title:"基础字段"},advance:{title:"高级字段"},layout:{title:"布局组件"}},description:{containerEmpty:"从左侧拖拽来添加字段",configEmpty:"请添加字段",tableEmpty:"从左侧拖拽来添加字段",uploadJsonInfo:"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"},message:{copySuccess:"复制成功",validError:"表单数据校验失败"},actions:{import:"导入JSON",clear:"清空",preview:"预览",json:"生成JSON",code:"生成代码",getData:"获取数据",reset:"重置",copyData:"复制数据",cancel:"取 消",confirm:"确 定",addOption:"添加选项",addColumn:"添加列",addTab:"添加标签",upload:"点击上传",add:"添加"},config:{form:{title:"表单属性",labelPosition:{title:"标签对齐方式",left:"左对齐",right:"右对齐",top:"顶部对齐",center:"居中"},labelWidth:"表单标签宽度",size:"组件尺寸",col:"新加字段栅格布局",customClass:"自定义Class",formCode:"编码",formName:"名称",requiredValid:"数据唯一",formProperty:"表单属性"},widget:{title:"字段属性",id:"编码",fieldTitle:"标题",name:"名称",length:"长度",precision:"精度",styleText:"样式",width:"宽度",height:"高度",size:"大小",labelWidth:"标签宽度",custom:"自定义",placeholder:"提示语",layout:"布局方式",block:"块级",inline:"行内",left:"左侧",right:"右侧",center:"居中",showInput:"显示输入框",min:"最小值",max:"最大值",step:"步长",multiple:"是否多选",filterable:"是否可搜索",allowHalf:"允许半选",showAlpha:"支持透明度选择",showLabel:"是否显示标签",option:"选项",value:"值",label:"标签",childrenOption:"子选项",defaultValue:"默认值",showType:"显示类型",isRange:"是否为范围选择",isTimestamp:"是否获取时间戳",startPlaceholder:"开始时间占位内容",endPlaceholder:"结束时间占位内容",format:"格式",limit:"最大上传数",span:"栅格值",align:"垂直排列方式",alignTop:"顶部对齐",alignMiddle:"居中",alignBottom:"底部对齐",type:"风格类型",default:"默认",card:"选项卡",borderCard:"卡片化",tabPosition:"选项卡位置",top:"顶部",bottom:"底部",tabOption:"标签配置项",tabName:"标签名称",customClass:"自定义Class",attribute:"操作属性",dataBind:"数据绑定",hidden:"隐藏",readonly:"完全只读",disabled:"禁用",editable:"文本框可输入",clearable:"显示清除按钮",arrowControl:"使用箭头进行时间选择",isDelete:"删除",isEdit:"编辑",showPassword:"显示密码",validate:"校验",required:"必填",mask:"输入格式",datePattern:"显示格式",dataValidate:"数据校验",tabSet:"标签页设置",newOption:"新选项",tab:"标签页",validatorRequired:"必须填写",validatorType:"格式不正确",validatorPattern:"格式不匹配",preDeduction:"预扣除",hint:"数字格式",textPattern:"文本格式",isCurrency:"货币组件",showPreview:"图片上传",fileType:"上传文件类型",maxFileCount:"上传最大文件个数",showMultiComments:"支持多人意见",showDep:"显示部门名称",showMinimizeButton:"展开合上",columns:"列数",labelValue:"显示标签",contentValue:"显示内容",styleClass:"样式类",imgSrc:"图片地址",btnType:"按钮类型",requiredValid:"设置唯一",jointValidation:"联合校验",dataFormula:"数据计算",dataPower:"数据权限",dataEntry:"数据带入",triggerAction:"触发事件",relationType:"级联类型",relationId:"级联组件编码",relationProperty:"级联属性",digit:"规则编码总位数",levelDigit:"当前层次编码位数",catalogId:"数据字典",gutter:"栅格间隔",columnOption:"列配置项",fieldCol:"栅格布局",showTitle:"显示标题",bindValue:"绑定值",showLine:"显示分割线",attributeSet:"属性设置",link:"链接",formDid:"子表单",renderFormTag:"启用表单",jsEvent:"JS事件",relationProp:"级联属性",advancedProp:"高级属性",leftContainer:"左容器设置",rightContainer:"右容器设置",src:"链接",method:"回调方法",popupTitle:"弹出窗口标题",rowData:"每行记录变量名",rowIndex:"行号变量名",relationPro:"关联属性",relationProValue:"关联属性值",fileId:"文件编码",fileName:"文件名称",fileSizes:"文件大小",contents:"文件内容",displayMsg:"显示限制信息",queryCondition:"查询数据条件",fileRootPath:"文件根目录",fileSubPath:"文件子目录",isDowload:"是否可下载",isView:"是否可预览",isDeleted:"是否可删除",uploadAgain:"是否可新增",annexSize:"文件最大值",annexType:"允许上传的类型",annexNum:"允许上传的文件个数",saveType:"存储类型",bindId:"编码绑定",bindName:"名称绑定",dataObject:"业务对象",bindDataValue:"数据绑定",isURLPanel:"是否URL",viewURL:"URL地址"}}}};a("eb0d"),a("b20f");const ia=function(e,t,a,i){a?(a("zh-CN",{...a("zh-CN"),...aa}),e.config.lang=t):i?(i.setLocaleMessage("en-US",{...i.messages["en-US"],...enUS}),i.locale=t):(e.use(f.a),e.locale("zh-CN",{...e.locale("zh-CN"),...aa}),e.config.lang=t)};Ce.install=function(e,t={lang:"zh-CN",locale:null,i18n:null}){ia(e,t.lang,t.locale,t.i18n),e.component(Ce.name,Ce)},me.install=function(e,t={lang:"zh-CN",locale:null,i18n:null}){ia(e,t.lang,t.locale,t.i18n),e.component(me.name,me)};const la=[Ce,me,De,Me,Le,je.a,Ee.a,Ue,Ge,Qe,ie,Xe,Ze,st,tt,it,ot,dt,ut,mt,ft,bt,vt,wt,kt,Ct,Dt,$t,Ft,oe,Pt,qt,Lt,Qt,Gt,Et,ta,Mt,Et,Xt,Zt,Ut,Rt],sa=function(e,t={lang:"zh-CN",locale:null,i18n:null}){ia(e,t.lang,t.locale,t.i18n),la.forEach(t=>{e.component(t.name,t)})};"undefined"!=typeof window&&window.Vue&&sa(window.Vue);var na={install:sa,MakingForm:Ce,GenerateForm:me};i.default.use(f.a),i.default.use(g.a),i.default.locale("zh-CN",{...y.a,header:{title:"表单设计器",document:"使用文档",pricing:"商业授权",advanced:"高级版本"}}),i.default.config.lang="zh-CN",i.default.use(m.a,{size:"small"}),i.default.use(na),i.default.config.productionTip=!1,window.Vue=new i.default({router:u,render:e=>e(n)}).$mount("#app")},"586e":function(e,t,a){},"5ab1":function(e,t,a){},"5ade":function(e,t,a){"use strict";var i=a("ba2a");a.n(i).a},"5c0b":function(e,t,a){"use strict";var i=a("5202");a.n(i).a},"5f1c":function(e,t,a){},"5f49":function(module,__webpack_exports__,__webpack_require__){"use strict";var _GenerateFormItem__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7f9e"),_util_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4260");__webpack_exports__.a={name:"fm-generate-form",components:{GenetateFormItem:_GenerateFormItem__WEBPACK_IMPORTED_MODULE_0__.a},props:["data","remote","value","insite"],data:()=>({models:{},rules:{}}),created(){this.generateModle(this.data.list)},mounted(){},methods:{generateModle(genList){for(let i=0;i<genList.length;i++)"grid"===genList[i].type?genList[i].columns.forEach(e=>{this.generateModle(e.list)}):(this.value&&Object.keys(this.value).indexOf(genList[i].model)>=0?this.models[genList[i].model]=this.value[genList[i].model]:"blank"===genList[i].type?this.$set(this.models,genList[i].model,"String"===genList[i].options.defaultType?"":"Object"===genList[i].options.defaultType?{}:[]):this.models[genList[i].model]=genList[i].options.defaultValue,this.rules[genList[i].model]?this.rules[genList[i].model]=[...this.rules[genList[i].model],...genList[i].rules.map(item=>item.pattern?{...item,pattern:eval(item.pattern)}:{...item})]:this.rules[genList[i].model]=[...genList[i].rules.map(item=>item.pattern?{...item,pattern:eval(item.pattern)}:{...item})])},getData(){return new Promise((e,t)=>{this.$refs.generateForm.validate(a=>{a?e(this.models):t(new Error(this.$t("fm.message.validError")).message)})})},reset(){this.$refs.generateForm.resetFields()},onInputChange(e,t){this.$emit("on-change",t,e,this.models)},refresh(){}},watch:{data:{deep:!0,handler(e){this.generateModle(e.list)}},value:{deep:!0,handler(e){this.models={...this.models,...e}}}}}},"60da":function(e,t,a){"use strict";var i=a("fb15");a.n(i).a},6525:function(e,t,a){},"6be5":function(e,t,a){"use strict";var i={name:"MfPopupselect",componentName:"MfPopupselect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,popupClick:Function},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]},usableStyle(){return this.readonly||this.disabled?"":"usable"}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.readonly||this.disabled||this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},l=(a("4646"),a("2877")),s=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",class:["form-control",e.usableStyle],style:[e.hightValue],attrs:{id:e.id,name:e.name,readonly:"true",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect ",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-search"})])]],2)}),[],!1,null,null,null);t.a=s.exports},"6fc0":function(e,t,a){},7417:function(e,t,a){},"747a":function(e,t,a){},"783b":function(e,t,a){},"79d1":function(e,t,a){"use strict";var i=a("586e");a.n(i).a},"7c86":function(e,t,a){"use strict";var i={name:"MfSelect",componentName:"MfSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,styleText:String,readonly:Boolean,options:{type:Array,default:()=>[{value:"",label:""}]}},computed:{hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{},methods:{},created(){},mounted(){$("#"+this.id).select2({placeholder:this.placeholder,minimumResultsForSearch:-1,allowClear:!0})}},l=a("2877"),s=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"],style:[{height:"34px"},e.styleText],attrs:{styleText:e.styleText}},[[a("select",e._b({staticClass:"form-control",staticStyle:{width:"100%",height:"100%"},attrs:{id:e.id,name:e.name,options:e.options,readonly:e.readonly}},"select",e.$attrs,!1),[a("option",{attrs:{id:"",value:""}}),e._l(e.options,(function(t){return a("option",{attrs:{id:t.value},domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]],2)}),[],!1,null,null,null);t.a=s.exports},"7f9e":function(e,t,a){"use strict";var i=a("6be5"),l={props:["widget","models","rules","remote"],components:{MfSelect:a("7c86").a,MfPopupselect:i.a},data(){return{dataModel:this.models[this.widget.id]}},created(){this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc](e=>{this.widget.options.remoteOptions=e.map(e=>({value:e[this.widget.options.props.value],label:e[this.widget.options.props.label],children:e[this.widget.options.props.children]}))}),"imgupload"===this.widget.type&&this.remote[this.widget.options.tokenFunc](e=>{this.widget.options.token=e})},methods:{},watch:{dataModel:{deep:!0,handler(e){this.models[this.widget.id]=e,this.$emit("update:models",{...this.models,[this.widget.id]:e}),this.$emit("input-change",e,this.widget.id)}},models:{deep:!0,handler(e){this.dataModel=e[this.widget.model]}}}},s=a("2877"),n=Object(s.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.widget.name,prop:e.widget.id}},[e._v("\n    <\n    "),"input"==e.element.type?[a("mf-input",{style:e.element.options.styleText,attrs:{styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"select"==e.element.type?[a("mf-select",{style:e.element.options.styleText,attrs:{id:e.element.options.id,disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"popupselect"==e.element.type?[a("mf-popupselect",{style:e.element.options.styleText,attrs:{id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e()],2)}),[],!1,null,null,null);t.a=n.exports},"8ba4":function(e,t,a){"use strict";var i=a("4a82");a.n(i).a},"8e3d":function(e,t,a){},9144:function(e,t,a){},9357:function(e,t,a){"use strict";var i=a("4ab6");a.n(i).a},"939f":function(e,t,a){},"96c9":function(e,t,a){"use strict";var i=a("a3eb");a.n(i).a},"9df9":function(e,t,a){},a3eb:function(e,t,a){},b126:function(e,t,a){},b20f:function(e,t,a){},b835:function(e,t,a){},b839:function(e,t,a){},ba2a:function(e,t,a){},bd7f:function(e,t,a){"use strict";var i=a("0462");a.n(i).a},c568:function(e,t,a){},cbb4:function(e,t,a){},d769:function(e,t,a){},e0d0:function(e,t,a){},e3b9:function(e,t,a){},e8d6:function(e,t,a){},eb0d:function(e,t,a){},f284:function(e,t,a){"use strict";var i=a("2bc6");a.n(i).a},f715:function(e,t,a){"use strict";var i=a("cbb4");a.n(i).a},f983:function(e,t,a){"use strict";var i=a("d769");a.n(i).a},fb15:function(e,t,a){}});