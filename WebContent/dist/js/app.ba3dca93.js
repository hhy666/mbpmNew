!function(e){function t(t){for(var i,n,o=t[0],r=t[1],d=t[2],u=0,p=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&p.push(l[n][0]),l[n]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);for(c&&c(t);p.length;)p.shift()();return s.push.apply(s,d||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,o=1;o<a.length;o++){var r=a[o];0!==l[r]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},l={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=t,o=o.slice();for(var d=0;d<o.length;d++)t(o[d]);var c=r;s.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},"0027":function(e,t,a){"use strict";var i=a("53a1");a.n(i).a},"0462":function(e,t,a){},"1d7b":function(e,t,a){"use strict";var i=a("783b");a.n(i).a},"280c":function(e,t,a){"use strict";var i=a("9144");a.n(i).a},"2f63":function(e,t,a){"use strict";var i=a("b839");a.n(i).a},"31a5":function(e,t,a){"use strict";var i=a("3be1");a.n(i).a},"385b":function(e,t,a){"use strict";var i=a("6525");a.n(i).a},"387f":function(e,t,a){"use strict";var i=a("6fc0");a.n(i).a},3959:function(e,t,a){"use strict";var i=a("5ab1");a.n(i).a},"3b05":function(e,t,a){"use strict";var i=a("5f1c");a.n(i).a},"3be1":function(e,t,a){},4260:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));const i=()=>{var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var a=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?a:7&a|8).toString(16)}))}},4646:function(e,t,a){"use strict";var i=a("b126");a.n(i).a},"4a82":function(e,t,a){},"4ab6":function(e,t,a){},"4b05":function(e,t,a){"use strict";var i=a("7417");a.n(i).a},"51a8":function(e,t,a){"use strict";var i=a("cf1c");a.n(i).a},5202:function(e,t,a){},"53a1":function(e,t,a){},"55a7":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),l={name:"app",methods:{handleHome(){this.$router.push({path:"/"})},handleLangCommand(e){this.$router.replace({name:this.$route.name,params:{lang:e}})}}},s=(a("5c0b"),a("2877")),n=Object(s.a)(l,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"fm-container"},[t("router-view")],1)])}),[],!1,null,null,null).exports,o=a("8c4f"),r={mounted(){}},d=Object(s.a)(r,(function(){var e=this.$createElement,t=this._self._c||e;return t("fm-designer",{ref:"makingForm",attrs:{preview:"","generate-code":"","generate-json":"",clearable:""}},[t("template",{slot:"action"})],2)}),[],!1,null,null,null).exports,c={created(){this.loadLanguage()},methods:{loadLanguage(){"zh-CN"==this.$route.params.lang?(i.default.config.lang="zh-CN",localStorage.setItem("language","zh-CN")):"en-US"==this.$route.params.lang?(i.default.config.lang="en-US",localStorage.setItem("language","en-US")):this.$router.replace({name:this.$route.name,params:{lang:"zh-CN"==navigator.language?"zh-CN":"en-US"}})}},watch:{"$route.params.lang":function(e){this.loadLanguage()}}};Object(s.a)(c,(function(){var e=this.$createElement;return(this._self._c||e)("router-view")}),[],!1,null,null,null).exports,i.default.use(o.a);var u=new o.a({routes:[{path:"/",name:"index",component:d}]}),p=a("5c96"),m=a.n(p),h=a("08a3"),f=a.n(h),g=a("5873"),y=(a("0fae"),a("b835"),a("f0d9")),b=a.n(y),v=a("310e"),x=a.n(v),w=a("b311"),S=a.n(w),k={name:"JsEvent",props:["data"],data:()=>({}),methods:{}},C=(a("387f"),Object(s.a)(k,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("div",[a("label",{staticClass:"left-label"},[e._v("onclick：")]),a("mf-input",{model:{value:e.data.options.onclick,callback:function(t){e.$set(e.data.options,"onclick",t)},expression:"data.options.onclick"}})],1),"button"!=e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onblur：")]),a("mf-input",{model:{value:e.data.options.onblur,callback:function(t){e.$set(e.data.options,"onblur",t)},expression:"data.options.onblur"}})],1):e._e(),"button"!=e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onchange：")]),a("mf-input",{model:{value:e.data.options.onchange,callback:function(t){e.$set(e.data.options,"onchange",t)},expression:"data.options.onchange"}})],1):e._e(),a("div",[a("label",{staticClass:"left-label"},[e._v("ondbclick：")]),a("mf-input",{model:{value:e.data.options.ondbclick,callback:function(t){e.$set(e.data.options,"ondbclick",t)},expression:"data.options.ondbclick"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("onfocus：")]),a("mf-input",{model:{value:e.data.options.onfocus,callback:function(t){e.$set(e.data.options,"onfocus",t)},expression:"data.options.onfocus"}})],1),"select"==e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onselect：")]),a("mf-input",{model:{value:e.data.options.onselect,callback:function(t){e.$set(e.data.options,"onselect",t)},expression:"data.options.onselect"}})],1):e._e(),"button"==e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onpreclick：")]),a("mf-input",{model:{value:e.data.options.onpreclick,callback:function(t){e.$set(e.data.options,"onpreclick",t)},expression:"data.options.onpreclick"}})],1):e._e(),"button"==e.data.type?a("div",[a("label",{staticClass:"left-label"},[e._v("onpostclick：")]),a("mf-input",{model:{value:e.data.options.onpostclick,callback:function(t){e.$set(e.data.options,"onpostclick",t)},expression:"data.options.onpostclick"}})],1):e._e()])}),[],!1,null,null,null).exports),_={name:"RelationProp",props:["data"],data:()=>({}),methods:{}},D=(a("3959"),Object(s.a)(_,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("div",[a("label",{staticClass:"left-label"},[e._v("级联类型：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.relationType,callback:function(t){e.$set(e.data.options,"relationType",t)},expression:"data.options.relationType"}},[a("el-option",{key:"similar",attrs:{label:"规则",value:"similar"}}),a("el-option",{key:"unsimilar",attrs:{label:"不规则",value:"unsimilar"}})],1)],1),a("div",[a("label",{staticClass:"left-label"},[e._v("级联组件编码：")]),a("mf-input",{model:{value:e.data.options.relationId,callback:function(t){e.$set(e.data.options,"relationId",t)},expression:"data.options.relationId"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("级联属性：")]),a("mf-input",{model:{value:e.data.options.relationProperty,callback:function(t){e.$set(e.data.options,"relationProperty",t)},expression:"data.options.relationProperty"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("规则编码总位数：")]),a("mf-number",{model:{value:e.data.options.digit,callback:function(t){e.$set(e.data.options,"digit",t)},expression:"data.options.digit"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("当前层次编码位数：")]),a("mf-number",{model:{value:e.data.options.levelDigit,callback:function(t){e.$set(e.data.options,"levelDigit",t)},expression:"data.options.levelDigit"}})],1),a("div",[a("label",{staticClass:"left-label"},[e._v("规则编码空位补缺符：")]),a("mf-input",{model:{value:e.data.options.rulePlaceHolder,callback:function(t){e.$set(e.data.options,"rulePlaceHolder",t)},expression:"data.options.rulePlaceHolder"}})],1)])}),[],!1,null,null,null).exports),T={name:"AdvancedProp",props:["data","dataSourceItem"],data(){return{showPageVarArea:this.data.options.isPageVar}},methods:{changeOptionType(e){this.showPageVarArea=e,!0===e?(this.dataSourceItem.optionsText="",this.dataSourceItem.options=""):(this.data.options.formVar="",this.data.options.entity="",this.data.options.itemLabel="",this.data.options.itemValue="")},openFormVar(e,t){openFormVar(e,t,this)},openEntity(e,t){openEntity(e,t,this)},openItemLabel(e,t){let a=t.options.entity;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;openItemLabel(e,t,this)},openItemValue(e,t){let a=t.options.entity;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;openItemValue(e,t,this)}}},V=(a("3b05"),Object(s.a)(T,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},["input"==e.data.type||"textarea"==e.data.type||"number"==e.data.type||"select"==e.data.type||"multiselect"==e.data.type||"listbox"==e.data.type||"popupselect"==e.data.type||"date"==e.data.type||"time"==e.data.type||"checkbox"==e.data.type||"checkboxgroup"==e.data.type||"radiogroup"==e.data.type||"DesignSingleFileUpload"==e.data.type||"DesignMultiFileUpload"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否必填：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},model:{value:e.data.options.required,callback:function(t){e.$set(e.data.options,"required",t)},expression:"data.options.required"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否只读：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.readonlyStr,callback:function(t){e.$set(e.data.options,"readonlyStr",t)},expression:"data.options.readonlyStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("文本输出：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.toTextStr,callback:function(t){e.$set(e.data.options,"toTextStr",t)},expression:"data.options.toTextStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),"input"==e.data.type||"textarea"==e.data.type?a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("长度限制：")]),a("mf-number",{attrs:{min:0,max:20,step:1},model:{value:e.data.options.lengthLimit,callback:function(t){e.$set(e.data.options,"lengthLimit",t)},expression:"data.options.lengthLimit"}})],1):e._e(),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("扩展属性：")]),a("mf-input",{model:{value:e.data.options.extentionAttribute,callback:function(t){e.$set(e.data.options,"extentionAttribute",t)},expression:"data.options.extentionAttribute"}})],1),"select"==e.data.type||"multiselect"==e.data.type||"radiogroup"==e.data.type||"checkboxgroup"==e.data.type||"listbox"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("选项类型为表单变量：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},on:{change:function(t){return e.changeOptionType(t)}},model:{value:e.data.options.isPageVar,callback:function(t){e.$set(e.data.options,"isPageVar",t)},expression:"data.options.isPageVar"}})],1),e.showPageVarArea?a("div",[a("label",{staticClass:"left-label"},[e._v("表单变量：")]),a("mf-popupselect",{on:{click:function(t){return e.openFormVar(t,e.data)}},model:{value:e.data.options.formVar,callback:function(t){e.$set(e.data.options,"formVar",t)},expression:"data.options.formVar"}}),a("label",{staticClass:"left-label"},[e._v("业务对象：")]),a("mf-popupselect",{on:{click:function(t){return e.openEntity(t,e.data)}},model:{value:e.data.options.entity,callback:function(t){e.$set(e.data.options,"entity",t)},expression:"data.options.entity"}}),a("label",{staticClass:"left-label"},[e._v("显示名称：")]),a("mf-popupselect",{on:{click:function(t){return e.openItemLabel(t,e.data)}},model:{value:e.data.options.itemLabel,callback:function(t){e.$set(e.data.options,"itemLabel",t)},expression:"data.options.itemLabel"}}),a("label",{staticClass:"left-label"},[e._v("显示值：")]),a("mf-popupselect",{on:{click:function(t){return e.openItemValue(t,e.data)}},model:{value:e.data.options.itemValue,callback:function(t){e.$set(e.data.options,"itemValue",t)},expression:"data.options.itemValue"}})],1):e._e()]:e._e()]:"SingleUserSelect"==e.data.type||"MultiUserSelect"==e.data.type||"SingleDeptSelect"==e.data.type||"MultiDeptSelect"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否必填：")]),a("el-switch",{model:{value:e.data.options.propertyC,callback:function(t){e.$set(e.data.options,"propertyC",t)},expression:"data.options.propertyC"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否只读：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.propertyF,callback:function(t){e.$set(e.data.options,"propertyF",t)},expression:"data.options.propertyF"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("文本输出：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.propertyG,callback:function(t){e.$set(e.data.options,"propertyG",t)},expression:"data.options.propertyG"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("onblur：")]),a("mf-input",{model:{value:e.data.options.propertyE,callback:function(t){e.$set(e.data.options,"propertyE",t)},expression:"data.options.propertyE"}})],1)]:"ProcessOpinion"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("文本输出：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.propertyG,callback:function(t){e.$set(e.data.options,"propertyG",t)},expression:"data.options.propertyG"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1)]:[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否显示：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.renderedStr,callback:function(t){e.$set(e.data.options,"renderedStr",t)},expression:"data.options.renderedStr"}},[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})],1)],1)],"input"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否过滤输入框：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},model:{value:e.data.options.isFilterInput,callback:function(t){e.$set(e.data.options,"isFilterInput",t)},expression:"data.options.isFilterInput"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("获取数据类型：")]),a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.getDataMethod,callback:function(t){e.$set(e.data.options,"getDataMethod",t)},expression:"data.options.getDataMethod"}},[a("el-option",{key:"url",attrs:{label:"url",value:"url"}}),a("el-option",{key:"data",attrs:{label:"data",value:"data"}}),a("el-option",{key:"firstByUrl",attrs:{label:"firstByUrl",value:"firstByUrl"}})],1)],1)]:e._e(),"select"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否异步下拉框：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},model:{value:e.data.options.isAjaxData,callback:function(t){e.$set(e.data.options,"isAjaxData",t)},expression:"data.options.isAjaxData"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("返回数据编码：")]),a("mf-input",{model:{value:e.data.options.idField,callback:function(t){e.$set(e.data.options,"idField",t)},expression:"data.options.idField"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("查询关键字段：")]),a("mf-input",{model:{value:e.data.options.keyField,callback:function(t){e.$set(e.data.options,"keyField",t)},expression:"data.options.keyField"}})],1)]:e._e(),"input"==e.data.type||"select"==e.data.type?[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("是否跨域访问：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},model:{value:e.data.options.isCrossDomain,callback:function(t){e.$set(e.data.options,"isCrossDomain",t)},expression:"data.options.isCrossDomain"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("数据源编码：")]),a("mf-input",{model:{value:e.data.options.dataSourceId,callback:function(t){e.$set(e.data.options,"dataSourceId",t)},expression:"data.options.dataSourceId"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("自定义访问数据连接：")]),a("mf-input",{model:{value:e.data.options.getDataUrl,callback:function(t){e.$set(e.data.options,"getDataUrl",t)},expression:"data.options.getDataUrl"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v("返回数据处理方法：")]),a("mf-input",{model:{value:e.data.options.processData,callback:function(t){e.$set(e.data.options,"processData",t)},expression:"data.options.processData"}})],1)]:e._e()],2)}),[],!1,null,null,null).exports),F={name:"BorderPanelSetUp",props:["borderPanel","panelType"],data(){return{showViewUrl:this.borderPanel.isURLPanel}},methods:{changeURLPanel(e){this.showViewUrl=e,!1===e&&(this.borderPanel.viewURL="")}}},I=Object(s.a)(F,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.id"))+"：")]),a("mf-input",{model:{value:e.borderPanel.id,callback:function(t){e.$set(e.borderPanel,"id",t)},expression:"borderPanel.id"}})],1),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.name"))+"：")]),a("mf-input",{model:{value:e.borderPanel.name,callback:function(t){e.$set(e.borderPanel,"name",t)},expression:"borderPanel.name"}})],1),"leftContainer"==e.panelType?a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.width"))+"：")]),a("mf-input",{model:{value:e.borderPanel.width,callback:function(t){e.$set(e.borderPanel,"width",t)},expression:"borderPanel.width"}})],1):e._e(),a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.isURLPanel"))+"：")]),a("el-switch",{staticStyle:{"margin-top":"-4px"},on:{change:function(t){return e.changeURLPanel(t)}},model:{value:e.borderPanel.isURLPanel,callback:function(t){e.$set(e.borderPanel,"isURLPanel",t)},expression:"borderPanel.isURLPanel"}})],1),e.showViewUrl?a("div",[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.viewURL"))+"：")]),a("mf-input",{model:{value:e.borderPanel.viewURL,callback:function(t){e.$set(e.borderPanel,"viewURL",t)},expression:"borderPanel.viewURL"}})],1):e._e()])}),[],!1,null,null,null).exports;const P=function(e,t){let a=null;var i=e.mainTable;let l="";l=i.length>0?i[i.length-1].key:t;var s=e.repeatTable,n=e.repeatRTable;let o=1;if(s.length>0)for(var r=s.length-1;r>=0;r--){let e=s[r].key;-1!=e.lastIndexOf("AllListVar")&&(e=e.substring(0,e.length-10));let t=e.substring(l.length,e.length);Number(t)>o&&(o=t)}if(n.length>0)for(r=n.length-1;r>=0;r--){let e=n[r].columns[0].key;-1!=e.lastIndexOf("RAllListVar")&&(e=e.substring(0,e.length-11));let t=e.substring(l.length,e.length);Number(t)>o&&(o=t)}o++,a=l+o;let d={};return d.formId=l,d.subCode=a,d.num=o,$.ajax({url:"../designerVue/formDesignVue_getMaxSubTableCode.action",data:d,type:"post",dataType:"json",async:!1,success:function(e){a=e.subTableCode}}),a},O=function(e,t){var a=t.mainTable;let i=a[a.length-1].key,l=2;return e.startsWith(i)&&(l=e.substring(e.indexOf(i)+i.length)),1==l.toString().length?l="00"+l:2==l.toString().length&&(l="0"+l),l},M=function(e){let t="";e.startsWith("sm")&&(t="s");let a=e.substring(e.indexOf("field")+5);return 1==a.toString().length?a=t+"00"+a:2==a.toString().length&&(a=t+"0"+a),a},L=function(e){let t=1;return"number"==e?t=3:"date"==e?t=7:"checkbox"==e&&(t=6),t},E=function(e){let t=255;return"textarea"==e?t=2e3:"number"==e&&(t=12),t},N=function(e,t,a){let i={columns:{},columnsIndex:-1,inColumnsIndex:0,flag:"",tableCode:""},l=t.mainTable,s=t.repeatTable,n=t.repeatRTable;if(!l)return i;if(l)for(let o=l.length-1;o>=0;o--)if(l[o].key==e)return i.columns=l,i;for(let o=l.length-1;o>=0;o--)if(a){if(l[o].key==a)for(let t=0;t<=l[o].columns.length-1;t++)if(l[o].columns[t].key==e)return i.columns=l[o].columns[t],i.columnsIndex=o,i.flag="mainTable",i.tableCode=l.key,i}else for(let t=0;t<=l[o].columns.length-1;t++)if(l[o].columns[t].key==e)return i.columns=l[o].columns[t],i.columnsIndex=o,i.flag="mainTable",i.tableCode=l.key,i;for(let o=s.length-1;o>=0;o--)if(s[o].key==a)for(let t=s[o].columns.length-1;t>=0;t--)if(s[o].columns[t].key==e)return i.columns=s[o].columns[t],i.columnsIndex=o,i.flag="repeatTable",i.tableCode=s[o].columns[0].key,i;for(let o=n.length-1;o>=0;o--)if(n[o].key==a)for(let t=n[o].columns.length-1;t>=0;t--)if(n[o].columns[t].key==e)return i.columns=n[o].columns[t],i.columnsIndex=o,i.inColumnsIndex=t,i.flag="repeatRTable",i.tableCode=n[o].columns[0].key,i;return i},W=function(e,t,a){let i=t.dataSource,l=t.designType;if(e||(e=function(e,t){let a=null;var i=e.mainTable;let l="";if(1!=t)if(l=i[i.length-1].key,0==i[i.length-1].columns.length)a="m"+l+"field1";else{const e=i[i.length-1];let t=e.columns[e.columns.length-1].key,s=t.substring(l.length+6,t.length);a="m"+l+"field"+(Number(s)+1)}else a="field"+Date.parse(new Date);return a}(i,l)),1!=l){var s=i.mainTable,n=a.type,o=M(e),r={};r.uiType=n,r.key=e,r.name=a.name+o,r.isNew="true",r.isKey="false",r.isCol="true",r.isSystemCol="false",r.isRequired="false",r.desc="",r.precision="",r.state="",r.calculate="",r.uiExtType="",r.entityType="",r.enabled="",r.phase=4,r.defaultValue="",r.options="",r.optionsText="",r.displayFormat="",r.type=L(n),r.length=E(n),s[s.length-1].columns.push(r)}return e},j=function(e,t,a,i){let l=t.dataSource,s=t.designType;if(e||(e=function(e,t){let a=null;var i=e.mainTable,l=e.repeatTable,s=e.repeatRTable;let n=i[i.length-1].key,o="";for(var r=l.length-1;r>=0;r--)if(1!=l[r].columns.length){let e=l[r].columns[l[r].columns.length-1].key;o=e.substring(n.length+6,e.length);break}let d="";for(r=s.length-1;r>=0;r--)if(1!=s[r].columns.length){let e=s[r].columns[s[r].columns.length-1].key;d=e.substring(n.length+6,e.length);break}let c=1;return c=Number(o)>Number(d)?Number(o)+1:Number(d)+1,a="s"+n+"field"+c,a||(a="s"+n+"field1"),a}(l)),1!=s){var n=function(e,t,a){var i={},l="";let s=a.type;if("EditList"==s){l=le(a.allDataEL);for(var n=t.repeatTable,o=n.length-1;o>=0;o--)n[o].columns[0].key==l&&(i=n[o].columns)}else if("DataList"==s){l=le(a.options.bindDataValue);var r=t.repeatRTable;for(o=r.length-1;o>=0;o--)r[o].columns[0].key==l&&(i=r[o].columns)}return i}(0,l,i),o=a.type,r=M(e),d={};d.uiType=o,d.key=e,d.name=a.name+r,d.isNew="true",d.isKey="false",d.isCol="true",d.isSystemCol="false",d.isRequired="false",d.desc="",d.precision="",d.state="",d.calculate="",d.uiExtType="",d.entityType="",d.enabled="",d.phase=4,d.defaultValue="",d.options="",d.optionsText="",d.displayFormat="",d.type=L(o),d.length=E(o),n.push(d)}return e},B=function(e,t,a,i){"EditList"==e?R(t,i,"table"):"DataList"==e?A(t,i,"table"):"Grid"==e?z(t,a,i):"TitlePanel"==e?q(t,a,i):"TabContainer"==e?H(t,a,i):"HorizontalContainer"==e?G(t,a,i):"ContainerPanel"==e?J(t,a,i):(U(t,i),R(t,i,"field"),A(t,i,"field"))},U=function(e,t){let a=t.mainTable;var i={},l=0,s=0;for(let n=a.length-1;n>=0;n--)for(let t=0;t<=a[n].columns.length-1;t++)if(a[n].columns[t].key==e){i=a[n].columns[t],l=n,s=t;break}Object.keys(i).length>0&&(i.isNew?a[l].columns.splice(s,1):i.isDelete="true")},R=function(e,t,a){let i=t.repeatTable;for(var l={},s=0,n=0,o=i.length-1;o>=0;o--)for(var r=i[o].columns.length-1;r>=0;r--)if(i[o].columns[r].key==e){l=i[o].columns,s=o,n=r;break}Object.keys(l).length>0&&(l[n].isNew?"table"==a?i.splice(s,1):"field"==a&&i[s].columns.splice(n,1):l[n].isDelete="true")},A=function(e,t,a){let i=t.repeatRTable;for(var l={},s=0,n=0,o=i.length-1;o>=0;o--)for(var r=i[o].columns.length-1;r>=0;r--)if(i[o].columns[r].key==e){l=i[o].columns,s=o,n=r;break}Object.keys(l).length>0&&(l[n].isNew?"table"==a?i.splice(s,1):"field"==a&&i[s].columns.splice(n,1):l[n].isDelete="true")},z=function(e,t,a){t.columns.forEach((function(e,t,i){e.list.forEach((function(e,t,i){B(e.type,e.key,e,a)}))}))},q=function(e,t,a){t.list.forEach((function(e,t,i){B(e.type,e.key,e,a)}))},H=function(e,t,a){t.tabPanels.forEach((function(e,t,i){e.list.forEach((function(e,t,i){B(e.type,e.key,e,a)}))}))},G=function(e,t,a){t.list.forEach((function(e,t,i){e.list.forEach((function(e,t,i){B(e.type,e.key,e,a)}))}))},J=function(e,t,a){t.list.forEach((function(e,t,i){B(e.type,e.key,e,a)}))},Q=function(e,t){var a=0,i={};i.num=a,i.recordNum=0;let l=!1;for("setTabPanel"!=e&&"draggableTabPanel"!=e||(l=!0,i.recordNum=1,e="TabContainer"),t.list.forEach((function(t,a,s){K(e,t,i,l)})),a=i.num+i.recordNum,a=(a=parseInt(a,10)).toString();a.length<3;)a="0"+a;return a},K=function(e,t,a,i){e==t.type?X(e,t,a,i):Y(e,t,a,i)},X=function(e,t,a,i){if(!1===i)if(t.key){var l=t.key.substring(t.key.length-3);parseInt(l)>a.num&&(a.num=parseInt(l))}else a.recordNum++;else t.tabPanels.forEach((function(e,t,i){if(e.id){var l=e.id.substring(e.id.length-3);parseInt(l)>a.num&&(a.num=parseInt(l))}}));Y(e,t,a,i)},Y=function(e,t,a,i){"EditList"==t.type?Z(e,t,a,i):"DataList"==t.type?ee(e,t,a,i):"Grid"==t.type?Z(e,t,a,i):"TitlePanel"==t.type?ee(e,t,a,i):"TabContainer"==t.type?te(e,t,a,i):"HorizontalContainer"==t.type?ae(e,t,a,i):"ContainerPanel"==t.type&&ee(e,t,a,i)},Z=function(e,t,a,i){t.columns.forEach((function(t,l,s){t.list.forEach((function(t,l,s){K(e,t,a,i)}))}))},ee=function(e,t,a,i){t.list.forEach((function(t,l,s){K(e,t,a,i)}))},te=function(e,t,a,i){t.tabPanels.forEach((function(t,l,s){t.list.forEach((function(t,l,s){K(e,t,a,i)}))}))},ae=function(e,t,a,i){t.list.forEach((function(t,l,s){t.list.forEach((function(t,l,s){K(e,t,a,i)}))}))},ie=function(e){let t="";const a=e.split(".");return 2==a.length&&(t=a[1],t=t.substring(0,t.lastIndexOf("}"))),t},le=function(e){let t="";if(e){const a=e.split(".");2==a.length?(t=a[0],t=t.replace("#{","")):1==a.length&&(t=e.replace("#{",""),t=t.replace("}",""))}return t},se=function(e){return!(void 0===e||!e)};var ne={components:{Draggable:x.a,JsEvent:C,AdvancedProp:V,RelationProp:D,BorderPanelSetUp:I},props:["data","dataSourceItem","designType","result","formCode","extendFieldReadonly"],data:()=>({}),computed:{show(){return!!(this.data&&Object.keys(this.data).length>0)},designDisabled(){return 1==this.designType&&("SingleUserSelect"==this.data.type||"MultiUserSelect"==this.data.type||"SingleDeptSelect"==this.data.type||"MultiDeptSelect"==this.data.type)&&!this.data.options.bindId},titleShow(){return!(["EditList","DataList","Grid","label","innerhtml","image","button","TabContainer","Tree","IncludeForm","HorizontalContainer","QueryList","ContainerPanel"].indexOf(this.data.type)>=0)},notEdit(){return!(null==this.data||void 0===this.data.notEdit||!this.data.notEdit)}},mounted(){},methods:{handleOptionsRemove(e){"EditList"===this.data.type||"Grid"===this.data.type?this.data.columns.splice(e,1):this.data.options.options.splice(e,1)},handleAddOption(){this.data.options.showLabel?this.data.options.options.push({value:this.$t("fm.config.widget.newOption"),label:this.$t("fm.config.widget.newOption")}):this.data.options.options.push({value:this.$t("fm.config.widget.newOption")})},handleAddColumn(){let e=0;for(let t=0;t<this.data.columns.length;t++)if(e+=Number(this.data.columns[t].span),e>=12)return void layer.msg("达到最大栅格配置,请重新分配后添加列",{icon:0});this.data.columns.push({span:String(12-e),gridPosition:"",width:"",list:[]})},handleSelectMuliple(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},handleSelectMuliple(e){e?this.data.options.defaultValue?this.data.options.defaultValue=[this.data.options.defaultValue]:this.data.options.defaultValue=[]:this.data.options.defaultValue.length>0?this.data.options.defaultValue=this.data.options.defaultValue[0]:this.data.options.defaultValue=""},openDataValidator(){this.$emit("openOuterDialog",this.data.dataValidators)},openTabSet(){this.$emit("openTabSetDialog",this.data.tabPanels)},coppyArray:e=>e.map(e=>"object"==typeof e?Object.assign({},e):e),openStyleSet(e,t,a){openStyle(e,t,this,a)},openSelectCode(e,t){onselectItemsClick(e,t,this)},openAttributeSet(e,t){this.loadModelAndSource(),openAttributeSet(e,t,this)},openSelectFormTree(e,t){openSelectFormTree(e,t,this,this.formCode)},loadModelAndSource(){this.$emit("loadModelAndSource")},openBindDataValue(e,t){onBindDataValueClick(e,t)},openDataObject(e,t){onDataObjectClick(e,t)},openRelationPro(e,t){let a=t.options.dataObject;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;onRelationProClick(e,t)},openOrderPro(e,t){let a=t.options.dataObject;if(null==a||""==a)return this.$message({message:"请先选择业务对象!",type:"warning"}),!1;onOrderProClick(e,t)},openRelationProValue(e,t){onRelationProValueClick(e,t)},openFileId(e,t){onFileIdClick(e,t)},openFileName(e,t){onFileNameClick(e,t)},openFileSize(e,t){onFileSizeClick(e,t)},openContents(e,t){onContentsClick(e,t)},openDesignFileType(e,t){onDesignFileTypeClick(e,t)},openBindId(e,t){onBindIdClick(e,t)},openBindName(e,t){onBindNameClick(e,t)},checkFieldName(e,t){var a=e.target.value;if(""==(a=a.replace(/(^\s*)|(\s*$)/g,""))||null==a||null==a)return e.target.focus(),layer.msg("字段名称不能为空！"),!1;if(a==t)return!1;let i=this.result.mainTable,l=this.result.repeatTable,s=this.result.repeatRTable;var n=!1;for(let d=i.length-1;d>=0;d--)for(let e=0;e<=i[d].columns.length-1;e++)if(i[d].columns[e].name==a){n=!0;break}for(var o=l.length-1;o>=0;o--)for(var r=l[o].columns.length-1;r>=0;r--)if(l[o].columns[r].name==a){n=!0;break}for(o=s.length-1;o>=0;o--)for(r=s[o].columns.length-1;r>=0;r--)if(s[o].columns[r].name==a){n=!0;break}n?(e.target.focus(),layer.msg("字段名称重复！")):this.dataSourceItem.name=a},openBindValue(e,t){openBindValueClick(e,t,this)},loadComponentBySession(){const e=this;$.ajax({type:"POST",url:"../designerVue/formDesignVue_loadComponentBySession.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){""!=t&&$.each(t,(function(t,a){e.$set(e.data,t,a)}))}})},handleComponentSet(e,t){this.$emit("handleComponentSet",t,{list:null,newIndex:null},this)},setDataSourceItem(e){let t=N(e,this.result).columns;return this.$emit("update:dataSourceItem",t),this.dataSourceItem=t,null!=this.dataSourceItem.options&&""!=this.dataSourceItem.options&&this.clearPageVar(),t},clearPageVar(){1==this.designType&&(this.data.options.isPageVar=!1,this.data.options.formVar="",this.data.options.entity="",this.data.options.itemLabel="",this.data.options.itemValue="")}},watch:{"dataSourceItem.precision":function(e){void 0!==this.data&&"number"==this.data.type&&(0==Number(e)?this.dataSourceItem.type=3:this.dataSourceItem.type=9)}}},oe=(a("0027"),Object(s.a)(ne,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.show?a("div",{staticStyle:{position:"absolute"}},[a("mf-form",{attrs:{"labmf-position":"top"}},[a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.id")}},[a("mf-input",{attrs:{readonly:""},model:{value:e.data.key,callback:function(t){e.$set(e.data,"key",t)},expression:"data.key"}})],1),"splitline"!=e.data.type?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.name")}},["TitlePanel"==e.data.type||"TabContainer"==e.data.type||"Grid"==e.data.type||"label"==e.data.type||"innerhtml"==e.data.type||"image"==e.data.type||"button"==e.data.type||"Tree"==e.data.type||"IncludeForm"==e.data.type||"HorizontalContainer"==e.data.type||"ContainerPanel"==e.data.type||1==e.designType?[a("mf-input",{model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}})]:[a("input",{staticClass:"form-control",attrs:{readonly:e.extendFieldReadonly},domProps:{value:e.dataSourceItem.name},on:{blur:function(t){return e.checkFieldName(t,e.dataSourceItem.name)}}})]],2):e._e(),e.titleShow?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fieldTitle")}},[a("mf-input",{model:{value:e.data.title,callback:function(t){e.$set(e.data,"title",t)},expression:"data.title"}})],1):e._e(),Object.keys(e.data.options).indexOf("styleText")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.styleText")}},["label"==e.data.type||"innerhtml"==e.data.type||"image"==e.data.type||"button"==e.data.type||"Tree"==e.data.type||"HorizontalContainer"==e.data.type||"IncludeForm"==e.data.type||"ContainerPanel"==e.data.type?[a("mf-popupselect",{attrs:{showPopup:1!=e.designType},on:{click:function(t){return e.openStyleSet(t,e.data,"styleText")}},model:{value:e.data.options.styleText,callback:function(t){e.$set(e.data.options,"styleText",t)},expression:"data.options.styleText"}})]:[a("mf-popupselect",{attrs:{showPopup:1!=e.designType},on:{click:function(t){return e.openStyleSet(t,e.data,"styleItem")}},model:{value:e.data.options.styleItem,callback:function(t){e.$set(e.data.options,"styleItem",t)},expression:"data.options.styleItem"}})]],2):e._e(),Object.keys(e.data).indexOf("value")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindValue")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindValue(t,e.data)}},model:{value:e.data.value,callback:function(t){e.$set(e.data,"value",t)},expression:"data.value"}})],1):e._e(),2==e.designType&&Object.keys(e.data.options).indexOf("length")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.length")}},[a("mf-number",{model:{value:e.dataSourceItem.length,callback:function(t){e.$set(e.dataSourceItem,"length",t)},expression:"dataSourceItem.length"}})],1):e._e(),2==e.designType&&Object.keys(e.data.options).indexOf("precision")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.precision")}},[a("mf-number",{model:{value:e.dataSourceItem.precision,callback:function(t){e.$set(e.dataSourceItem,"precision",t)},expression:"dataSourceItem.precision"}})],1):e._e(),Object.keys(e.data.options).indexOf("defaultValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.defaultValue")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:"",disabled:e.designDisabled},model:{value:e.dataSourceItem.defaultValue,callback:function(t){e.$set(e.dataSourceItem,"defaultValue",t)},expression:"dataSourceItem.defaultValue"}},["SingleUserSelect"==e.data.type||"MultiUserSelect"==e.data.type||"input"==e.data.type?[a("el-option",{key:"#{FormValue.userName}",attrs:{label:"当前用户名称",value:"#{FormValue.userName}"}})]:e._e(),"SingleDeptSelect"==e.data.type||"MultiDeptSelect"==e.data.type||"input"==e.data.type?[a("el-option",{key:"#{FormValue.depName}",attrs:{label:"当前用户部门名称",value:"#{FormValue.depName}"}}),a("el-option",{key:"#{FormValue.parentDepName}",attrs:{label:"当前用户上级部门名称",value:"#{FormValue.parentDepName}"}}),a("el-option",{key:"#{FormValue.topDepName}",attrs:{label:"当前用户一级部门名称",value:"#{FormValue.topDepName}"}}),a("el-option",{key:"#{FormValue.secondDepName}",attrs:{label:"当前用户二级部门名称",value:"#{FormValue.secondDepName}"}}),a("el-option",{key:"#{FormValue.orgName}",attrs:{label:"当前用户机构名称",value:"#{FormValue.orgName}"}})]:e._e(),"date"==e.data.type?[a("el-option",{key:"#{FormValue.date}",attrs:{label:"当前日期",value:"#{FormValue.date}"}}),a("el-option",{key:"#{FormValue.dateTime}",attrs:{label:"当前日期时间",value:"#{FormValue.dateTime}"}})]:e._e(),"time"==e.data.type?[a("el-option",{key:"#{FormValue.time}",attrs:{label:"当前时间",value:"#{FormValue.time}"}})]:e._e(),"radio"==e.data.type||"checkbox"==e.data.type?[a("el-option",{key:"true",attrs:{label:"是",value:"true"}}),a("el-option",{key:"false",attrs:{label:"否",value:"false"}})]:e._e()],2)],1):e._e(),Object.keys(e.data.options).indexOf("columns")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.columns")}},[a("mf-number",{attrs:{min:1,max:20,step:1},model:{value:e.data.options.columns,callback:function(t){e.$set(e.data.options,"columns",t)},expression:"data.options.columns"}})],1):e._e(),Object.keys(e.data.options).indexOf("labelValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.labelValue")}},[a("mf-input",{model:{value:e.data.options.labelValue,callback:function(t){e.$set(e.data.options,"labelValue",t)},expression:"data.options.labelValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("catalogId")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.catalogId")}},[a("mf-popupselect",{attrs:{readonly:e.designDisabled},on:{click:function(t){return e.openSelectCode(t,e.dataSourceItem,this)}},model:{value:e.dataSourceItem.optionsText,callback:function(t){e.$set(e.dataSourceItem,"optionsText",t)},expression:"dataSourceItem.optionsText"}}),a("mf-input",{attrs:{type:"hidden"},model:{value:e.dataSourceItem.options,callback:function(t){e.$set(e.dataSourceItem,"options",t)},expression:"dataSourceItem.options"}})],1):e._e(),1!=e.designType&&Object.keys(e.data.options).indexOf("textPattern")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.textPattern")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:"",disabled:e.designDisabled},model:{value:e.data.options.textPattern,callback:function(t){e.$set(e.data.options,"textPattern",t)},expression:"data.options.textPattern"}},[a("el-option",{key:"#.##%",attrs:{label:"百分号",value:"#.##%"}}),a("el-option",{key:"#,##0.00",attrs:{label:"千分位",value:"#,##0.00"}}),a("el-option",{key:"DHM",attrs:{label:"*天*时*分",value:"DHM"}}),a("el-option",{key:"DAY",attrs:{label:"*天",value:"DAY"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("pattern")>=0?a("mf-form-item",{attrs:{label:"number"==e.data.type?e.$t("fm.config.widget.hint"):e.$t("fm.config.widget.datePattern")}},["number"==e.data.type?[a("mf-input",{attrs:{size:"mini"},model:{value:e.dataSourceItem.displayFormat,callback:function(t){e.$set(e.dataSourceItem,"displayFormat",t)},expression:"dataSourceItem.displayFormat"}})]:e._e(),"date"==e.data.type?[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"",disabled:e.designDisabled},model:{value:e.dataSourceItem.displayFormat,callback:function(t){e.$set(e.dataSourceItem,"displayFormat",t)},expression:"dataSourceItem.displayFormat"}},[a("el-option",{key:"yyyy-MM-dd",attrs:{label:"yyyy-MM-dd",value:"yyyy-MM-dd"}}),a("el-option",{key:"yyyy年MM月dd日",attrs:{label:"yyyy年MM月dd日",value:"yyyy年MM月dd日"}}),a("el-option",{key:"yyyy-MM-dd HH:mm",attrs:{label:"yyyy-MM-dd HH:mm",value:"yyyy-MM-dd HH:mm"}}),a("el-option",{key:"yyyy年MM月dd日 HH:mm",attrs:{label:"yyyy年MM月dd日 HH:mm",value:"yyyy年MM月dd日 HH:mm"}})],1)]:e._e()],2):e._e(),Object.keys(e.data.options).indexOf("mask")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.mask")}},[a("mf-input",{attrs:{size:"mini"},model:{value:e.data.options.mask,callback:function(t){e.$set(e.data.options,"mask",t)},expression:"data.options.mask"}})],1):e._e(),Object.keys(e.data.options).indexOf("placeholder")>=0&&("time"!=e.data.type||"date"!=e.data.type)?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.placeholder")}},[a("mf-input",{model:{value:e.data.options.placeholder,callback:function(t){e.$set(e.data.options,"placeholder",t)},expression:"data.options.placeholder"}})],1):e._e(),Object.keys(e.data.options).indexOf("isCurrency")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isCurrency")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isCurrency,callback:function(t){e.$set(e.data.options,"isCurrency",t)},expression:"data.options.isCurrency"}})],1):e._e(),Object.keys(e.data.options).indexOf("showPreview")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showPreview")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showPreview,callback:function(t){e.$set(e.data.options,"showPreview",t)},expression:"data.options.showPreview"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileType")}},[a("mf-input",{model:{value:e.data.options.fileType,callback:function(t){e.$set(e.data.options,"fileType",t)},expression:"data.options.fileType"}})],1):e._e(),Object.keys(e.data.options).indexOf("maxFileCount")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.maxFileCount")}},[a("mf-number",{attrs:{min:1,max:20,step:1},model:{value:e.data.options.maxFileCount,callback:function(t){e.$set(e.data.options,"maxFileCount",t)},expression:"data.options.maxFileCount"}})],1):e._e(),Object.keys(e.data.options).indexOf("showMultiComments")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showMultiComments")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showMultiComments,callback:function(t){e.$set(e.data.options,"showMultiComments",t)},expression:"data.options.showMultiComments"}})],1):e._e(),Object.keys(e.data.options).indexOf("showDep")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showDep")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showDep,callback:function(t){e.$set(e.data.options,"showDep",t)},expression:"data.options.showDep"}})],1):e._e(),Object.keys(e.data.options).indexOf("showMinimizeButton")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showMinimizeButton")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showMinimizeButton,callback:function(t){e.$set(e.data.options,"showMinimizeButton",t)},expression:"data.options.showMinimizeButton"}})],1):e._e(),Object.keys(e.data.options).indexOf("isCollapsed")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isCollapsed")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isCollapsed,callback:function(t){e.$set(e.data.options,"isCollapsed",t)},expression:"data.options.isCollapsed"}})],1):e._e(),Object.keys(e.data.options).indexOf("showTitle")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showTitle")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showTitle,callback:function(t){e.$set(e.data.options,"showTitle",t)},expression:"data.options.showTitle"}})],1):e._e(),Object.keys(e.data.options).indexOf("showLine")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.showLine")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.showLine,callback:function(t){e.$set(e.data.options,"showLine",t)},expression:"data.options.showLine"}})],1):e._e(),Object.keys(e.data.options).indexOf("contentValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.contentValue")}},["label"==e.data.type||"button"==e.data.type?[a("mf-input",{model:{value:e.data.options.contentValue,callback:function(t){e.$set(e.data.options,"contentValue",t)},expression:"data.options.contentValue"}})]:e._e(),"innerhtml"==e.data.type?[a("mf-textarea",{attrs:{styleText:"height:72px;"},model:{value:e.data.options.contentValue,callback:function(t){e.$set(e.data.options,"contentValue",t)},expression:"data.options.contentValue"}})]:e._e()],2):e._e(),Object.keys(e.data.options).indexOf("styleClass")>=0&&"label"==e.data.type?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.styleClass")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:"",clearable:"",placeholder:""},model:{value:e.data.options.styleClass,callback:function(t){e.$set(e.data.options,"styleClass",t)},expression:"data.options.styleClass"}},[a("el-option",{key:"label",attrs:{label:"普通标签",value:"label"}}),a("el-option",{key:"tableTitle",attrs:{label:"表头标签",value:"tableTitle"}}),a("el-option",{key:"seqNumStyle",attrs:{label:"编码标签",value:"seqNumStyle"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("imgSrc")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.imgSrc")}},[a("mf-input",{model:{value:e.data.options.imgSrc,callback:function(t){e.$set(e.data.options,"imgSrc",t)},expression:"data.options.imgSrc"}})],1):e._e(),Object.keys(e.data.options).indexOf("btnType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.btnType")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.data.options.btnType,callback:function(t){e.$set(e.data.options,"btnType",t)},expression:"data.options.btnType"}},[a("el-option",{key:"cancel",attrs:{label:"默认",value:"cancel"}}),a("el-option",{key:"ok",attrs:{label:"原始",value:"ok"}}),a("el-option",{key:"success",attrs:{label:"成功",value:"success"}}),a("el-option",{key:"info",attrs:{label:"信息",value:"info"}}),a("el-option",{key:"warning",attrs:{label:"警告",value:"warning"}}),a("el-option",{key:"danger",attrs:{label:"危险",value:"danger"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("formDid")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.formDid")}},[a("mf-popupselect",{on:{click:function(t){return e.openSelectFormTree(t,e.data)}},model:{value:e.data.options.formName,callback:function(t){e.$set(e.data.options,"formName",t)},expression:"data.options.formName"}}),a("mf-input",{attrs:{type:"hidden"},model:{value:e.data.options.formDid,callback:function(t){e.$set(e.data.options,"formDid",t)},expression:"data.options.formDid"}})],1):e._e(),Object.keys(e.data.options).indexOf("renderFormTag")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.renderFormTag")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.renderFormTag,callback:function(t){e.$set(e.data.options,"renderFormTag",t)},expression:"data.options.renderFormTag"}})],1):e._e(),Object.keys(e.data.options).indexOf("optionValue")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.optionValue")}},[a("mf-input",{model:{value:e.data.options.optionValue,callback:function(t){e.$set(e.data.options,"optionValue",t)},expression:"data.options.optionValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("groupId")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.groupId")}},[a("mf-input",{model:{value:e.data.options.groupId,callback:function(t){e.$set(e.data.options,"groupId",t)},expression:"data.options.groupId"}})],1):e._e(),Object.keys(e.data.options).indexOf("src")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.src")}},[a("mf-input",{model:{value:e.data.options.src,callback:function(t){e.$set(e.data.options,"src",t)},expression:"data.options.src"}})],1):e._e(),Object.keys(e.data.options).indexOf("method")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.method")}},[a("mf-input",{model:{value:e.data.options.method,callback:function(t){e.$set(e.data.options,"method",t)},expression:"data.options.method"}})],1):e._e(),Object.keys(e.data.options).indexOf("targetDialogId")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.targetDialogId")}},[a("mf-input",{model:{value:e.data.options.targetDialogId,callback:function(t){e.$set(e.data.options,"targetDialogId",t)},expression:"data.options.targetDialogId"}})],1):e._e(),Object.keys(e.data.options).indexOf("popupTitle")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.popupTitle")}},[a("mf-input",{model:{value:e.data.options.popupTitle,callback:function(t){e.$set(e.data.options,"popupTitle",t)},expression:"data.options.popupTitle"}})],1):e._e(),Object.keys(e.data.options).indexOf("dialogStyle")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.dialogStyle")}},[a("mf-popupselect",{attrs:{showPopup:1!=e.designType},on:{click:function(t){return e.openStyleSet(t,e.data,"dialogStyle")}},model:{value:e.data.options.dialogStyle,callback:function(t){e.$set(e.data.options,"dialogStyle",t)},expression:"data.options.dialogStyle"}})],1):e._e(),Object.keys(e.data.options).indexOf("bindDataValue")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindDataValue")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindDataValue(t,e.data)}},model:{value:e.data.options.bindDataValue,callback:function(t){e.$set(e.data.options,"bindDataValue",t)},expression:"data.options.bindDataValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("dataObject")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.dataObject")}},[a("mf-popupselect",{on:{click:function(t){return e.openDataObject(t,e.data)}},model:{value:e.data.options.dataObject,callback:function(t){e.$set(e.data.options,"dataObject",t)},expression:"data.options.dataObject"}})],1):e._e(),Object.keys(e.data.options).indexOf("relationPro")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.relationPro")}},[a("mf-popupselect",{on:{click:function(t){return e.openRelationPro(t,e.data)}},model:{value:e.data.options.relationPro,callback:function(t){e.$set(e.data.options,"relationPro",t)},expression:"data.options.relationPro"}})],1):e._e(),Object.keys(e.data.options).indexOf("relationProValue")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.relationProValue")}},[a("mf-input",{model:{value:e.data.options.relationProValue,callback:function(t){e.$set(e.data.options,"relationProValue",t)},expression:"data.options.relationProValue"}})],1):e._e(),Object.keys(e.data.options).indexOf("orderId")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.orderId")}},[a("mf-popupselect",{on:{click:function(t){return e.openOrderPro(t,e.data)}},model:{value:e.data.options.orderId,callback:function(t){e.$set(e.data.options,"orderId",t)},expression:"data.options.orderId"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileId")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileId")}},[a("mf-popupselect",{on:{click:function(t){return e.openFileId(t,e.data)}},model:{value:e.data.options.fileId,callback:function(t){e.$set(e.data.options,"fileId",t)},expression:"data.options.fileId"}})],1):e._e(),Object.keys(e.data.options).indexOf("designFileType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.designFileType")}},[a("mf-popupselect",{on:{click:function(t){return e.openDesignFileType(t,e.data)}},model:{value:e.data.options.designFileType,callback:function(t){e.$set(e.data.options,"designFileType",t)},expression:"data.options.designFileType"}})],1):e._e(),Object.keys(e.data.options).indexOf("displayMsg")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.displayMsg")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.displayMsg,callback:function(t){e.$set(e.data.options,"displayMsg",t)},expression:"data.options.displayMsg"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileName")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileName")}},[a("mf-popupselect",{on:{click:function(t){return e.openFileName(t,e.data)}},model:{value:e.data.options.fileName,callback:function(t){e.$set(e.data.options,"fileName",t)},expression:"data.options.fileName"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileSizes")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileSizes")}},[a("mf-popupselect",{on:{click:function(t){return e.openFileSize(t,e.data)}},model:{value:e.data.options.fileSizes,callback:function(t){e.$set(e.data.options,"fileSizes",t)},expression:"data.options.fileSizes"}})],1):e._e(),Object.keys(e.data.options).indexOf("contents")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.contents")}},[a("mf-popupselect",{on:{click:function(t){return e.openContents(t,e.data)}},model:{value:e.data.options.contents,callback:function(t){e.$set(e.data.options,"contents",t)},expression:"data.options.contents"}})],1):e._e(),Object.keys(e.data.options).indexOf("queryCondition")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.queryCondition")}},[a("mf-input",{model:{value:e.data.options.queryCondition,callback:function(t){e.$set(e.data.options,"queryCondition",t)},expression:"data.options.queryCondition"}})],1):e._e(),Object.keys(e.data.options).indexOf("saveType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.saveType")}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:""},model:{value:e.data.options.saveType,callback:function(t){e.$set(e.data.options,"saveType",t)},expression:"data.options.saveType"}},[a("el-option",{key:"file",attrs:{label:"file",value:"file"}}),a("el-option",{key:"db",attrs:{label:"db",value:"db"}})],1)],1):e._e(),Object.keys(e.data.options).indexOf("fileRootPath")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileRootPath")}},[a("mf-input",{model:{value:e.data.options.fileRootPath,callback:function(t){e.$set(e.data.options,"fileRootPath",t)},expression:"data.options.fileRootPath"}})],1):e._e(),Object.keys(e.data.options).indexOf("fileSubPath")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fileSubPath")}},[a("mf-input",{model:{value:e.data.options.fileSubPath,callback:function(t){e.$set(e.data.options,"fileSubPath",t)},expression:"data.options.fileSubPath"}})],1):e._e(),Object.keys(e.data.options).indexOf("isDowload")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isDowload")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isDowload,callback:function(t){e.$set(e.data.options,"isDowload",t)},expression:"data.options.isDowload"}})],1):e._e(),Object.keys(e.data.options).indexOf("isView")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isView")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isView,callback:function(t){e.$set(e.data.options,"isView",t)},expression:"data.options.isView"}})],1):e._e(),Object.keys(e.data.options).indexOf("isDeleted")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.isDeleted")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.isDeleted,callback:function(t){e.$set(e.data.options,"isDeleted",t)},expression:"data.options.isDeleted"}})],1):e._e(),Object.keys(e.data.options).indexOf("uploadAgain")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.uploadAgain")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.uploadAgain,callback:function(t){e.$set(e.data.options,"uploadAgain",t)},expression:"data.options.uploadAgain"}})],1):e._e(),Object.keys(e.data.options).indexOf("annexSize")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.annexSize")}},[a("mf-number",{model:{value:e.data.options.annexSize,callback:function(t){e.$set(e.data.options,"annexSize",t)},expression:"data.options.annexSize"}})],1):e._e(),Object.keys(e.data.options).indexOf("annexType")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.annexType")}},[a("mf-input",{model:{value:e.data.options.annexType,callback:function(t){e.$set(e.data.options,"annexType",t)},expression:"data.options.annexType"}})],1):e._e(),Object.keys(e.data.options).indexOf("annexNum")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.annexNum")}},[a("mf-number",{model:{value:e.data.options.annexNum,callback:function(t){e.$set(e.data.options,"annexNum",t)},expression:"data.options.annexNum"}})],1):e._e(),Object.keys(e.data.options).indexOf("bindId")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindId")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindId(t,e.data)}},model:{value:e.data.options.bindId,callback:function(t){e.$set(e.data.options,"bindId",t)},expression:"data.options.bindId"}})],1):e._e(),Object.keys(e.data.options).indexOf("bindName")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.bindName")}},[a("mf-popupselect",{on:{click:function(t){return e.openBindName(t,e.data)}},model:{value:e.data.options.bindName,callback:function(t){e.$set(e.data.options,"bindName",t)},expression:"data.options.bindName"}})],1):e._e(),a("mf-input",{attrs:{type:"hidden"},model:{value:e.data.options.isDesign,callback:function(t){e.$set(e.data.options,"isDesign",t)},expression:"data.options.isDesign"}}),Object.keys(e.data.options).indexOf("overwrite")>=0&&1==e.designType?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.overwrite")}},[a("el-switch",{staticStyle:{"margin-left":"10px","margin-top":"7px"},model:{value:e.data.options.overwrite,callback:function(t){e.$set(e.data.options,"overwrite",t)},expression:"data.options.overwrite"}})],1):e._e(),Object.keys(e.data.options).indexOf("colClass")>=0&&"EditList"!=e.data.type&&"DataList"!=e.data.type&&"splitline"!=e.data.type&&"TitlePanel"!=e.data.type&&"TabContainer"!=e.data.type&&"Grid"!=e.data.type&&"Tree"!=e.data.type&&"IncludeForm"!=e.data.type&&"HorizontalContainer"!=e.data.type&&"ContainerPanel"!=e.data.type?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.fieldCol")}},[a("mf-number",{attrs:{min:1,max:12,step:1},model:{value:e.data.options.colClass,callback:function(t){e.$set(e.data.options,"colClass",t)},expression:"data.options.colClass"}})],1):e._e(),"EditList"==e.data.type&&1!=e.designType||"Grid"==e.data.type?[a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.columnOption")}}),a("mf-form-item",[a("draggable",e._b({staticStyle:{width:"276px"},attrs:{tag:"ul",list:e.data.columns,handle:".drag-item"}},"draggable",{group:{name:"options"},ghostClass:"ghost",handle:".drag-item"},!1),e._l(e.data.columns,(function(t,i){return a("li",{key:i},[a("i",{staticClass:"drag-item",staticStyle:{"font-size":"16px",margin:"0 5px",cursor:"move"}},[a("i",{staticClass:"iconfont icon-icon_bars"})]),a("el-input",{staticStyle:{width:"60px"},attrs:{placeholder:e.$t("fm.config.widget.span"),size:"mini",type:"number"},model:{value:t.span,callback:function(a){e.$set(t,"span",e._n(a))},expression:"item.span"}}),"Grid"==e.data.type?a("el-select",{staticStyle:{width:"90px"},attrs:{placeholder:""},model:{value:t.gridPosition,callback:function(a){e.$set(t,"gridPosition",a)},expression:"item.gridPosition"}},[a("el-option",{key:"left",attrs:{label:e.$t("fm.config.form.labelPosition.left"),value:"left"}}),a("el-option",{key:"center",attrs:{label:e.$t("fm.config.form.labelPosition.center"),value:"center"}}),a("el-option",{key:"right",attrs:{label:e.$t("fm.config.form.labelPosition.right"),value:"right"}})],1):e._e(),a("el-input",{staticStyle:{width:"80px"},attrs:{placeholder:e.$t("fm.config.widget.spanWidth"),type:"text"},model:{value:t.width,callback:function(a){e.$set(t,"width",a)},expression:"item.width"}}),a("el-button",{staticStyle:{padding:"4px","margin-left":"5px"},attrs:{circle:"",plain:"",type:"danger",size:"mini",icon:"el-icon-minus"},on:{click:function(t){return e.handleOptionsRemove(i)}}})],1)})),0),a("div",{staticStyle:{"margin-left":"22px"}},[a("el-button",{attrs:{type:"text"},on:{click:e.handleAddColumn}},[e._v(e._s(e.$t("fm.actions.addColumn")))])],1)],1)]:e._e(),Object.keys(e.data.options).indexOf("height")>=0?a("mf-form-item",{attrs:{label:e.$t("fm.config.widget.height")}},["TitlePanel"==e.data.type||"TabContainer"==e.data.type||"IncludeForm"==e.data.type?[a("div",{staticClass:"col-md-12 input-group"},[a("mf-input",{model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}})],1)]:"Grid"==e.data.type?[a("div",{staticClass:"col-md-12 input-group"},[a("mf-input",{staticStyle:{width:"90%",display:"inline-flex"},model:{value:e.data.options.height,callback:function(t){e.$set(e.data.options,"height",t)},expression:"data.options.height"}}),a("label",{staticStyle:{width:"10%","padding-left":"4px","font-size":"18px"}},[e._v("px")])],1)]:e._e()],2):e._e(),a("el-collapse",{staticClass:"col-md-12"},[1==e.designType&&"select"==e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.relationProp"),name:"relationProp"}},[a("relation-prop",{attrs:{data:e.data}})],1):e._e(),1==e.designType&&(Object.keys(e.data).indexOf("dataValidators")>=0||"button"==e.data.type)?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.jsEvent"),name:"jsEvent"}},[a("js-event",{attrs:{data:e.data}})],1):e._e(),"HorizontalContainer"==e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.leftContainer"),name:"leftContainer"}},[a("border-panel-set-up",{attrs:{borderPanel:e.data.list[0],panelType:"leftContainer"}})],1):e._e(),"HorizontalContainer"==e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.rightContainer"),name:"rightContainer"}},[a("border-panel-set-up",{attrs:{borderPanel:e.data.list[1],panelType:"rightContainer"}})],1):e._e(),Object.keys(e.data.options).indexOf("styleText")>=0&&"label"!=e.data.type&&"innerhtml"!=e.data.type&&"image"!=e.data.type&&"button"!=e.data.type&&"Tree"!=e.data.type&&"HorizontalContainer"!=e.data.type&&"IncludeForm"!=e.data.type&&"ContainerPanel"!=e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.styleSet"),name:"styleSet"}},[a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.styleLabel"))+"：")]),a("mf-popupselect",{attrs:{showPopup:1!=e.designType},on:{click:function(t){return e.openStyleSet(t,e.data,"styleLabel")}},model:{value:e.data.options.styleLabel,callback:function(t){e.$set(e.data.options,"styleLabel",t)},expression:"data.options.styleLabel"}})],1),"EditList"!=e.data.fromComponent.fromType?a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.styleValue"))+"：")]),a("mf-popupselect",{attrs:{showPopup:1!=e.designType},on:{click:function(t){return e.openStyleSet(t,e.data,"styleText")}},model:{value:e.data.options.styleText,callback:function(t){e.$set(e.data.options,"styleText",t)},expression:"data.options.styleText"}})],1):e._e(),"EditList"!=e.data.fromComponent.fromType?a("div",{staticClass:"interval"},[a("label",{staticClass:"left-label"},[e._v(e._s(e.$t("fm.config.widget.styleClass"))+"：")]),a("mf-input",{model:{value:e.data.options.styleClass,callback:function(t){e.$set(e.data.options,"styleClass",t)},expression:"data.options.styleClass"}})],1):e._e()]):e._e(),1==e.designType&&"SingleFileUpload"!=e.data.type&&"MultiFileUpload"!=e.data.type&&"splitline"!=e.data.type&&"Tree"!=e.data.type?a("el-collapse-item",{attrs:{title:e.$t("fm.config.widget.advancedProp"),name:"advancedProp"}},[a("advanced-prop",{attrs:{data:e.data,dataSourceItem:e.dataSourceItem}})],1):e._e()],1),Object.keys(e.data).indexOf("dataValidators")>=0?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:e.openDataValidator}},[e._v(e._s(e.$t("fm.config.widget.dataValidate"))+"\n                ")])]):e._e(),"TabContainer"==e.data.type?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:e.openTabSet}},[e._v(e._s(e.$t("fm.config.widget.tabSet"))+"\n                ")])]):e._e(),"button"==e.data.type||"Tree"==e.data.type?a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:function(t){return e.openAttributeSet(t,e.data)}}},[e._v(e._s(e.$t("fm.config.widget.attributeSet"))+"\n                ")])]):e._e(),"EditList"!=e.data.type&&"QueryList"!=e.data.type||1!=e.designType?e._e():a("div",{staticClass:"el-form-item mf_form_item col-md-12 el-form-item--small"},[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:function(t){return e.handleComponentSet(t,e.data)}}},[e._v(e._s(e.$t("fm.config.widget.attributeSet"))+"\n                ")])])],2),e.notEdit?a("div",{staticClass:"mask",staticStyle:{cursor:"not-allowed"}}):e._e()],1):a("div",{staticClass:"emptyMsg"},[a("span",[e._v("请选择一个字段来设置属性")])])}),[],!1,null,null,null).exports),re={name:"MfTextarea",componentName:"MfTextarea",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e="resize:none;",t=this.styleText;if(null==t||0==t.length)return"";t=t.toLowerCase();const a=t.split(";");for(let i=0;i<a.length;i++)-1!=a[i].indexOf("height")&&(e+=a[i]);return e}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},de=Object(s.a)(re,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("textarea",this._b({ref:"input",staticClass:"form-control text-area ",style:{height:"100%"},attrs:{id:this.id,name:this.name,readonly:this.readonly,type:"text"},on:{input:this.handleInput}},"textarea",this.$attrs,!1))]],2)}),[],!1,null,null,null).exports,ce={components:{MfTextarea:de},props:["data"],computed:{formConfigButtonShow(){var e=!0;let t=this.data.isCustomDesign,a=this.data.isSysAdmin;return t&&a&&(e=!1),e}},methods:{openDataUnique(){var e=this.$refs.dataUnique;this.loadModelAndSource(),openDataUniqueFun(e)},openJointValidation(){this.loadModelAndSource(),openJointValidationFun()},openDataFormula(){this.loadModelAndSource(),openDataFormulaFun()},openDataPower(){this.loadModelAndSource(),openDataPowerFun()},openDataEntry(){this.loadModelAndSource(),openDataEntryFun()},openTriggerAction(){this.loadModelAndSource(),openTriggerActionFun()},loadModelAndSource(){this.$emit("loadModelAndSource")},handleSetProperty(){openFormProperty(this)},_loadComponents(){this.$emit("_loadComponents")}}},ue=Object(s.a)(ce,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-config-container"},[a("mf-form",{attrs:{"labmf-position":"top"}},[a("mf-form-item",{attrs:{label:e.$t("fm.config.form.formCode")}},[a("mf-input",{attrs:{id:"formCode",name:"formCode",readonly:!0},model:{value:e.data.formCode,callback:function(t){e.$set(e.data,"formCode",t)},expression:"data.formCode"}})],1),a("mf-form-item",{attrs:{label:e.$t("fm.config.form.formName")}},[a("mf-input",{attrs:{id:"formName",name:"formName",readonly:!0},model:{value:e.data.formName,callback:function(t){e.$set(e.data,"formName",t)},expression:"data.formName"}})],1),a("mf-form-item",{attrs:{label:e.$t("fm.config.form.col")}},[a("mf-number",{attrs:{min:1,max:12,step:1},model:{value:e.data.config.colClass,callback:function(t){e.$set(e.data.config,"colClass",t)},expression:"data.config.colClass"}})],1),e.formConfigButtonShow?[1==e.data.designType?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.handleSetProperty}},[e._v(e._s(e.$t("fm.config.form.formProperty"))+"\n                ")])]):e._e(),1!=e.data.designType&&0==e.data.isCustomDesign?a("mf-form-item",[a("mf-textarea",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"dataUnique",model:{value:e.data.unionPKText,callback:function(t){e.$set(e.data,"unionPKText",t)},expression:"data.unionPKText"}}),a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataUnique}},[e._v(e._s(e.$t("fm.config.widget.requiredValid"))+"\n                ")])],1):e._e(),a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openJointValidation}},[e._v(e._s(e.$t("fm.config.widget.jointValidation"))+"\n                ")])]),a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataFormula}},[e._v(e._s(e.$t("fm.config.widget.dataFormula"))+"\n            ")])]),1!=e.data.designType?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataPower}},[e._v(e._s(e.$t("fm.config.widget.dataPower"))+"\n            ")])]):e._e(),1!=e.data.designType&&0==e.data.isCustomDesign?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openDataEntry}},[e._v(e._s(e.$t("fm.config.widget.dataEntry"))+"\n            ")])]):e._e(),1!=e.data.designType&&0==e.data.isCustomDesign?a("mf-form-item",[a("button",{staticClass:"x-btn",staticStyle:{"font-size":"14px",color:"rgb(51, 51, 51)","border-color":"rgb(204, 204, 204)","margin-top":"10px",width:"100%"},attrs:{type:"button"},on:{click:this.openTriggerAction}},[e._v(e._s(e.$t("fm.config.widget.triggerAction"))+"\n            ")])]):e._e()]:e._e(),a("mf-form-item",{attrs:{label:e.$t("fm.config.form.labelPosition.title")}},[a("el-radio-group",{staticClass:"col-md-12 input-group",model:{value:e.data.config.labelPosition,callback:function(t){e.$set(e.data.config,"labelPosition",t)},expression:"data.config.labelPosition"}},[a("el-radio-button",{attrs:{label:"left"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.left")))]),a("el-radio-button",{attrs:{label:"right"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.right")))]),a("el-radio-button",{staticStyle:{width:"70px"},attrs:{label:"top"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.top")))]),a("el-radio-button",{attrs:{label:"center"}},[e._v(e._s(e.$t("fm.config.form.labelPosition.center")))])],1)],1)],2)],1)}),[],!1,null,null,null).exports,pe=a("4260"),me={name:"WidgetFormItem",componentName:"WidgetFormItem",props:["element","select","index","data","result","selectDataSource","widgetForm","isIncludeForm","overrideVal"],components:{},data(){return{dataSource:{},selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.identity==this.element.identity}},created(){this.setIdentity(),this.setElementProp()},mounted(){},methods:{handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget).columns},handleWidgetDelete(e){this.dataSource=this.result;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.result),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){let t=e.key,a="";return e.value&&(t=ie(e.value)),a=e.fromComponent.variableId,N(t,this.result,a)},setElementProp(){void 0===this.data.type||"DataList"!=this.data.type&&"EditList"!=this.data.type?this.$set(this.element,"fromComponent",{fromType:"mainTable",variableId:this.element.value?le(this.element.value):""}):this.$set(this.element,"fromComponent",{fromType:this.data.type,variableId:this.data.allDataEL?le(this.data.allDataEL):le(this.data.options.bindDataValue)})},setIdentity(){if(!this.element.identity){let e=Object(pe.a)();this.$set(this.element,"identity",e)}}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"data.dataObject":{handler(e){this.setElementProp()}}}},he=Object(s.a)(me,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key&&"label"!=e.element.type&&"innerhtml"!=e.element.type&&"image"!=e.element.type&&"button"!=e.element.type&&"Tree"!=e.element.type?a("mf-form-item",{staticClass:"widget-view drag-widget",class:{active:e.selectWidget.identity==e.element.identity,is_req:e.element.options.required,undraggable:e.canDraggable},attrs:{label:"label"==e.element.type||"innerhtml"==e.element.type||"image"==e.element.type?"":e.element.title,colClass:"splitline"!=e.element.type?e.element.options.colClass:12,formItem:"formItem",styleClass:e.element.options.styleClass,labelClass:"splitline"==e.element.type?[]:["myLabClass","itemLable"],itemClass:"splitline"==e.element.type?"":"itemValue",type:e.element.type,isIncludeForm:e.isIncludeForm,isEditListItem:e.element.isEditListItem,"label-width":e.element.options.labelWidth,styleItem:e.element.options.styleItem,styleLabel:e.element.options.styleLabel},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},["input"==e.element.type?[a("mf-input",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,mask:e.element.options.mask,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"date"==e.element.type?[a("mf-date",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"time"==e.element.type?[a("mf-time",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"number"==e.element.type?[a("mf-number",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"textarea"==e.element.type?[a("mf-textarea",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"select"==e.element.type?[a("mf-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,disabled:e.element.options.disabled,multiple:e.element.options.multiple,catalogIdText:e.element.options.catalogIdText,catalogId:e.element.options.catalogId,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"multiselect"==e.element.type?[a("mf-multiselect",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"listbox"==e.element.type?[a("mf-listbox",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"popupselect"==e.element.type?[a("mf-popupselect",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"radiogroup"==e.element.type?[a("mf-radio-group",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"radio"==e.element.type?[a("mf-radio",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled,labelValue:e.element.options.labelValue}})]:e._e(),"checkboxgroup"==e.element.type?[a("mf-checkbox-group",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"checkbox"==e.element.type?[a("mf-checkbox",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled,labelValue:e.element.options.labelValue}})]:e._e(),"splitline"==e.element.type?[a("mf-splitline",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"SingleUserSelect"==e.element.type?[a("mf-single-user-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"MultiUserSelect"==e.element.type?[a("mf-multi-user-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"SingleDeptSelect"==e.element.type?[a("mf-single-dept-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"MultiDeptSelect"==e.element.type?[a("mf-multi-dept-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}})]:e._e(),"SingleFileUpload"==e.element.type?[a("mf-single-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"MultiFileUpload"==e.element.type?[a("mf-multi-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"DesignSingleFileUpload"==e.element.type?[a("mf-single-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"DesignMultiFileUpload"==e.element.type?[a("mf-multi-file-upload",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"ProcessOpinion"==e.element.type?[a("mf-process-opinion",{attrs:{id:e.element.options.id,styleText:e.element.options.styleText}})]:e._e(),"editor"==e.element.type?[a("vue-editor",{style:{width:e.element.options.width},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"blank"==e.element.type?[a("div",{staticStyle:{height:"50px",color:"#999",background:"#eee","line-height":"50px","text-align":"center"}},[e._v("\n                "+e._s(e.$t("fm.components.fields.blank"))+"\n            ")])]:e._e(),"text"==e.element.type?[a("span",[e._v(e._s(e.element.options.defaultValue))])]:e._e(),e.canDelete?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],2):e.element&&e.element.key&&"label"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",class:{undraggable:e.canDraggable},style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-label",{attrs:{id:e.element.options.id,name:e.element.options.name,styleText:e.element.options.styleText,contentValue:e.element.options.contentValue,styleClass:e.element.options.styleClass}}),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"innerhtml"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",class:{undraggable:e.canDraggable},style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-inner-html",{attrs:{id:e.element.options.id,name:e.element.options.name,styleText:e.element.options.styleText,contentValue:e.element.options.contentValue}}),e.canDelete?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"image"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",class:{undraggable:e.canDraggable},style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-image",{attrs:{id:e.element.options.id,name:e.element.options.name,imgSrc:e.element.options.imgSrc,styleText:e.element.options.styleText}}),e.canDelete?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"button"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",class:{undraggable:e.canDraggable},style:"padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-button",{attrs:{id:e.element.options.id,name:e.element.options.name,contentValue:e.element.options.contentValue,styleText:e.element.options.styleText,btnType:e.element.options.btnType}}),e.canDelete?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e.element&&e.element.key&&"Tree"==e.element.type?a("div",{key:e.element.key,staticClass:"widget-view drag-widget",class:{undraggable:e.canDraggable},style:"height: 100%;width: 100%;padding-top: 0px;padding-bottom: 0px;",on:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e.element&&e.element.key?a("mf-tree",{key:e.element.key,attrs:{element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,index:e.index,data:e.data,widgetForm:e.widgetForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e(),e.canDelete?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,fe={components:{Draggable:x.a,WidgetFormItem:he},props:["data","select","selectDataSource"],data(){return{result:{},selectWidget:this.select,seleDataSource:this.selectDataSource,fromData:{row:null,colIndex:null}}},mounted(){document.body.ondrop=function(e){navigator.userAgent.toLowerCase().indexOf("firefox")>-1&&(e.preventDefault(),e.stopPropagation())}},methods:{handleComponentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleComponentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"data.dataSource":function(e){this.result=e}}},ge=(a("60da"),Object(s.a)(fe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"widget-form-container",staticStyle:{height:"100%",margin:"auto"},style:{width:e.data.isMobile?"70%":"100%"}},[e.data.list&&0==e.data.list.length?a("div",{staticClass:"form-empty"},[e._v(e._s(e.$t("fm.description.containerEmpty")))]):e._e(),a("mf-form",{staticStyle:{height:"calc(100% - 10px)"},attrs:{size:"small","label-suffix":":","label-position":e.data.config?e.data.config.labelPosition:""}},[a("form-container",{ref:"formContainer",attrs:{data:e.data,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.data,fromData:this.fromData},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},handleComponentSet:function(t){return e.handleComponentSet(arguments)}}})],1)],1)}),[],!1,null,null,null).exports),ye={props:{visible:Boolean,loadingText:{type:String,default:""},title:{type:String,default:""},width:{type:String,default:"600px"},form:{type:Boolean,default:!0},action:{type:Boolean,default:!0}},computed:{show(){return!this.form||this.showForm}},data(){return{loading:!1,dialogVisible:this.visible,id:"dialog_"+(new Date).getTime(),showForm:!1}},methods:{close(){this.dialogVisible=!1},submit(){this.loading=!0,this.$emit("on-submit")},end(){this.loading=!1}},mounted(){},watch:{dialogVisible(e){e?this.showForm=!0:(this.loading=!1,this.$emit("on-close"),setTimeout(()=>{this.showForm=!1},300))},visible(e){this.dialogVisible=e}}},be=(a("4b05"),Object(s.a)(ye,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{ref:"elDialog",staticClass:"cus-dialog-container",attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"append-to-body":"",center:"",width:e.width,id:e.id},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.show?a("span",[e._t("default")],2):e._e(),e.action?a("span",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"dialog-footer",attrs:{slot:"footer","element-loading-text":e.loadingText},slot:"footer"},[e._t("action",[a("el-button",{on:{click:e.close}},[e._v(e._s(e.$t("fm.actions.cancel")))]),a("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.$t("fm.actions.confirm")))])])],2):e._e()])}),[],!1,null,null,null).exports),ve=a("5f49").a,xe=Object(s.a)(ve,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-form",{ref:"generateForm",attrs:{"label-suffix":":",size:e.data.config.size,model:e.models,rules:e.rules,"label-position":e.data.config.labelPosition,"label-width":e.data.config.labelWidth}},[e._l(e.data.list,(function(t){return["EditList"==t.type?[a("el-row",{key:t.key,attrs:{type:"flex",gutter:t.options.gutter?t.options.gutter:0,justify:t.options.justify,align:t.options.align}},e._l(t.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span}},[e._l(t.list,(function(t){return["blank"==t.type?a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2):a("genetate-form-item",{key:t.key,attrs:{models:e.models,remote:e.remote,rules:e.rules,widget:t},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]}))],2)})),1)]:"blank"==t.type?[a("el-form-item",{key:t.key,attrs:{label:t.name,prop:t.model}},[e._t(t.model,null,{model:e.models})],2)]:[a("genetate-form-item",{key:t.key,attrs:{models:e.models,rules:e.rules,widget:t,remote:e.remote},on:{"update:models":function(t){e.models=t},"input-change":e.onInputChange}})]]}))],2)],1)}),[],!1,null,null,null).exports,we={name:"DataValidator",props:{dataValidatorTypes:Array},data(){return{outerVisible:!1,innerVisible:!1,blankClose:!1,escClose:!1,dialogTitle:"添加验证器",rowIndex:null,currentRow:null,tableData:[],dataValidator:{validatorType:"",validatorName:"",minValue:"",maxValue:"",functionName:"",expression:"",precision:"",errorMessage:""},minValueDisplay:!1,maxValueDisplay:!1,functionNameDisplay:!1,expressionDisplay:!1,precisionDisplay:!1,rules:{minValue:[{required:!0,message:"请输入最小值",trigger:"blur"},{type:"number",message:"最小值必须为数字值"},{validator:(e,t,a)=>{this.checkNumberSize(e,t,a)},trigger:["blur","change"]},{validator:(e,t,a)=>{this.checkMinValue(e,t,a)},trigger:["blur","change"]}],maxValue:[{required:!0,message:"请输入最大值",trigger:"blur"},{type:"number",message:"最大值必须为数字值"},{validator:(e,t,a)=>{this.checkNumberSize(e,t,a)},trigger:["blur","change"]},{validator:(e,t,a)=>{this.checkMaxValue(e,t,a)},trigger:["blur","change"]}],functionName:[{required:!0,message:"请输入方法名",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"},{validator:(e,t,a)=>{this.checkCharacter(e,t,a)},trigger:["blur","change"]}],expression:[{required:!0,message:"请输入表达式",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],precision:[{required:!0,message:"请输入精度",trigger:"blur"},{type:"number",message:"精度必须为数字值"},{validator:(e,t,a)=>{this.checkNumberSize(e,t,a)},trigger:["blur","change"]}],errorMessage:[{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"},{validator:(e,t,a)=>{this.checkCharacter(e,t,a)},trigger:["blur","change"]}]}}},methods:{openDataValidator(e){this.tableData=e,this.outerVisible=!0},setCurrent(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange(e){this.currentRow=e},tableRowClassName({row:e,rowIndex:t}){e.index=t},validatorChanged(e){var t=this.dataValidator.validatorType,a=e.target.selectedIndex;this.dataValidator.validatorName=this.$refs.optionText[a].text,this.clearInputValue(),this.isDisplay(t)},clearInputValue(){var e=this.dataValidator.validatorType,t=this.dataValidator.validatorName;this.dataValidator={},this.dataValidator.validatorType=e,this.dataValidator.validatorName=t},isDisplay(e){"email"==e||"postCode"==e||"mobileTelephone"==e||"identityCard"==e?(this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1):"precision"==e?(this.precisionDisplay=!0,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1):"regexp"==e||"jsExpression"==e?(this.precisionDisplay=!1,this.expressionDisplay=!0,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1):"jsFunction"==e?(this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!0):"length"!=e&&"longRange"!=e&&"doubleRange"!=e||(this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!0,this.maxValueDisplay=!0,this.functionNameDisplay=!1)},addValidator(){this.dialogTitle="添加验证器",this.dataValidator={},this.dataValidator.validatorType="email",this.dataValidator.validatorName="Email验证器",this.precisionDisplay=!1,this.expressionDisplay=!1,this.minValueDisplay=!1,this.maxValueDisplay=!1,this.functionNameDisplay=!1,this.innerVisible=!0},editbefore(){null!=this.currentRow?this.editValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},editValidator(e,t){this.dialogTitle="编辑验证器",this.dataValidator=JSON.parse(JSON.stringify(t)),this.innerVisible=!0,this.rowIndex=e,this.isDisplay(this.dataValidator.validatorType)},doubleClick(e,t,a,i){this.editValidator(this.currentRow.index,this.currentRow)},saveValidator(){this.$refs.ruleForm.validate(e=>{let t=Object.assign({},JSON.parse(JSON.stringify(this.dataValidator)));return!!e&&(this.dialogTitle.indexOf("编辑")>=0?(this.tableData.splice(this.rowIndex,1,t),void this.closeInner()):(this.tableData.push(t),void this.closeInner()))})},checkMinValue(e,t,a){t>this.dataValidator.maxValue?a(new Error("最小值应该小于最大值!")):a()},checkMaxValue(e,t,a){t<this.dataValidator.minValue?a(new Error("最大值应该大于最小值!")):a()},checkNumberSize(e,t,a){t<0||t>2147483647?a(new Error("范围在1 到 2147483647之间!")):a()},checkCharacter(e,t,a){t&&null!=t&&""!=t&&null==("functionName"==e.field?t.match(/^[a-zA-Z_]+[a-zA-Z_\d]+$/):t.match(/^[a-zA-Z0-9_\u4e00-\u9fa5]+[\?!\？！]{0,1}$/))?a(new Error("请按正确的格式输入!")):a()},closeInner(){this.innerVisible=!1},deletebefore(){null!=this.currentRow?this.deleteValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},deleteValidator(e,t){this.tableData.splice(e,1)},moveUpBefore(){null!=this.currentRow?this.moveUpValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveUpValidator(e,t){if(e>0){let t=this.tableData[e-1];this.tableData.splice(e-1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经是第一条,不可上移!",type:"warning"})},moverDownBefore(){null!=this.currentRow?this.moveDownValidator(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveDownValidator(e,t){if(e+1!=this.tableData.length){let t=this.tableData[e+1];this.tableData.splice(e+1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经最后一条,不可下移!",type:"warning"})}},watch:{innerVisible(e){e&&void 0!==this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()}}},Se=(a("2f63"),Object(s.a)(we,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"数据校验",width:"40%",visible:e.outerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose},on:{"update:visible":function(t){e.outerVisible=t}}},[a("div",{staticStyle:{height:"460px"}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("el-button",{attrs:{type:"tools",icon:"el-icon-plus",size:"mini"},on:{click:e.addValidator}},[e._v("添加")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-edit",size:"mini"},on:{click:e.editbefore}},[e._v("编辑")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-up",size:"mini"},on:{click:e.moveUpBefore}},[e._v("上移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-down",size:"mini"},on:{click:e.moverDownBefore}},[e._v("下移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-delete",size:"mini"},on:{click:e.deletebefore}},[e._v("删除")])],1),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"400","highlight-current-row":"","row-class-name":e.tableRowClassName},on:{"current-change":e.handleCurrentChange,"cell-dblclick":e.doubleClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{property:"validatorName",label:"名称",width:"230"}}),a("el-table-column",{attrs:{property:"errorMessage",label:"错误消息",width:"430"}})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:function(t){e.outerVisible=!1}}},[e._v("关 闭")])]),a("el-dialog",{attrs:{width:"30%",title:e.dialogTitle,visible:e.innerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.dataValidator,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"验证器："}},[a("select",{directives:[{name:"model",rawName:"v-model",value:e.dataValidator.validatorType,expression:"dataValidator.validatorType"}],staticClass:"form-control",on:{change:[function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.dataValidator,"validatorType",t.target.multiple?a:a[0])},function(t){return e.validatorChanged(t)}]}},e._l(e.dataValidatorTypes,(function(t,i){return a("option",{key:i,ref:"optionText",refInFor:!0,domProps:{value:t.validatorType}},[e._v("\n\t\t\t\t\t\t\t\t"+e._s(t.validatorName)+"\n\t\t\t\t\t\t\t")])})),0)]),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[a("el-input",{model:{value:e.dataValidator.validatorName,callback:function(t){e.$set(e.dataValidator,"validatorName",t)},expression:"dataValidator.validatorName"}})],1),e.minValueDisplay?a("el-form-item",{attrs:{label:"最小值：",prop:"minValue"}},[a("el-input",{model:{value:e.dataValidator.minValue,callback:function(t){e.$set(e.dataValidator,"minValue",e._n(t))},expression:"dataValidator.minValue"}})],1):e._e(),e.maxValueDisplay?a("el-form-item",{attrs:{label:"最大值：",prop:"maxValue"}},[a("el-input",{model:{value:e.dataValidator.maxValue,callback:function(t){e.$set(e.dataValidator,"maxValue",e._n(t))},expression:"dataValidator.maxValue"}})],1):e._e(),e.functionNameDisplay?a("el-form-item",{attrs:{label:"方法名：",prop:"functionName"}},[a("el-input",{model:{value:e.dataValidator.functionName,callback:function(t){e.$set(e.dataValidator,"functionName",t)},expression:"dataValidator.functionName"}})],1):e._e(),e.expressionDisplay?a("el-form-item",{attrs:{label:"表达式：",prop:"expression"}},[a("el-input",{model:{value:e.dataValidator.expression,callback:function(t){e.$set(e.dataValidator,"expression",t)},expression:"dataValidator.expression"}})],1):e._e(),e.precisionDisplay?a("el-form-item",{attrs:{label:"精度：",prop:"precision"}},[a("el-input",{model:{value:e.dataValidator.precision,callback:function(t){e.$set(e.dataValidator,"precision",e._n(t))},expression:"dataValidator.precision"}})],1):e._e(),a("el-form-item",{attrs:{label:"错误消息：",prop:"errorMessage"}},[a("el-input",{model:{value:e.dataValidator.errorMessage,callback:function(t){e.$set(e.dataValidator,"errorMessage",t)},expression:"dataValidator.errorMessage"}})],1),a("div",{staticStyle:{"text-align":"right"}},[a("div",{staticClass:"x-btn ok-btn el-button--ok",on:{click:e.saveValidator}},[e._v("保 存")]),a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:e.closeInner}},[e._v("关 闭")])])],1)],1)],1)])}),[],!1,null,"6ea34660",null).exports),ke={name:"TabSetUp",props:{},data(){return{outerVisible:!1,innerVisible:!1,blankClose:!1,escClose:!1,dialogTitle:"添加标签页",isReadonly:!0,rowIndex:null,currentRow:null,tableData:[],tabPanel:{id:"",title:"",list:[],selected:!1,isURLPanel:!1,viewURL:""},formContainerDom:null,rules:{id:[{required:!0,message:"请输入编码",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"}],title:[{required:!0,message:"请输入标题",trigger:"blur"},{min:1,max:255,message:"长度在 1 到 255 个字符",trigger:"blur"},{validator:(e,t,a)=>{this.checkCharacter(e,t,a)},trigger:["blur","change"]}]}}},methods:{openTabSet(e,t){this.tableData=e,this.formContainerDom=t,this.outerVisible=!0},setCurrent(e){this.$refs.singleTable.setCurrentRow(e)},handleCurrentChange(e){this.currentRow=e},tableRowClassName({row:e,rowIndex:t}){e.index=t},addTab(){this.dialogTitle="添加标签页";let e={},t=this.formContainerDom.getMaxTabId();e.id="TabPanel"+t,e.title="标签"+t,e.list=[],e.selected=!1,e.isURLPanel=!1,e.viewURL="",this.tabPanel=e,this.innerVisible=!0,this.isReadonly=!0},editbefore(){null!=this.currentRow?this.editTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},editTab(e,t){this.dialogTitle="编辑标签页",this.tabPanel=JSON.parse(JSON.stringify(t)),this.innerVisible=!0,this.rowIndex=e,this.isReadonly=!0},doubleClick(e,t,a,i){this.editTab(this.currentRow.index,this.currentRow)},saveTab(){this.$refs.ruleForm.validate(e=>{if(!e)return!1;{let e=Object.assign({},JSON.parse(JSON.stringify(this.tabPanel)));if(this.dialogTitle.indexOf("编辑")>=0)return 1==this.tableData.length?e.selected=!0:1==e.selected?(this.tableData.forEach((function(e,t,a){e.selected=!1})),e.selected=!0):e.selected=!0,this.tableData.splice(this.rowIndex,1,e),void this.closeInner();1==e.selected&&(this.tableData.forEach((function(e,t,a){e.selected=!1})),e.selected=!0),this.tableData.push(e),this.closeInner()}})},checkCharacter(e,t,a){t&&null!=t&&""!=t&&null==t.match(/^[a-zA-Z0-9_\u4e00-\u9fa5]+[\?!\？！]{0,1}$/)?a(new Error("请按正确的格式输入!")):a()},closeInner(){this.innerVisible=!1},deletebefore(){null!=this.currentRow?1==this.tableData.length?this.$message({message:"最后一个标签页不可删除!",type:"warning"}):this.deleteTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},deleteTab(e,t){this.tableData.splice(e,1),1==t.selected&&(this.tableData[0].selected=!0)},moveUpBefore(){null!=this.currentRow?this.moveUpTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveUpTab(e,t){if(e>0){let t=this.tableData[e-1];this.tableData.splice(e-1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经是第一条,不可上移!",type:"warning"})},moverDownBefore(){null!=this.currentRow?this.moveDownTab(this.currentRow.index,this.currentRow):this.$message({message:"请选择一行数据!",type:"warning"})},moveDownTab(e,t){if(e+1!=this.tableData.length){let t=this.tableData[e+1];this.tableData.splice(e+1,1),this.tableData.splice(e,0,t)}else this.$message({message:"已经最后一条,不可下移!",type:"warning"})},changeURLPanel(e){!1===e&&(this.tabPanel.viewURL="")}},watch:{innerVisible(e){e&&void 0!==this.$refs.ruleForm&&this.$refs.ruleForm.resetFields()}}},Ce=(a("e750"),Object(s.a)(ke,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"标签页设置",width:"40%",visible:e.outerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose},on:{"update:visible":function(t){e.outerVisible=t}}},[a("div",{staticStyle:{height:"460px"}},[a("div",{staticStyle:{"padding-bottom":"10px"}},[a("el-button",{attrs:{type:"tools",icon:"el-icon-plus",size:"mini"},on:{click:e.addTab}},[e._v("添加")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-edit",size:"mini"},on:{click:e.editbefore}},[e._v("编辑")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-up",size:"mini"},on:{click:e.moveUpBefore}},[e._v("上移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-arrow-down",size:"mini"},on:{click:e.moverDownBefore}},[e._v("下移")]),a("el-button",{attrs:{type:"tools",icon:"el-icon-delete",size:"mini"},on:{click:e.deletebefore}},[e._v("删除")])],1),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"400","highlight-current-row":"","row-class-name":e.tableRowClassName},on:{"current-change":e.handleCurrentChange,"cell-dblclick":e.doubleClick}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),a("el-table-column",{attrs:{property:"id",label:"编码",width:"230"}}),a("el-table-column",{attrs:{property:"title",label:"标题",width:"430"}})],1),a("div",{staticStyle:{"text-align":"right","padding-top":"10px"}},[a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:function(t){e.outerVisible=!1}}},[e._v("关 闭")])]),a("el-dialog",{attrs:{width:"30%",title:e.dialogTitle,visible:e.innerVisible,"close-on-click-modal":e.blankClose,"close-on-press-escape":e.escClose,"append-to-body":""},on:{"update:visible":function(t){e.innerVisible=t}}},[a("el-form",{ref:"ruleForm",attrs:{model:e.tabPanel,rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"编码：",prop:"id"}},[a("el-input",{attrs:{readonly:e.isReadonly},model:{value:e.tabPanel.id,callback:function(t){e.$set(e.tabPanel,"id",t)},expression:"tabPanel.id"}})],1),a("el-form-item",{attrs:{label:"标题：",prop:"title"}},[a("el-input",{model:{value:e.tabPanel.title,callback:function(t){e.$set(e.tabPanel,"title",t)},expression:"tabPanel.title"}})],1),a("el-form-item",{attrs:{label:"是否选中："}},[a("el-switch",{staticStyle:{"margin-top":"-4px"},model:{value:e.tabPanel.selected,callback:function(t){e.$set(e.tabPanel,"selected",t)},expression:"tabPanel.selected"}})],1),a("el-form-item",{attrs:{label:e.$t("fm.config.widget.isURLPanel")+"："}},[a("el-switch",{staticStyle:{"margin-top":"-4px"},on:{change:function(t){return e.changeURLPanel(t)}},model:{value:e.tabPanel.isURLPanel,callback:function(t){e.$set(e.tabPanel,"isURLPanel",t)},expression:"tabPanel.isURLPanel"}})],1),e.tabPanel.isURLPanel?a("el-form-item",{attrs:{label:e.$t("fm.config.widget.viewURL")+"："}},[a("el-input",{model:{value:e.tabPanel.viewURL,callback:function(t){e.$set(e.tabPanel,"viewURL",t)},expression:"tabPanel.viewURL"}})],1):e._e(),a("div",{staticStyle:{"text-align":"right"}},[a("div",{staticClass:"x-btn ok-btn el-button--ok",on:{click:e.saveTab}},[e._v("保 存")]),a("div",{staticClass:"x-btn cancel-btn el-button--cancel",on:{click:e.closeInner}},[e._v("关 闭")])])],1)],1)],1)])}),[],!1,null,"3f790696",null).exports);const _e=[{type:"label",icon:"icon-label",mobileShow:!0,options:{styleText:"",contentValue:"单行标签",styleClass:""}},{type:"innerhtml",icon:"icon-innerHtml",mobileShow:!0,options:{styleText:"height:50px;width:120px;",contentValue:"多行标签"}},{type:"input",icon:"icon-input",options:{styleText:"",defaultValue:"",required:!1,mask:"",placeholder:"",disabled:!1,length:"",labelWidth:"",colClass:12,isFilterInput:!1,dataSourceId:"",getDataMethod:"",getDataUrl:"",processData:"",isCrossDomain:!1},dataValidators:[],value:""},{type:"textarea",icon:"icon-textarea",options:{styleText:"height:90px",length:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"",colClass:12},dataValidators:[],value:""},{type:"number",icon:"icon-number",options:{styleText:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,isCurrency:!1,preDeduction:!1,pattern:"",length:"",precision:"",textPattern:"",options:[{label:"百分号",value:"#.##%"},{label:"千分位",value:"###0.00"},{label:"*天*时*分",value:"DHM"},{label:"*天",value:"DAY"}],labelWidth:"",colClass:12},dataValidators:[],value:""},{type:"listbox",icon:"icon-listbox",options:{styleText:"",length:"",defaultValue:"",multiple:!1,disabled:!1,clearable:!1,required:!1,showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],filterable:!1,props:{value:"value",label:"label"},labelWidth:"",colClass:12,catalogId:""},dataValidators:[],value:""},{type:"select",icon:"icon-select",options:{relationType:"",relationId:"",relationProperty:"",digit:"",levelDigit:"",rulePlaceHolder:"",styleText:"",length:"",defaultValue:"",disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,options:[{label:"规则",value:"similar"},{label:"不规则",value:"unsimilar"}],labelWidth:"",colClass:12,catalogId:"",isAjaxData:!1,dataSourceId:"",idField:"",keyField:"",getDataUrl:"",processData:"",isCrossDomain:!1},dataValidators:[],value:""},{type:"multiselect",icon:"icon-multiselect",options:{styleText:"",length:"",defaultValue:"",multiple:!1,disabled:!1,clearable:!1,placeholder:"",required:!1,showLabel:!1,options:[{value:"Option 1"},{value:"Option 2"},{value:"Option 3"}],remote:!1,filterable:!1,remoteOptions:[],props:{value:"value",label:"label"},labelWidth:"",colClass:12,catalogId:""},dataValidators:[],value:""},{type:"date",icon:"icon-date",options:{styleText:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,pattern:"",labelWidth:"",colClass:12},dataValidators:[],value:""},{type:"time",icon:"icon-time",options:{styleText:"",defaultValue:"",required:!1,dataType:"string",placeholder:"",disabled:!1,labelWidth:"",colClass:12},dataValidators:[],value:""},{type:"checkbox",icon:"icon-checkbox",options:{styleText:"",length:"",defaultValue:"",required:!1,disabled:!1,labelValue:"",labelWidth:"",colClass:12,options:[]},dataValidators:[],value:""},{type:"checkboxgroup",icon:"icon-checkboxgroup",options:{styleText:"",length:"",defaultValue:"",required:!1,disabled:!1,columns:"2",options:[],labelWidth:"",colClass:12,catalogId:""},dataValidators:[],value:""},{type:"radio",icon:"icon-radio",options:{styleText:"",length:"",defaultValue:"",required:!1,disabled:!1,labelValue:"",optionValue:"",groupId:"",labelWidth:"",colClass:12,options:[]},dataValidators:[],value:""},{type:"radiogroup",icon:"icon-radiogroup",options:{styleText:"",length:"",defaultValue:"",required:!1,dataType:"string",disabled:!1,columns:"2",options:[],labelWidth:"",colClass:12,catalogId:""},dataValidators:[],value:""},{type:"popupselect",icon:"icon-popupselect",options:{styleText:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"",src:"",popupTitle:"",targetDialogId:"",dialogStyle:"",colClass:12},value:"",dataValidators:[]},{type:"image",icon:"icon-image",mobileShow:!0,options:{styleText:"",imgSrc:"resource/images/form/designer/component/cube_blue.png"}},{type:"button",icon:"icon-button",options:{contentValue:"按钮",btnType:"ok",styleText:""},operations:[],transitions:[]}],De=[{type:"SingleUserSelect",icon:"icon-input",options:{styleText:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"",colClass:12,bindId:"",bindName:"",isDesign:"true"}},{type:"MultiUserSelect",icon:"icon-input",options:{styleText:"",length:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"",colClass:12,bindId:"",bindName:"",isDesign:"true"}},{type:"SingleDeptSelect",icon:"icon-input",options:{styleText:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"",colClass:12,bindId:"",bindName:"",isDesign:"true"}},{type:"MultiDeptSelect",icon:"icon-input",options:{styleText:"",length:"",defaultValue:"",required:!1,placeholder:"",disabled:!1,labelWidth:"",colClass:12,bindId:"",bindName:"",isDesign:"true"}},{type:"SingleFileUpload",icon:"icon-input",options:{styleText:"",required:!1,disabled:!1,labelWidth:"",fileType:"",colClass:12}},{type:"DesignSingleFileUpload",icon:"icon-input",options:{styleText:"",required:!1,disabled:!1,labelWidth:"",colClass:12,relationPro:"",relationProValue:"",fileId:"",fileName:"",fileSizes:"",designFileType:"",contents:"",queryCondition:"",fileRootPath:"",fileSubPath:"",isDowload:!1,isView:!1,isDeleted:!1,annexSize:0,annexType:"",saveType:"",dataObject:"",bindDataValue:""}},{type:"MultiFileUpload",icon:"icon-input",options:{styleText:"",required:!1,disabled:!1,showPreview:!1,fileType:"",maxFileCount:"",labelWidth:"",colClass:12}},{type:"DesignMultiFileUpload",icon:"icon-input",options:{styleText:"",required:!1,disabled:!1,labelWidth:"",colClass:12,relationPro:"",relationProValue:"",fileId:"",fileName:"",fileSizes:"",designFileType:"",contents:"",queryCondition:"",fileRootPath:"",fileSubPath:"",isDowload:!1,uploadAgain:!0,isDeleted:!1,annexSize:0,annexType:"",annexNum:1,saveType:"",dataObject:"",bindDataValue:""}},{type:"ProcessOpinion",icon:"icon-input",options:{styleText:"",required:!1,disabled:!1,showMultiComments:!1,showDep:!1,labelWidth:"",colClass:12},value:""}],Te=[{type:"splitline",icon:"icon-splitline",mobileShow:!0,options:{showTitle:!0,showLine:!0}},{type:"TitlePanel",icon:"icon-TitlePanel-",title:"标题面板",mobileShow:!0,list:[],options:{height:"400px",showMinimizeButton:!1,isCollapsed:!1,gutter:0,justify:"start",align:"top"}},{type:"TabContainer",icon:"icon-TabContainer-",title:"标签容器",mobileShow:!0,tabPanels:[{id:"",title:"",list:[],selected:!0,isURLPanel:!1,viewURL:""}],options:{gutter:0,justify:"start",align:"top",height:"100%"}},{type:"Grid",icon:"icon-grid-",mobileShow:!0,columns:[{span:4,gridPosition:"center",width:"",list:[]},{span:4,gridPosition:"center",width:"",list:[]},{span:4,gridPosition:"center",width:"",list:[]}],options:{gutter:0,justify:"start",align:"top",height:""}},{type:"HorizontalContainer",icon:"icon-HorizontalContainer-",title:"左右分栏",list:[{id:"BorderPanel001",name:"边框面板001",width:"25%",isURLPanel:!1,viewURL:"",list:[]},{id:"BorderPanel002",name:"边框面板002",isURLPanel:!1,viewURL:"",list:[]}],options:{styleText:"height:100%;width:100%"}},{type:"ContainerPanel",icon:"icon-ContainerPanel-",title:"容器布局",list:[],options:{styleText:"height:400px;width:100%",overwrite:!1}}],Ve=[{type:"EditList",icon:"icon-grid-",showLineNumber:!0,columns:[{span:6,list:[]},{span:6,list:[]}],options:{gutter:0,justify:"start",align:"top"},actions:{id:"ActionButtons001",type:"ActionButtons",name:"ActionButtons001",list:[{type:"ToolBarItem",key:"toolBarItem005",name:"toolBarItem001",options:{contentValue:"添加",iconClass:"EditorIconAdd",buttonType:"button",onclick:"Matrix.addRepeatLastRow",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem001",name:"toolBarItem002",options:{contentValue:"删除",iconClass:"EditorIconRemove",buttonType:"button",onclick:"Matrix.deleteRowsOfRepeat",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem002",name:"toolBarItem003",options:{contentValue:"上移",iconClass:"EditorIconUp",buttonType:"button",onclick:"Matrix.moveUpSelectedRow",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem003",name:"toolBarItem004",options:{contentValue:"下移",iconClass:"EditorIconDown",buttonType:"button",onclick:"Matrix.moveDownSelectedRow",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!1,styleText:"",validateForm:!0},operations:[],transitions:[]}]}},{type:"DataList",icon:"icon-reptable-",title:"重复节",list:[],options:{gutter:0,justify:"start",align:"top",bindDataValue:"",dataObject:"",relationPro:"",relationProValue:"",orderId:"",isDesign:"true"}},{type:"IncludeForm",icon:"icon-IncludeForm-",title:"子表单",list:[],options:{styleText:"height:300px;width:100%",formDid:"",formName:"",renderFormTag:!1}},{type:"QueryList",icon:"icon-grid-",options:{queryContainerType:"toolbar"},QueryForm:{autoLoadData:!0,list:[]},DataGrid:{},fields:[],actions:{id:"ActionButtons001",type:"ActionButtons",name:"ActionButtons001",list:[{type:"ToolBarItem",key:"toolBarItem001",name:"toolBarItem001",options:{contentValue:"查询",iconClass:"EditorIconQuery",buttonType:"button",onclick:"Matrix.refreshDataGridData",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!0,styleText:"",validateForm:!0},operations:[],transitions:[]},{type:"ToolBarItem",key:"toolBarItem002",name:"toolBarItem002",options:{contentValue:"高级查询",iconClass:"EditorIconQuery",buttonType:"button",onclick:"Matrix.showDataGridCustomFilter",confirm:!1,disabled:!1,immediate:!1,isViewEnable:!1,partialSubmit:!0,styleText:"",validateForm:!0},operations:[],transitions:[]}]}},{type:"Tree",icon:"icon-tree",options:{styleText:"height:100%;width:100%"}}],$e=[{validatorType:"email",validatorName:"Email验证器"},{validatorType:"postCode",validatorName:"邮编验证器"},{validatorType:"mobileTelephone",validatorName:"手机验证器"},{validatorType:"identityCard",validatorName:"身份证验证器"},{validatorType:"precision",validatorName:"小数精度验证器"},{validatorType:"jsFunction",validatorName:"JS方法验证器"},{validatorType:"length",validatorName:"字符长度验证器"},{validatorType:"regexp",validatorName:"正则表达式验证器"},{validatorType:"jsExpression",validatorName:"JS表达式验证器"},{validatorType:"longRange",validatorName:"整数范围验证器"},{validatorType:"doubleRange",validatorName:"小数范围验证器"}];var Fe=function(e,t="vue"){const a=[],i=[],l=[];!function e(t,a,i,l){for(let s=0;s<t.length;s++)"grid"==t[s].type?t[s].columns.forEach(t=>{e(t.list,a,i,l)}):"blank"==t[s].type?t[s].model&&l.push({name:t[s].model,label:t[s].name}):"imgupload"==t[s].type?t[s].options.tokenFunc&&i.push({func:t[s].options.tokenFunc,label:t[s].name,model:t[s].model}):t[s].options.remote&&t[s].options.remoteFunc&&a.push({func:t[s].options.remoteFunc,label:t[s].name,model:t[s].model})}(JSON.parse(e).list,a,i,l);let s="",n="";for(let o=0;o<a.length;o++)s+=`\n            ${a[o].func} (resolve) {\n              // ${a[o].label} ${a[o].model}\n              // Call callback function once get the data from remote server\n              // resolve(data)\n            },\n    `;for(let o=0;o<i.length;o++)s+=`\n            ${i[o].func} (resolve) {\n              // ${i[o].label} ${i[o].model}\n              // Call callback function once get the token\n              // resolve(token)\n            },\n    `;for(let o=0;o<l.length;o++)n+=`\n        <template slot="${l[o].name}" slot-scope="scope">\n          \x3c!-- ${l[o].label} --\x3e\n          \x3c!-- use v-model="scope.model.${l[o].name}" to bind data --\x3e\n        </template>\n    `;return"vue"==t?`<template>\n  <div>\n    <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n      ${n}\n    </fm-generate-form>\n    <el-button type="primary" @click="handleSubmit">提交</el-button>\n  </div>\n</template>\n\n<script>\n  export default {\n    data () {\n      return {\n        jsonData: ${e},\n        editData: {},\n        remoteFuncs: {\n          ${s}\n        }\n      }\n    },\n    methods: {\n      handleSubmit () {\n        this.$refs.generateForm.getData().then(data => {\n          // data check success\n          // data - form data\n        }).catch(e => {\n          // data check failed\n        })\n      }\n    }\n  }\n<\/script>`:`<!DOCTYPE html>\n  <html>\n  <head>\n    <meta charset="UTF-8">\n \n    \n  </head>\n  <body>\n    <div id="app">\n      <fm-generate-form :data="jsonData" :remote="remoteFuncs" :value="editData" ref="generateForm">\n        ${n}\n      </fm-generate-form>\n      <el-button type="primary" @click="handleSubmit">提交</el-button>\n    </div>\n    <script src="https://unpkg.com/vue/dist/vue.js"><\/script>\n    <script src="https://unpkg.com/element-ui/lib/index.js"><\/script>\n    \n    <script>\n      new Vue({\n        el: '#app',\n        data: {\n          jsonData: ${e},\n          editData: {},\n          remoteFuncs: {\n            ${s}\n          }\n        },\n        methods: {\n          handleSubmit () {\n            this.$refs.generateForm.getData().then(data => {\n              // data check success\n              // data - form data\n            }).catch(e => {\n              // data check failed\n            })\n          }\n        }\n      })\n    <\/script>\n  </body>\n  </html>`};const Ie={input:"icon-widget-text",date:"icon-widget-datetime",time:"icon-widget-time",number:"icon-widget-number",textarea:"icon-widget-textarea",select:"icon-widget-combo",popupselect:"icon-widget-search",SingleUserSelect:"icon-widget-user",radio:"icon-widget-radiogroup",radiogroup:"icon-widget-radiogroup",checkboxgroup:"icon-widget-checkboxgroup",listbox:"icon-widget-combocheck",popupselect:"fa fa-search",splitline:"icon-widget-separator",MultiUserSelect:"icon-widget-combocheck",SingleDeptSelect:"icon-widget-dept",MultiDeptSelect:"icon-widget-deptgroup",SingleFileUpload:"icon-widget-upload",MultiFileUpload:"icon-widget-upload",DesignSingleFileUpload:"icon-widget-upload",DesignMultiFileUpload:"icon-widget-upload",ProcessOpinion:"icon-widget-signature",Tree:"fa fa-tree",DataList:"icon-widget-subform",checkbox:"fa fa-check-square-o",EditList:"fa fa-list-alt",multiselect:"fa fa-object-group",TitlePanel:"fa fa-file-o",TabContainer:"el-icon-reading",label:"fa fa-tag",innerhtml:"fa fa-tags",image:"icon-widget-image",button:"fa fa-square-o",Grid:"fa fa-table",HorizontalContainer:"fa fa-columns",IncludeForm:"fa fa-wpforms",QueryList:"fa fa-calculator",ContainerPanel:"fa fa-square-o"};var Pe={name:"fm-designer",components:{Draggable:x.a,WidgetConfig:oe,FormConfig:ue,WidgetForm:ge,CusDialog:be,GenerateForm:xe,DataValidator:Se,TabSetUp:Ce},props:{preview:{type:Boolean,default:!1},generateCode:{type:Boolean,default:!1},generateJson:{type:Boolean,default:!1},upload:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},basicFields:{type:Array,default:()=>["input","textarea","number","radiogroup","checkboxgroup","time","date","select","switch","popupselect","multiselect","listbox","radio","checkbox","splitline","button","label","innerhtml","image"]},advanceFields:{type:Array,default:()=>["SingleUserSelect","MultiUserSelect","SingleDeptSelect","MultiDeptSelect","ProcessOpinion","Tree"]},compositeFields:{type:Array,default:()=>["EditList","DataList","IncludeForm","QueryList","Tree","SelectTransition"]},layoutFields:{type:Array,default:()=>["splitline","TitlePanel","TabContainer","Grid","HorizontalContainer","ContainerPanel"]}},data:()=>({basicComponents:null,advanceComponents:null,compositeComponents:null,layoutComponents:null,mainTableComponents:null,repeatSectionComponents:null,resetJson:!1,widgetForm:{formCode:"",formName:"",unionPKText:"",ftid:"",list:[],designType:1,haveData:!1,isCustomDesign:!1,isCustomForm:!1,isExtendForm:!1,isExtendField:!0,isShowSave:!0,isSysAdmin:!1,config:{labelWidth:"25%",labelPosition:"center",colClass:12},dataSource:{}},configTab:"widget",widgetFormSelect:{},seleDataSource:{},previewVisible:!1,jsonVisible:!1,codeVisible:!1,uploadVisible:!1,remoteFuncs:{func_test(e){setTimeout(()=>{e([{id:"1",name:"1111"},{id:"2",name:"2222"},{id:"3",name:"3333"}])},2e3)},funcGetToken(e){},upload_callback(e,t,a){}},widgetModels:{},blank:"",htmlTemplate:"",vueTemplate:"",jsonTemplate:"",uploadEditor:null,jsonCopyValue:"",jsonClipboard:null,jsonEg:'{\n  "list": [],\n  "config": {\n    "labelWidth": 100,\n    "labelPosition": "top",\n    "size": "small"\n  }\n}',codeActiveName:"vue",dataValidatorTypes:null,showModal:!1}),computed:{showField(){return!!(3==this.widgetForm.designType||this.widgetForm.isCustomForm&&0==this.widgetForm.isExtendField)},extendFieldReadonly(){return!(!this.widgetForm.isCustomForm||0!=this.widgetForm.isExtendField)}},mounted(){this._loadComponents(),this.loadFormList(),window.handleSaveForm=this.handleSaveForm,window.loadModelAndSource=this.loadModelAndSource},methods:{_loadComponents(){const e=this;$.ajax({type:"POST",async:!1,url:"../designerVue/formDesignVue_getFormDataSourceInfo.action",data:{formUuid:e.$route.query.formUuid,designType:e.$route.query.designType,isMobile:e.$route.query.isMobile,isExtendField:e.$route.query.isExtendField},dataType:"json",success:function(t){e.resetJson=!0,e.widgetForm.designType=t.designType,e.widgetForm.haveData=t.haveData,e.widgetForm.isCustomDesign=t.isCustomDesign,e.widgetForm.isCustomForm=t.isCustomForm,e.widgetForm.isExtendForm=t.isExtendForm,e.widgetForm.isExtendField=t.isExtendField,e.widgetForm.isShowSave=t.isShowSave,e.widgetForm.isSysAdmin=t.isSysAdmin,e.widgetForm.dataSource=t.dataSource,e.dataValidatorTypes=$e.map(e=>({...e})),e.showField?(e.widgetForm.config.colClass=6,e.mainTableComponents=t.mobileFiled.mainTableComponents.map(e=>({...e,icon:Ie[e.type]})),e.repeatSectionComponents=t.mobileFiled.repeatSectionComponents.map(e=>(e.columns=e.columns.map(e=>({...e,icon:Ie[e.type]})),e)),e.basicComponents=_e.filter(e=>1==e.mobileShow).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]})),e.compositeComponents=Ve.filter(e=>1==e.mobileShow).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]})),e.layoutComponents=Te.filter(e=>1==e.mobileShow).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]}))):(e.widgetForm.config.colClass=12,e.basicComponents=_e.filter(t=>1==e.widgetForm.designType||"radio"!=t.type&&"popupselect"!=t.type&&"button"!=t.type).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),title:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]})),1==e.widgetForm.designType?(e.advanceFields.push("DesignSingleFileUpload"),e.advanceFields.push("DesignMultiFileUpload")):(e.advanceFields.push("SingleFileUpload"),e.advanceFields.push("MultiFileUpload")),e.advanceComponents=De.filter(t=>1!=e.widgetForm.designType||"ProcessOpinion"!=t.type).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),title:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]})),e.compositeComponents=Ve.filter(t=>1==e.widgetForm.designType||"QueryList"!=t.type&&"IncludeForm"!=t.type&&"Tree"!=t.type).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]})),e.layoutComponents=Te.filter(e=>!0).map(t=>({...t,name:e.$t(`fm.components.fields.${t.type}`),title:e.$t(`fm.components.fields.${t.type}`),icon:Ie[t.type]})),1==e.widgetForm.designType?(e.advanceComponents[0].options.isDesign="true",e.advanceComponents[1].options.isDesign="true",e.advanceComponents[2].options.isDesign="true",e.advanceComponents[3].options.isDesign="true",e.compositeComponents[1].options.isDesign="true"):(e.advanceComponents[0].options.isDesign="false",e.advanceComponents[1].options.isDesign="false",e.advanceComponents[2].options.isDesign="false",e.advanceComponents[3].options.isDesign="false",e.compositeComponents[1].options.isDesign="false"))}})},handleConfigSelect(e){this.configTab=e},handleMoveEnd(e){},handleMoveStart({oldIndex:e}){},handleMove(e,t){const a=e.to;return!this.widgetForm.isExtendForm||-1!=a.className.indexOf("override-container")},handlePreview(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_setFormModelAndDataSource.action",data:{data:JSON.stringify(e.widgetForm)},dataType:"json",success:function(t){var a=t.type,i=t.messgage;"success"==a?1==e.widgetForm.designType?parent.layer.open({id:"preview",type:2,title:!1,closeBtn:0,shade:[.1,"#000"],shadeClose:!1,area:["100%","100%"],content:"../form/admin/debug/formdebug.jsp"}):parent.parent.layer.open({id:"preview",type:2,title:!1,closeBtn:0,shade:[.1,"#000"],shadeClose:!1,area:["100%","100%"],content:"../form/admin/debug/formdebug.jsp"}):e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},handleTest(){this.$refs.generateForm.getData().then(e=>{this.$alert(e,"").catch(e=>{}),this.$refs.widgetPreview.end()}).catch(e=>{this.$refs.widgetPreview.end()})},handleReset(){this.$refs.generateForm.reset()},handleGenerateJson(){this.jsonVisible=!0,this.jsonTemplate=this.widgetForm,this.$nextTick(()=>{ace.edit("jsoneditor").session.setMode("ace/mode/json"),this.jsonClipboard||(this.jsonClipboard=new S.a(".json-btn"),this.jsonClipboard.on("success",e=>{this.$message.success(this.$t("fm.message.copySuccess"))})),this.jsonCopyValue=JSON.stringify(this.widgetForm)})},handleGenerateCode(){this.codeVisible=!0,this.htmlTemplate=Fe(JSON.stringify(this.widgetForm),"html"),this.vueTemplate=Fe(JSON.stringify(this.widgetForm),"vue"),this.$nextTick(()=>{ace.edit("codeeditor").session.setMode("ace/mode/html"),ace.edit("vuecodeeditor").session.setMode("ace/mode/html")})},handleUpload(){this.uploadVisible=!0,this.$nextTick(()=>{this.uploadEditor=ace.edit("uploadeditor"),this.uploadEditor.session.setMode("ace/mode/json")})},handleUploadJson(){try{this.setJSON(JSON.parse(this.uploadEditor.getValue())),this.uploadVisible=!1}catch(e){this.$message.error(e.message),this.$refs.uploadJson.end()}},handleClear(){this.widgetForm={list:[],config:{labelWidth:"25%",labelPosition:"center",colClass:12,size:"small",customClass:""}},this.widgetFormSelect={},this.seleDataSource={}},getJSON(){return this.widgetForm},getHtml(){return Fe(JSON.stringify(this.widgetForm))},setJSON(e){this.widgetForm=e,e.list.length>0&&(this.widgetFormSelect=e.list[0])},handleInput(e){this.blank=e},handleDataChange(e,t,a){},loadFormList(){const e=this;$.ajax({type:"POST",async:!1,url:"../designerVue/formDesignVue_loadForm.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){e.widgetForm.list=t.list,e.widgetForm.formCode=t.formCode,e.widgetForm.formName=t.formName,e.widgetForm.unionPKText=t.unionPKText,e.widgetForm.config=t.config,e.widgetForm.published=t.published}})},openDataValidator(e){this.$refs.dataValidator.openDataValidator(e)},openTabSet(e){let t=this.$refs.widgetForm.$refs.formContainer;this.$refs.tabSetUp.openTabSet(e,t)},handleSaveForm(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_saveForm.action",data:{data:JSON.stringify(e.widgetForm)},dataType:"json",success:function(t){var a=t.type,i=t.messgage;e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},handlePublishForm(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_publishForm.action",data:{data:JSON.stringify(e.widgetForm)},dataType:"json",success:function(t){var a=t.type;e.widgetForm.published="true";var i=t.messgage;e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},handleUnPublishForm(){const e=this;layer.load(0,{shade:!1}),e.showModal=!0,$.ajax({type:"POST",url:"../designerVue/formDesignVue_unPublishForm.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){var a=t.type;e.widgetForm.published="false";var i=t.messgage;e.$message({message:i,type:a}),layer.close(layer.load()),e.showModal=!1}})},loadModelAndSource(){const e=this;$.ajax({url:"../designerVue/formDesignVue_setFormModelAndDataSource.action",data:{data:JSON.stringify(e.widgetForm),formUuid:e.$route.query.formUuid},type:"post",dataType:"json",async:!1,success:function(t){var a=t.type,i=t.messgage;"success"!=a&&e.$message({message:i,type:a})}})},handleComponentSet(e){$.ajax({url:"../designerVue/formDesignVue_setFormModelAndDataSource.action",data:{data:JSON.stringify(this.widgetForm)},type:"post",dataType:"json",async:!1,success:function(t){if("success"==t.type){const t=e[0],a=e[1],i=e[2];openCompontentSet(t,a,i)}}})},handleMobileMove(e,t){const a=e.to;if(this.widgetForm.isExtendForm&&-1==a.className.indexOf("override-container"))return!1;const i=e.draggedContext.element;return!document.getElementById(i.key)||(layer.msg("设计区已有当前元素请不要重复拖拽",{icon:0}),!1)}},watch:{widgetForm:{deep:!0,handler:function(e){}},$lang:function(e){this._loadComponents()}},created(){}},Oe=(a("1d7b"),Object(s.a)(Pe,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"fm2-container"},[a("el-main",{staticClass:"fm2-main"},[a("el-container",[e.showField?a("el-aside",{attrs:{width:"260px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.viewComponent.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.mainTableComponents?[e._l(e.mainTableComponents,(function(t){return[a("div",{staticClass:"widget-cate"},[e._v(e._s(t.title))]),a("div",{staticClass:"widget-sub-cate"}),a("draggable",e._b({attrs:{tag:"ul",list:t.columns,move:e.handleMobileMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(t.columns,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.title))])])])})),0)]}))]:e._e(),e.repeatSectionComponents&&e.repeatSectionComponents.length>0?[a("div",{staticClass:"widget-cate"},[e._v("重复节")]),e._l(e.repeatSectionComponents,(function(t,i){return a("div",{key:i,attrs:{list:e.repeatSectionComponents}},[a("div",{staticClass:"widget-sub-cate"}),a("draggable",e._b({attrs:{tag:"ul",list:t.columns,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(t.columns,(function(t,i){return a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.title))])])])})),0)],1)}))]:e._e(),e.compositeFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.composite.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.compositeComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.compositeComponents,(function(t,i){return e.compositeFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.layoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.layoutComponents,(function(t,i){return e.layoutFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)]):a("el-aside",{attrs:{width:"260px"}},[a("div",{staticClass:"components-list"},[e.basicFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.basic.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.basicComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.basicComponents,(function(t,i){return e.basicFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"divider"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.advanceFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.advance.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.advanceComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.advanceComponents,(function(t,i){return e.advanceFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label",class:{"no-put":"table"==t.type}},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.compositeFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.composite.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.compositeComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.compositeComponents,(function(t,i){return e.compositeFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e(),e.layoutFields.length?[a("div",{staticClass:"widget-cate"},[e._v(e._s(e.$t("fm.components.layout.title")))]),a("draggable",e._b({attrs:{tag:"ul",list:e.layoutComponents,move:e.handleMove},on:{end:e.handleMoveEnd,start:e.handleMoveStart}},"draggable",{group:{name:"people",pull:"clone",put:!1},sort:!1,ghostClass:"ghost"},!1),e._l(e.layoutComponents,(function(t,i){return e.layoutFields.indexOf(t.type)>=0?a("li",{key:i,staticClass:"form-edit-widget-label no-put"},[a("a",[a("i",{staticClass:"icon iconfont",class:t.icon}),a("span",[e._v(e._s(t.name))])])]):e._e()})),0)]:e._e()],2)]),a("el-container",{staticClass:"center-container",attrs:{direction:"vertical"}},[a("el-header",{staticClass:"btn-bar",staticStyle:{height:"45px"}},[e._t("action"),1==e.widgetForm.isShowSave?[a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"fa fa-save",disabled:"true"==e.widgetForm.published},on:{click:e.handleSaveForm}},[e._v("\n\t\t\t\t\t\t\t\t保存\n\t\t\t\t\t\t\t")]),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"fa fa-cloud-upload",disabled:"true"==e.widgetForm.published},on:{click:e.handlePublishForm}},[e._v("\n\t\t\t\t\t\t\t\t发布\n\t\t\t\t\t\t\t")]),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"fa fa-close",disabled:"true"!=e.widgetForm.published},on:{click:e.handleUnPublishForm}},[e._v("\n\t\t\t\t\t\t\t\t取消发布\n\t\t\t\t\t\t\t")])]:e._e(),a("el-button",{staticStyle:{color:"#3c4b5a"},attrs:{type:"text",size:"medium",icon:"el-icon-view"},on:{click:e.handlePreview}},[e._v("\n                            预览\n                        ")]),a("label",{staticClass:"form-published"},[e._v("状态:"+e._s("true"==e.widgetForm.published?"已发布":"未发布"))])],2),a("el-main",{class:{"widget-empty":0==e.widgetForm.list.length}},[e.resetJson?a("widget-form",{ref:"widgetForm",attrs:{data:e.widgetForm,select:e.widgetFormSelect,selectDataSource:e.seleDataSource},on:{"update:select":function(t){e.widgetFormSelect=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},handleComponentSet:function(t){return e.handleComponentSet(arguments)}}}):e._e()],1)],1),a("el-aside",{staticClass:"widget-config-container",staticStyle:{width:"320px"}},[a("el-container",[a("el-header",{attrs:{height:"45px"}},[a("div",{staticClass:"config-tab",class:{active:"widget"==e.configTab},on:{click:function(t){return e.handleConfigSelect("widget")}}},[e._v(e._s(e.$t("fm.config.widget.title"))+"\n                            ")]),a("div",{staticClass:"config-tab",class:{active:"form"==e.configTab},on:{click:function(t){return e.handleConfigSelect("form")}}},[e._v(e._s(e.$t("fm.config.form.title"))+"\n                            ")])]),a("el-main",{staticClass:"config-content"},[a("widget-config",{directives:[{name:"show",rawName:"v-show",value:"widget"==e.configTab,expression:"configTab=='widget'"}],attrs:{data:e.widgetFormSelect,dataSourceItem:e.seleDataSource,designType:e.widgetForm.designType,result:e.widgetForm.dataSource,formCode:e.widgetForm.formCode,extendFieldReadonly:e.extendFieldReadonly},on:{"update:dataSourceItem":function(t){e.seleDataSource=t},"update:data-source-item":function(t){e.seleDataSource=t},openOuterDialog:e.openDataValidator,openTabSetDialog:e.openTabSet,loadModelAndSource:e.loadModelAndSource,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}}),a("form-config",{directives:[{name:"show",rawName:"v-show",value:"form"==e.configTab,expression:"configTab=='form'"}],attrs:{data:e.widgetForm},on:{loadModelAndSource:e.loadModelAndSource,_loadComponents:e._loadComponents}})],1)],1)],1)],1),a("cus-dialog",{ref:"widgetPreview",attrs:{visible:e.previewVisible,width:"1000px",form:""},on:{"on-close":function(t){e.previewVisible=!1}}},[e.previewVisible?a("generate-form",{ref:"generateForm",attrs:{insite:"true",data:e.widgetForm,value:e.widgetModels,remote:e.remoteFuncs},on:{"on-change":e.handleDataChange},scopedSlots:e._u([{key:"blank",fn:function(t){return[e._v("\n                        Width\n                        "),a("mf-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.width,callback:function(a){e.$set(t.model.blank,"width",a)},expression:"scope.model.blank.width"}}),e._v("\n                        Height\n                        "),a("mf-input",{staticStyle:{width:"100px"},model:{value:t.model.blank.height,callback:function(a){e.$set(t.model.blank,"height",a)},expression:"scope.model.blank.height"}})]}}],null,!1,1321045653)}):e._e(),a("template",{slot:"action"},[a("el-button",{attrs:{type:"primary"},on:{click:e.handleTest}},[e._v(e._s(e.$t("fm.actions.getData")))]),a("el-button",{on:{click:e.handleReset}},[e._v(e._s(e.$t("fm.actions.reset")))])],1)],2),a("cus-dialog",{ref:"uploadJson",attrs:{visible:e.uploadVisible,width:"800px",form:""},on:{"on-close":function(t){e.uploadVisible=!1},"on-submit":e.handleUploadJson}},[a("el-alert",{attrs:{type:"info",title:e.$t("fm.description.uploadJsonInfo")}}),a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"uploadeditor"}},[e._v(e._s(e.jsonEg))])],1),a("cus-dialog",{ref:"jsonPreview",attrs:{visible:e.jsonVisible,width:"800px",form:""},on:{"on-close":function(t){e.jsonVisible=!1}}},[a("div",{staticStyle:{height:"400px",width:"100%"},attrs:{id:"jsoneditor"}},[e._v(e._s(e.jsonTemplate))]),a("template",{slot:"action"},[a("el-button",{staticClass:"json-btn",attrs:{type:"primary","data-clipboard-text":e.jsonCopyValue}},[e._v("\n                        "+e._s(e.$t("fm.actions.copyData"))+"\n                    ")])],1)],2),a("cus-dialog",{ref:"codePreview",attrs:{visible:e.codeVisible,width:"800px",form:"",action:!1},on:{"on-close":function(t){e.codeVisible=!1}}},[a("el-tabs",{staticStyle:{"box-shadow":"none"},attrs:{type:"border-card"},model:{value:e.codeActiveName,callback:function(t){e.codeActiveName=t},expression:"codeActiveName"}},[a("el-tab-pane",{attrs:{label:"Vue Component",name:"vue"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"vuecodeeditor"}},[e._v(e._s(e.vueTemplate))])]),a("el-tab-pane",{attrs:{label:"HTML",name:"html"}},[a("div",{staticStyle:{height:"500px",width:"100%"},attrs:{id:"codeeditor"}},[e._v(e._s(e.htmlTemplate))])])],1)],1),a("DataValidator",{ref:"dataValidator",attrs:{dataValidatorTypes:e.dataValidatorTypes}}),a("TabSetUp",{ref:"tabSetUp"}),e.showModal?a("div",{staticClass:"mask"}):e._e()],1)],1)}),[],!1,null,null,null).exports),Me={name:"MfForm",componentName:"MfForm",provide(){return{mfForm:this}},props:{model:Object,rules:Object,labelPosition:String,labelWidth:String,labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},size:String,disabled:Boolean,validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:{type:Boolean,default:!1}},watch:{},computed:{autoLabelWidth(){if(!this.potentialLabelWidthArr.length)return 0;const e=Math.max(...this.potentialLabelWidthArr);return e?`${e}px`:""}},data:()=>({fields:[],potentialLabelWidthArr:[]}),created(){this.$on("mf.form.addField",e=>{e&&this.fields.push(e)}),this.$on("mf.form.removeField",e=>{e.prop&&this.fields.splice(this.fields.indexOf(e),1)})},methods:{resetFields(){this.model&&this.fields.forEach(e=>{e.resetField()})},getLabelWidthIndex(e){const t=this.potentialLabelWidthArr.indexOf(e);if(-1===t)throw new Error("[MfementForm]unpected width ",e);return t},registerLabelWidth(e,t){if(e&&t){const a=this.getLabelWidthIndex(t);this.potentialLabelWidthArr.splice(a,1,e)}else e&&this.potentialLabelWidthArr.push(e)},deregisterLabelWidth(e){const t=this.getLabelWidthIndex(e);this.potentialLabelWidthArr.splice(t,1)}}},Le=(a("96c9"),Object(s.a)(Me,(function(){var e=this.$createElement;return(this._self._c||e)("form",{staticClass:"el-form",class:[this.labelPosition?"el-form--label-"+this.labelPosition:"",{"el-form--inline":this.inline}]},[this._t("default")],2)}),[],!1,null,null,null).exports);function Ee(e,t,a){this.$children.forEach(i=>{i.$options.componentName===e?i.$emit.apply(i,[t].concat(a)):Ee.apply(i,[e,t].concat([a]))})}var Ne={methods:{dispatch(e,t,a){for(var i=this.$parent||this.$root,l=i.$options.componentName;i&&(!l||l!==e);)(i=i.$parent)&&(l=i.$options.componentName);i&&i.$emit.apply(i,[t].concat(a))},broadcast(e,t,a){Ee.call(this,e,t,a)}}};a("6bd7");var We={name:"MfFormItem",componentName:"MfFormItem",mixins:[Ne],provide(){return{mfFormItem:this}},inject:["mfForm"],props:{label:String,labelWidth:String,formItem:String,styleClass:String,labelClass:Array,itemClass:String,prop:String,for:String,size:String,colClass:Number,type:String,isEditListItem:{type:Boolean,default:()=>!1},isIncludeForm:Boolean,styleItem:String,styleLabel:String},components:{},watch:{},computed:{labelFor(){return this.for||this.prop},labelStyle(){let e=this.styleLabel;return null==e||0==e.length?e="":e.endsWith(";")||(e+=";"),this.$options&&"splitline"===this.$options.propsData.type&&(e+="float: left;",e+="text-align: left"),e},contentStyle(){let e=this.styleLabel,t="",a="";if(null!=e&&e.length>0){e=e.toLowerCase();const t=e.split(";");for(let e=0;e<t.length;e++)-1!=t[e].indexOf("width")&&(a=t[e])}if(null!=a&&a.length>0){const e=a.split(":");null!=e&&e.length>0&&(t=e[1].trim().toLowerCase())}const i={};return this.$options&&"splitline"===this.$options.propsData.type||"top"===this.form.labelPosition||this.form.inline||(i.marginLeft=t),i},form(){let e=this.$parent,t=e.$options.componentName;for(;"MfForm"!==t;)"MfFormItem"===t&&(this.isNested=!0),e=e.$parent,t=e.$options.componentName;return e},fieldValue(){const e=this.form.model;if(!e||!this.prop)return;let t=this.prop;return-1!==t.indexOf(":")&&(t=t.replace(/:/,".")),function(e,t,a){let i=e,l=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),s=0;for(let n=l.length;s<n-1&&(i||a);++s){let e=l[s];if(!(e in i)){if(a)throw new Error("please transfer a valid prop path to form item!");break}i=i[e]}return{o:i,k:l[s],v:i?i[l[s]]:null}}(e,t,!0).v},_formSize(){return this.mfForm.size},elFormItemSize(){return this.size||this._formSize},sizeClass(){return this.elFormItemSize||(this.$ELEMENT||{}).size},itemStyle(){return"top"===this.form.labelPosition||this.form.inline?"":this.itemClass},controlItemStyle(){let e=this.styleItem;return null==e||0==e.length?e="":e.endsWith(";")||(e+=";"),!0===this.isIncludeForm&&(e+="pointer-events: none;"),e+="margin-bottom: 0px",e}},data:()=>({isNested:!1,computedLabelWidth:""}),methods:{updateComputedLabelWidth(e){this.computedLabelWidth=e?`${e}px`:""}},mounted(){if(this.prop){this.dispatch("MfForm","mf.form.addField",[this]);let e=this.fieldValue;Array.isArray(e)&&(e=[].concat(e)),Object.defineProperty(this,"initialValue",{value:e}),this.addValidateEvents()}},beforeDestroy(){this.dispatch("MfForm","mf.form.removeField",[this])}},je=We,Be=(a("385b"),Object(s.a)(je,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isEditListItem?a("div",{staticClass:"el-form-item mf_form_item",class:[e.isEditListItem?"":e.colClass?"col-md-"+e.colClass:"col-md-12",e.sizeClass?"el-form-item--"+e.sizeClass:""],style:e.controlItemStyle},[a("div",{staticClass:"subtableHeadStyle",staticStyle:{width:"100%"}},[e.label||e.$slots.label?a("label",{staticClass:"el-form-item__label",staticStyle:{width:"100%","text-align":"center"},style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label))])],2):e._e()]),a("div",{staticClass:"subtableCellStyle",staticStyle:{width:"100%"}},[e._t("default")],2)]):a("div",{staticClass:"el-form-item mf_form_item mf_form_item_bottom ",class:["col-xs-12",e.colClass?"col-md-"+e.colClass:"col-md-12",e.sizeClass?"el-form-item--"+e.sizeClass:"",e.formItem?e.formItem:"",e.styleClass?e.styleClass:""],style:e.controlItemStyle},[e.label||e.$slots.label?a("label",{class:["el-form-item__label",e.labelClass?e.labelClass:""],style:e.labelStyle,attrs:{for:e.labelFor}},[e._t("label",[e._v(e._s(e.label+e.form.labelSuffix))])],2):e._e(),a("div",{class:["mf-form-item__content",e.label?e.itemStyle:""],style:e.contentStyle},[e._t("default")],2)])}),[],!1,null,null,null)),Ue=Be.exports,Re={name:"MfInput",componentName:"MfInput",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,mask:String,type:{type:String,default:()=>"text"}},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]},inputmask(){return null!=this.mask&&null!=this.mask&&""!=this.mask?"'mask':'"+this.mask+"'":""}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},Ae=Re,ze=Object(s.a)(Ae,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",staticClass:"form-control ",style:{height:"34px"},attrs:{id:e.id,name:e.name,readonly:e.readonly,"data-inputmask":e.inputmask,type:e.type},on:{input:e.handleInput}},"input",e.$attrs,!1))]],2)}),[],!1,null,null,null),qe=ze.exports,He=a("6be5"),Ge=a("7c86"),Je={name:"MfNumber",componentName:"MfNumber",inheritAttrs:!1,props:{id:String,name:String,max:{type:Number,default:1/0},min:{type:Number,default:-1/0},value:{},disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":Number(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){let t=void 0===e.target.value?e.target.value:Number(e.target.value);t!==this.nativeInputValue&&(this.$emit("input",t),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},Qe=Je,Ke=Object(s.a)(Qe,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("input",this._b({ref:"input",staticClass:"form-control ",style:{height:"34px"},attrs:{id:this.id,name:this.name,readonly:this.readonly,type:"number"},on:{input:this.handleInput}},"input",this.$attrs,!1))]],2)}),[],!1,null,null,null),Xe=Ke.exports,Ye={name:"MfDate",componentName:"MfDate",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},Ze=Ye,et=Object(s.a)(Ze,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("input",this._b({ref:"input",staticClass:"form-control ",style:{"background-color":"#fff",height:"34px"},attrs:{id:this.id,name:this.name,readonly:"false",type:"text"},on:{input:this.handleInput}},"input",this.$attrs,!1)),t("span",{staticClass:"input-group-addon addon-udSelect udSelect ",attrs:{readonly:this.readonly}},[t("i",{staticClass:"fa fa-calendar"})])]],2)}),[],!1,null,null,null),tt=et.exports,at={name:"MfTime",componentName:"MfTime",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue()}},it=at,lt=Object(s.a)(it,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("input",this._b({ref:"input",staticClass:"form-control ",style:{"background-color":"#fff",height:"34px"},attrs:{id:this.id,name:this.name,readonly:"false",styleText:this.styleText,type:"text"},on:{input:this.handleInput}},"input",this.$attrs,!1)),t("span",{staticClass:"input-group-addon addon-udSelect udSelect ",attrs:{readonly:this.readonly}},[t("i",{staticClass:"fa fa-clock-o"})])]],2)}),[],!1,null,null,null),st=lt.exports,nt={name:"MfMultiselect",componentName:"MfMultiselect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,styleText:String,readonly:Boolean},computed:{hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{},methods:{},created(){},mounted(){$("#"+this.id).select2({placeholder:this.placeholder,minimumResultsForSearch:-1,allowClear:!0})}},ot=nt,rt=Object(s.a)(ot,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"],style:[{height:"34px"},this.styleText]},[[t("select",this._b({staticClass:"form-control",staticStyle:{width:"100%",height:"100%"},attrs:{id:this.id,name:this.name,readonly:this.readonly}},"select",this.$attrs,!1),[t("option")])]],2)}),[],!1,null,null,null),dt=rt.exports,ct={name:"MfListbox",componentName:"MfListbox",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,styleText:String,readonly:Boolean},computed:{hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{},methods:{},created(){},mounted(){}},ut=ct,pt=Object(s.a)(ut,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("select",this._b({staticClass:"form-control",style:{height:"100%"},attrs:{id:this.id,name:this.name,readonly:this.readonly,multiple:""}},"select",this.$attrs,!1),[t("option")])]],2)}),[],!1,null,null,null),mt=pt.exports,ht={name:"MfCheckboxGroup",componentName:"MfCheckboxGroup",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},initCheckBox(e){setTimeout((function(){$("#"+e).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),50)}},created(){},mounted(){this.setNativeInputValue(),this.initCheckBox(this.id)}},ft=Object(s.a)(ht,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{width:"100px",height:"34px","line-height":"32px"}},[t("input",{staticClass:"box",attrs:{type:"checkbox",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v("复选框组")])])]],2)}),[],!1,null,null,null).exports,gt={name:"MfCheckbox",componentName:"MfCheckbox",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,labelValue:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},initCheckBox(e){setTimeout((function(){$("#"+e).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),50)}},created(){},mounted(){this.setNativeInputValue(),this.initCheckBox(this.id)}},yt=Object(s.a)(gt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{height:"34px","line-height":"32px"}},[t("input",{staticClass:"box",attrs:{type:"checkbox",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v(this._s(this.labelValue))])])]],2)}),[],!1,null,null,null).exports,bt={name:"MfRadio",componentName:"MfRadio",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,labelValue:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue(),$("#"+this.id).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}},vt=Object(s.a)(bt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{height:"34px","line-height":"33px"}},[t("input",{staticClass:"box",attrs:{type:"radio",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v(this._s(this.labelValue))])])]],2)}),[],!1,null,null,null).exports,xt={name:"MfRadioGroup",componentName:"MfRadioGroup",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input}},created(){},mounted(){this.setNativeInputValue(),$("#"+this.id).iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}},wt=Object(s.a)(xt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{width:"100px",height:"34px","line-height":"33px"}},[t("input",{staticClass:"box",attrs:{type:"radio",id:this.id,name:this.name,readonly:this.readonly}}),t("span",{staticStyle:{color:"black","padding-left":"5px"}},[this._v("单选框组")])])]],2)}),[],!1,null,null,null).exports,St={name:"MfSplitline",componentName:"MfSplitline",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},kt=Object(s.a)(St,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[[t("div",{staticStyle:{"border-top":"solid 1px #c5cfdb"}})]],2)}),[],!1,null,null,null).exports,Ct={name:"MfButton",componentName:"MfButton",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,btnType:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},parseType(){return"x-btn "+this.btnType+"-btn"}},watch:{},methods:{},created(){},mounted(){}},_t=Object(s.a)(Ct,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",e._b({class:e.parseType,style:e.hightValue,attrs:{type:"button",id:e.id,name:e.name,styleText:e.styleText}},"button",e.$attrs,!1),[e._v("\n\t\t  "+e._s(e.contentValue)+"\n\t  ")])}),[],!1,null,null,null).exports,Dt={name:"MfLabel",componentName:"MfLabel",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,styleText:String,styleClass:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)}},watch:{},methods:{},created(){},mounted(){}},Tt=Object(s.a)(Dt,(function(){var e=this.$createElement;return(this._self._c||e)("label",{class:["control-label",this.styleClass],style:this.hightValue,attrs:{id:this.id,name:this.name}},[this._v(this._s(this.contentValue))])}),[],!1,null,"85a87cec",null).exports,Vt={name:"MfInnerHtml",componentName:"MfInnerHtml",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},parseText(){return this.contentValue.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\n/g,"<br>")}},watch:{},methods:{},created(){},mounted(){}},$t=(a("c0e7"),Object(s.a)(Vt,(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"itemHtml",style:this.hightValue,attrs:{id:this.id,name:this.name},domProps:{innerHTML:this._s(this.parseText)}})}),[],!1,null,"81d552f2",null).exports),Ft={name:"MfImage",componentName:"MfImage",inheritAttrs:!1,props:{id:String,name:String,imgSrc:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},initImgSrc(){let e=this.imgSrc;return null==e||0==e.length?"":(e="../"+e.toLowerCase(),e)}},watch:{},methods:{},created(){},mounted(){}},It=(a("31a5"),Object(s.a)(Ft,(function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"itemImage",style:this.hightValue,attrs:{src:this.initImgSrc,id:this.id,name:this.name}})}),[],!1,null,"658ab08f",null).exports),Pt={name:"MfSingleUserSelect",componentName:"MfSingleUserSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},Ot=Object(s.a)(Pt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-user"})])])}),[],!1,null,null,null).exports,Mt={name:"MfMultiUserSelect",componentName:"MfMultiUserSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},Lt=Object(s.a)(Mt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-group"})])])}),[],!1,null,null,null).exports,Et={name:"MfSingleDeptSelect",componentName:"MfSingleDeptSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},Nt=Object(s.a)(Et,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-th-large"})])])}),[],!1,null,null,null).exports,Wt={name:"MfMultiDeptSelect",componentName:"MfMultiDeptSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},jt=Object(s.a)(Wt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[a("input",e._b({ref:"input",staticClass:"form-control ",style:[{"background-color":"#fff"},e.hightValue],attrs:{id:e.id,name:e.name,readonly:"false",styleText:e.styleText,type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),a("span",{staticClass:"input-group-addon addon-udSelect udSelect",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-sitemap"})])])}),[],!1,null,null,null).exports,Bt={name:"MfSingleFileUpload",componentName:"MfSingleFileUpload",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},Ut=(a("b026"),Object(s.a)(Bt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[t("div",{staticStyle:{height:"34px",float:"right",width:"60px","margin-left":"0px"}},[t("div",{staticClass:"col-md-12 input-group input-group  clearfix"},[t("a",{staticClass:"common_button2 common_button_icon file_click",attrs:{href:"###"}},[t("em",{staticClass:"ico16 affix_16"}),this._v("添加\n\t\t\t\t\t"),t("input",this._b({attrs:{type:"file",size:"51",id:this.id,name:this.name,readonly:"readonly"}},"input",this.$attrs,!1))])])]),this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"file_select  border_all clearfix",staticStyle:{float:"left",width:"calc(100% - 60px)",padding:"0px 5px"}},[t("li",[t("a",[this._v(" ")])])])}],!1,null,"5f174225",null).exports),Rt={name:"MfMultiFileUpload",componentName:"MfMultiFileUpload",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},At=(a("51a8"),Object(s.a)(Rt,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:["col-md-12","input-group"]},[t("div",{staticStyle:{height:"34px",float:"right",width:"60px","margin-left":"0px"}},[t("div",{staticClass:"col-md-12 input-group input-group  clearfix"},[t("a",{staticClass:"common_button2 common_button_icon file_click",attrs:{href:"###"}},[t("em",{staticClass:"ico16 affix_16"}),this._v("添加\n\t\t\t\t\t"),t("input",this._b({attrs:{type:"file",size:"51",id:this.id,name:this.name,readonly:this.readonly}},"input",this.$attrs,!1))])])]),this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("ul",{staticClass:"file_select  border_all clearfix",staticStyle:{float:"left",width:"calc(100% - 60px)",padding:"0px 5px"}},[t("li",[t("a",[this._v(" ")])])])}],!1,null,"f383d5a0",null).exports),zt={name:"MfProcessOpinion",componentName:"MfProcessOpinion",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String},computed:{},watch:{},methods:{},created(){},mounted(){}},qt=Object(s.a)(zt,(function(){var e=this.$createElement;return(this._self._c||e)("div",{class:["col-md-12","input-group"]},[this._m(0)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%","min-height":"72px",width:"100%"}},[t("div",{staticClass:"strCls",staticStyle:{height:"36px",color:"#606266","text-align":"left","line-height":"36px"}},[this._v("意见内容")]),t("div",{staticClass:"strCls",staticStyle:{height:"36px",color:"#0560a6","line-height":"36px"}},[t("div",{staticStyle:{float:"right"}},[this._v("XXXX年XX月XX日")]),t("div",{staticStyle:{float:"right","margin-right":"30px"}},[this._v("部门    意见人")])])])}],!1,null,"7e76d21a",null).exports,Ht={name:"MfTree",componentName:"MfTree",props:["element","select","index","data","selectDataSource","widgetForm"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{initStyle(){let e=this.element.options.styleText;return e=e.toLowerCase(),e}},mounted(){},methods:{handleWidgetDelete(e){this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},handleSelectWidget(e){this.widgetForm.isExtendForm&&!se(this.data.list[e])||(this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns)},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Gt=Object(s.a)(Ht,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24,id:e.element.key,name:e.element.name}},[a("label",{staticStyle:{color:"#000000"}},[e._v(e._s(e.element.name))])]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,Jt={name:"MfToolBarItem",componentName:"MfToolBarItem",inheritAttrs:!1,props:{id:String,name:String,contentValue:String,btnType:String,styleText:String},computed:{hightValue(){let e=this.styleText;return null==e||0==e.length?"":(e=e.toLowerCase(),e)},parseType(){return"x-btn "+this.btnType+"-btn"}},watch:{},methods:{},created(){},mounted(){}},Qt=Object(s.a)(Jt,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",e._b({class:["btn","btn-default","toolBarItem"],style:e.hightValue,attrs:{type:"button",id:e.id,name:e.name}},"button",e.$attrs,!1),[e._v("\n\t\t  "+e._s(e.contentValue)+"\n\t  ")])}),[],!1,null,null,null).exports,Kt={name:"MfEditList",componentName:"MfEditList",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm","overrideVal"],components:{MFToolBarItem:Qt,Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},computed:{canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},appendOverride(){return se(this.overrideVal)?"override-container":""},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},mounted(){},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget).columns},handleEditListAdd(e,t,a){const i=e.newIndex,l=e.oldIndex,s=e.item;if(s.className.indexOf("data-grid")>=0)return"DIV"===s.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let n=t.columns[a].list[i].key;if(this.validateDraggableMsg(n,e,t,a))return;if("EditList"==t.type&&t.columns[a].list.length>1)return t.columns[a].list.splice(i,1),!1;let o=t.columns[a].list[i].name;t.columns[a].list[i].type,n=j(n,this.widgetForm,t.columns[a].list[i],t),this.$set(t.columns[a].list,i,{...t.columns[a].list[i],isEditListItem:"EditList"==t.type,options:{...t.columns[a].list[i].options,remoteFunc:"func_"+n,colClass:this.widgetForm.config.colClass},key:n,name:o,model:t.columns[a].list[i].type+"_"+n}),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,{...t.columns[a].list[i],isEditListItem:"EditList"==t.type,options:{...t.columns[a].list[i].options,colClass:this.widgetForm.config.colClass,options:t.columns[a].list[i].options.options?t.columns[a].list[i].options.options.map(e=>({...e})):[]}}),this.selectWidget=t.columns[a].list[i],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget,this.element.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];if(1!=this.widgetForm.designType){let e="";e=this.element.allDataEL?le(this.element.allDataEL):a,B(t,e,i,this.widgetForm.dataSource)}this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e,t){this.result=this.widgetForm.dataSource;let a=e.key;return this.element.allDataEL&&(t=le(this.element.allDataEL)),e.type&&"EditList"==e.type&&(a=t),N(a,this.result,t)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;if(!e){if(a){const e=this.element.columns[i].list[l].type;if(this.isEditListFiled(e))return layer.msg("重复表区域只能拖入字段",{icon:0}),a.columns[i].list.splice(l,1),!0}return!1}{const e=a.columns[i].list[l];if(3!=this.widgetForm.designType&&(1!=this.widgetForm.isCustomForm||0!=this.widgetForm.isExtendField))return"DataList"==e.fromComponent.fromType?(layer.msg("重复节不能移动到重复表内",{icon:0}),this.$set(this.fromData.row.list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0):"EditList"==e.fromComponent.fromType&&a.key!=e.fromComponent.variableId&&(layer.msg("重复表组件只能在自己所在重复表内移动",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0);if("mainTable"==e.fromComponent.fromType&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.list.splice(l,1),!0;if(a&&a.key!=e.fromComponent.variableId)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)},isEditListFiled(e){let t=!1;switch(e){case"EditList":case"DataList":case"splitline":case"TitlePanel":case"TabContainer":case"Grid":case"image":case"button":case"label":case"innerhtml":t=!0;break;default:t=!1}return t}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},Xt=(a("79d1"),Object(s.a)(Kt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget col-md-12",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},staticStyle:{display:"flow-root"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[1==e.element.designType?[a("div",{staticClass:"x_panel panel_color",staticStyle:{"pointer-events":"none"}},e._l(e.element.actions.list,(function(t,i){return t.key?a("mf-tool-bar-item",{key:i,attrs:{contentValue:t.options.contentValue}}):e._e()})),1),a("table",{staticClass:"subtableStyle"},[a("mf-edit-list-item",{attrs:{element:e.element,widgetForm:e.widgetForm,select:e.selectWidget},on:{"update:select":function(t){e.selectWidget=t}}}),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e(),e._v("\n            ˙\n            ")],1)]:[a("div",{staticClass:"editListHeadStyle",style:{display:"flow-root",pointerEvents:!0===e.isIncludeForm?"none":"auto"}},e._l(e.element.actions.list,(function(t,i){return t.key?a("mf-tool-bar-item",{key:i,attrs:{contentValue:t.options.contentValue}}):e._e()})),1),a("el-row",{attrs:{gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,type:"flex",align:e.element.options.align}},[e._l(e.element.columns,(function(t,i){return a("el-col",{key:i,attrs:{span:t.span?2*t.span:0}},[a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.element,i)},add:function(t){return e.handleEditListAdd(t,e.element,i)}},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,filter:".undraggable",handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list edit-List",class:e.appendOverride,attrs:{name:"fade",tag:"div"}},e._l(t.list,(function(i,l){return i.key?a("widget-form-item",{key:i.key,staticClass:"editList-item",attrs:{element:i,select:e.selectWidget,selectDataSource:e.seleDataSource,index:l,data:Object.assign({},t,{type:e.element.type,key:e.element.key,allDataEL:e.element.allDataEL}),result:e.widgetForm.dataSource,isIncludeForm:e.isIncludeForm,widgetForm:e.widgetForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()})),1)],1)],1)})),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],2)]],2):e._e()}),[],!1,null,null,null).exports),Yt={name:"TitlePanel",componentName:"TitlePanel",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm","overrideVal"],components:{Draggable:x.a},data(){return{contentHeight:"",selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},computed:{canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},mounted(){this.changeContenHeight(),window.onresize=()=>(()=>{this.changeContenHeight()})()},methods:{changeContenHeight(){this.$nextTick(()=>{if(this.$refs.tabDiv)if(null!=this.element.options.height&&""!=this.element.options.height){let e=this.$refs.tabDiv.$el.offsetHeight;this.contentHeight=e-60+"px"}else this.contentHeight="340px"})},handleSelectWidget(e,t){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns,void 0!==t&&(t.cancelBubble=!0)},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)},loadComponentBySession(){this.$emit("loadComponentBySession")},handleComponentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleComponentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"element.options.height":function(e){this.changeContenHeight()}}},Zt=Object(s.a)(Yt,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:{height:e.element.options.height,pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{type:"flex",gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index,t)}}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"ibox-title"},[a("h5",[e._v(e._s(e.element.title))]),a("div",{staticClass:"ibox-tools"})]),a("div",{staticClass:"ibox-content",style:{height:e.contentHeight}},[a("form-container",{attrs:{data:e.element,element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isTitlePanel:!0,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}})],1)]),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,ea={name:"MfDataList",componentName:"MfDataList",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm","overrideVal"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},computed:{canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},appendOverride(){return se(this.overrideVal)?"override-container":""},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},mounted(){},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget).columns},handleDataListAdd(e,t,a){const i=e.newIndex,l=e.oldIndex,s=e.item;if(s.className.indexOf("data-grid")>=0)return"DIV"===s.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].list.splice(i,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let n=t.list[i].key;if(this.validateDraggableMsg(n,e,t))return void t.list.splice(i,1);1!=this.widgetForm.designType||void 0!==this.element.options.bindDataValue&&""!=this.element.options.bindDataValue||(this.$message({message:"请先选择数据绑定",type:"error"}),t.list.splice(i,1));let o=t.list[i].name;var r,d=t.list[i].type;"splitline"===d||"label"===d||"innerhtml"===d||1==this.widgetForm.designType?(n=d+(r=Q(d,this.widgetForm)),o+=r):n=j(n,this.widgetForm,t.list[i],t),this.$set(t.list,i,{...t.list[i],options:{...t.list[i].options,remoteFunc:"func_"+n},key:n,name:o,model:t.list[i].type+"_"+n}),"radio"!==t.list[i].type&&"checkbox"!==t.list[i].type&&"select"!==t.list[i].type||this.$set(t.list,i,{...t.list[i],options:{...t.list[i].options,options:t.list[i].options.options?t.list[i].options.options.map(e=>({...e})):[]}}),this.selectWidget=t.list[i],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget,this.element.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];if(1!=this.widgetForm.designType){let e="";e=this.element.options&&this.element.options.bindDataValue?le(this.element.options.bindDataValue):a,B(t,e,i,this.widgetForm.dataSource)}this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e,t){this.result=this.widgetForm.dataSource;let a=e.key;return this.element.options&&this.element.options.bindDataValue&&(t=le(this.element.options.bindDataValue)),e.type&&"DataList"==e.type&&(a=t),N(a,this.result,t)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;if(!e){if(a){const e=this.element.list[l].type;if("EditList"===a.type){if("EditList"==e||"DataList"==e||"splitline"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e)return layer.msg("重复表区域只能拖入字段",{icon:0}),a.list.splice(l,1),!0}else if("DataList"===a.type&&("EditList"==e||"DataList"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e))return layer.msg("重复节区域只能拖入字段或分割线",{icon:0}),a.list.splice(l,1),!0}return!1}{const e=a.list[l];if(3!=this.widgetForm.designType&&(1!=this.widgetForm.isCustomForm||0!=this.widgetForm.isExtendField))return"DataList"==e.fromComponent.fromType?(layer.msg("重复节组件不能移动到其他重复节",{icon:0}),this.$set(this.fromData.row.list,s,{...a.list[l]}),a.list.splice(l,1),!0):"EditList"==e.fromComponent.fromType?a.key!=e.fromComponent.variableId&&(layer.msg("重复表组件不能移动到重复节",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.list[l]}),a.list.splice(l,1),!0):"mainTable"==e.fromComponent.fromType&&(layer.msg("主表组件不能移动到重复节",{icon:0}),this.$set(null!=this.fromData.colIndex?this.fromData.row.columns[this.fromData.colIndex].list:this.fromData.row.list,s,{...a.list[l]}),a.list.splice(l,1),!0);if("mainTable"==e.fromComponent.fromType&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.list.splice(l,1),!0;if(a&&a.key!=e.fromComponent.variableId)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},ta=(a("bd7f"),Object(s.a)(ea,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view col-md-12 drag-widget",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:{pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{type:"flex",gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{attrs:{span:24}},[a("h3",{staticClass:"dataListTitle"},[e._v("\n                "+e._s(1==e.widgetForm.designType?e.element.name:e.getDataSourceItemSelect(e.element).columns.name))]),a("draggable",e._b({attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.element,null)},add:function(t){return e.handleDataListAdd(t,e.element,0)}},model:{value:e.element.list,callback:function(t){e.$set(e.element,"list",t)},expression:"element.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,filter:".undraggable",handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list data-list",class:e.appendOverride,attrs:{name:"fade",tag:"div"}},e._l(e.element.list,(function(t,i){return t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.element,result:e.widgetForm.dataSource,isIncludeForm:e.isIncludeForm,widgetForm:e.widgetForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()})),1)],1)],1),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports),aa={name:"MfQueryForm",components:{MfButton:_t},componentName:"MfQueryForm",inheritAttrs:!1,props:{queryForm:{type:Object},actions:{type:Object},queryContainerType:{type:String}},computed:{tableArr(){const e=[];let t;if("toolbar"!=this.queryContainerType)for(let a=0;a<this.queryForm.list.length;a++)a%2==0&&(t=[],e.push(t)),t.push(this.queryForm.list[a]);return e}},watch:{},methods:{},created(){},mounted(){}},ia=Object(s.a)(aa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return"toolbar"==e.queryContainerType?a("div",{staticClass:"x_panel panel_color",staticStyle:{"text-align":"left",width:"100%",height:"38px"},attrs:{id:"QueryForm001_tb"}},[e._l(e.queryForm.list,(function(t,i){return["inputHidden"!=t.editorType?[a("label",{staticClass:"control-label ",staticStyle:{"white-space":"nowrap","padding-left":"4px","min-width":"40px","vertical-align":"middle"}},[e._t("label",[e._v(e._s(t.displayLabel))])],2)]:e._e(),"input"==t.editorType?[a("mf-input",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"date"==t.editorType?[a("mf-date",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"time"==t.editorType?[a("mf-time",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},attrs:{id:t.id}})]:e._e(),"number"==t.editorType?[a("mf-number",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.options.id}})]:e._e(),"select"==t.editorType?[a("mf-select",{style:t.style,attrs:{id:t.id}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"multiselect"==t.editorType?[a("mf-multiselect",{style:t.style,attrs:{id:t.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"listbox"==t.editorType?[a("mf-listbox",{style:t.style,attrs:{id:t.options.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"popupselect"==t.editorType?[a("mf-popupselect",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"radiogroup"==t.editorType?[a("mf-radio-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkboxgroup"==t.editorType?[a("mf-checkbox-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkbox"==t.editorType?[a("mf-checkbox",{attrs:{id:t.id,labelValue:t.options.labelValue}})]:e._e(),"SingleUserSelect"==t.editorType?[a("mf-single-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"MultiUserSelect"==t.editorType?[a("mf-multi-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"SingleDeptSelect"==t.editorType?[a("mf-single-dept-select",{attrs:{id:t.options.id}})]:e._e(),"MultiDeptSelect"==t.editorType?[a("mf-multi-dept-select",{attrs:{id:t.options.id}})]:e._e()]})),e._l(e.actions.list,(function(t,i){return t.key?a("mf-tool-bar-item",{key:i,attrs:{contentValue:t.options.contentValue}}):e._e()}))],2):a("table",{staticClass:"query_form_content",staticStyle:{width:"100%"}},[e._l(e.tableArr,(function(t){return a("tr",[e._l(t,(function(t,i){return[a("td",{staticClass:"query_form_label2"},[a("label",{staticClass:"control-label ",attrs:{id:"j_id0",name:"j_id0"}},[e._v(e._s(t.displayLabel))])]),a("td",{staticClass:"query_form_input2"},["input"==t.editorType?[a("mf-input",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"date"==t.editorType?[a("mf-date",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.id}})]:e._e(),"time"==t.editorType?[a("mf-time",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},attrs:{id:t.id}})]:e._e(),"number"==t.editorType?[a("mf-number",{class:"default-width",staticStyle:{display:"inline-table","vertical-align":"middle"},style:t.style,attrs:{id:t.options.id}})]:e._e(),"select"==t.editorType?[a("mf-select",{style:t.style,attrs:{id:t.id}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"multiselect"==t.editorType?[a("mf-multiselect",{style:t.style,attrs:{id:t.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"listbox"==t.editorType?[a("mf-listbox",{style:t.style,attrs:{id:t.options.id,multiple:t.options.multiple,clearable:t.options.clearable}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"popupselect"==t.editorType?[a("mf-popupselect",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"radiogroup"==t.editorType?[a("mf-radio-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkboxgroup"==t.editorType?[a("mf-checkbox-group",{style:t.style,attrs:{id:t.id}})]:e._e(),"checkbox"==t.editorType?[a("mf-checkbox",{attrs:{id:t.id,labelValue:t.options.labelValue}})]:e._e(),"SingleUserSelect"==t.editorType?[a("mf-single-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"MultiUserSelect"==t.editorType?[a("mf-multi-user-select",{style:t.style,attrs:{id:t.options.id}})]:e._e(),"SingleDeptSelect"==t.editorType?[a("mf-single-dept-select",{attrs:{id:t.options.id}})]:e._e(),"MultiDeptSelect"==t.editorType?[a("mf-multi-dept-select",{attrs:{id:t.options.id}})]:e._e()],2)]})),e.queryForm.list.length%2!=0&&t==e.tableArr[e.tableArr.length-1]?[a("td",{staticClass:"query_form_label2"}),a("td",{staticClass:"query_form_input2"})]:e._e()],2)})),a("tr",[a("td",{staticClass:"query_form_command",staticStyle:{"text-align":"center"},attrs:{colspan:"4"}},e._l(e.actions.list,(function(t,i){return t.key?a("mf-button",{key:i,staticClass:"x-btn ok-btn",attrs:{contentValue:t.options.contentValue}}):e._e()})),1)])],2)}),[],!1,null,null,null).exports,la={name:"MfQueryList",componentName:"MfQueryList",props:["id","element","select","index","data","widgetForm","fromData","overrideVal"],components:{MfQueryForm:ia,Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{gridHight(){let e=this.element.options.height;return e&&-1==e.toLowerCase().indexOf("px")&&-1==e.indexOf("%")&&(e+="px"),e},getDataGridParam(){let e={classes:"table table-hover",method:"post",url:"../matrix.rform?mHtml5Flag=true&MATRIX_REFRESH_FORM_ID=form0&matrix_command_id=loadData&X-Requested-With=XMLHttpRequest&REFRESH_COMPONENT_IDS=DataGrid001,&matrix_form_tid=a5509859-5ce3-4400-b367-1bbc204a2db0",showToggle:!1,sortable:!0,onDblClickRow:function(e,t,a){rowClick(e)},striped:!0,pagination:!0,pageSize:20,pageNumber:1,pageList:[10,25,50,100],search:!1,sidePagination:"server",clickToSelect:!0,formatLoadingMessage:function(){return"请稍等，正在加载中..."},formatNoMatches:function(){return"无符合条件的记录"},showExport:!0,exportDataType:"basic",queryParamsType:"limit",queryParams:function(e){return{pageNumber:e.offset,pageSize:e.limit,sort:e.sort,order:e.order}},columns:[{title:"序号",width:"8px",formatter:function(e,t,a){var i=$("#"+this.id).bootstrapTable("getPage");return i.pageSize*(i.pageNumber-1)+a+1}}],singleSelect:!0};return e.columns=e.columns.concat(this.element.fields),e},canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},methods:{handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0)},handleWidgetDelete(e){this.$nextTick(()=>{this.data.list.splice(e,1)})},initQueryList(e){var t=this.getDataGridParam;setTimeout((function(){$("#"+e).bootstrapTable("destroy"),$("#"+e).bootstrapTable(t)}),50)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},element:{handler(e){$("#"+this.id).length>0&&this.initQueryList(this.id)},deep:!0}},mounted(){this.initQueryList(this.id)}},sa=(a("f715"),Object(s.a)(la,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget col-md-12 query-list",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:[{display:"flow-root"},{height:e.gridHight}],attrs:{gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,type:"flex",align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("table",{staticClass:"query_form_content",staticStyle:{height:"100%",width:"100%",overflow:"hidden","border-collapse":"collapse","border-spacing":"0px","table-layout":"fixed"}},[e.element.QueryForm.hiddenItem?e._e():[a("tr",{staticStyle:{height:"0px"}},[a("td",{staticClass:"query_form_toolbar",attrs:{colspan:"2"}},[a("mf-query-form",{attrs:{queryForm:e.element.QueryForm,actions:e.element.actions,queryContainerType:e.element.options.queryContainerType}})],1)])],a("tr",[a("td",{staticStyle:{"border-style":"none",width:"100%",margin:"0px",padding:"0px","vertical-align":"top",height:"100%"},attrs:{colspan:"2"}},[a("table",{staticStyle:{width:"100%",height:"100%"},attrs:{id:e.id}})])])],2),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()]):e._e()}),[],!1,null,null,null).exports),na={name:"MfSelectTransition",components:{MfPopupselect:He.a},componentName:"MfSelectTransition",inheritAttrs:!1,props:["element","select","index","data","result","selectDataSource","widgetForm","isIncludeForm","overrideVal"],computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]},canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0}},methods:{handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0)},handleWidgetDelete(e){this.dataSource=this.result;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.result),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){let t=e.key,a="";return 1==this.widgetForm.designType&&(t=ie(e.value),a=e.fromComponent.variableId),N(t,this.result,a)},setElementProp(){void 0!==this.data.type?this.$set(this.element,"fromComponent",{fromType:this.data.type,variableId:this.data.options.bindDataValue?le(this.data.options.bindDataValue):this.data.key}):this.$set(this.element,"fromComponent",{fromType:"mainTable",variableId:1==this.widgetForm.designType?le(this.element.value):""})}},created(){this.setElementProp()},mounted(){}},oa={name:"FormContainer",componentName:"FormContainer",props:["data","select","selectDataSource","widgetForm","isTitlePanel","fromData","isIncludeForm","overrideVal"],components:{MfSelectTransition:Object(s.a)(na,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("mf-form-item",{staticClass:"widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,is_req:e.element.options.required},attrs:{label:"选择下一步",colClass:"splitline"!=e.element.type?e.element.options.colClass:12,formItem:"formItem",labelClass:["myLabClass","itemLable"],itemClass:"itemValue",type:e.element.type,isIncludeForm:e.isIncludeForm,"label-width":e.element.options.labelWidth,styleItem:e.element.options.styleItem,styleLabel:e.element.options.styleLabel},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-select",{style:e.element.options.styleText,attrs:{defaultValue:e.element.options.defaultValue,id:e.element.key,disabled:e.element.options.disabled,multiple:e.element.options.multiple,catalogIdText:e.element.options.catalogIdText,catalogId:e.element.options.catalogId,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)],1),a("mf-form-item",{staticClass:"widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,is_req:e.element.options.required},attrs:{label:"选择处理人",colClass:e.element.options.colClass,formItem:"formItem",labelClass:["myLabClass","itemLable"],itemClass:"itemValue",type:e.element.type,isIncludeForm:e.isIncludeForm,"label-width":e.element.options.labelWidth,styleItem:e.element.options.styleItem,styleLabel:e.element.options.styleLabel},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("mf-popupselect",{style:e.element.options.styleText,attrs:{id:e.element.potentialOwnerskey,defaultValue:e.element.options.defaultValue,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled}}),e.canDelete?a("div",{staticClass:"widget-view-action"},[a("i",{staticClass:"fa fa-trash-o fa-lg",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1)],1)}),[],!1,null,null,null).exports,MfDataGridList:sa,MfDataList:ta,TitlePanel:Zt,Draggable:x.a},data(){return{result:{},selectWidget:this.select,override:this.overrideVal,seleDataSource:this.selectDataSource,componentIndex:-1}},mounted(){},computed:{appendOverride(){return se(this.overrideVal)?"override-container":""}},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleWidgetAdd(e){const t=e.newIndex;if(e.oldIndex,this.componentIndex=t,e.to,void 0!==this.data.list[t].dataSourceType&&"subData"==this.data.list[t].dataSourceType)return layer.msg("重复节组件只能添加到重复节当中",{icon:0}),this.data.list.splice(t,1),!1;if(this.result=this.widgetForm.dataSource,0==this.result.mainTable.length&&1!=this.widgetForm.designType)return layer.msg("请保证当前表单至少有一个主表对象",{icon:0}),this.data.list.splice(t,1),!1;this.result.repeatTable,this.result.repeatRTable;let a=this.data.list[t].key;if(this.validateDraggableMsg(a,e))return void this.data.list.splice(t,1);let i=this.data.list[t].name;var l=this.data.list[t].type;if("EditList"===l){if(this.$set(this.data.list,t,{...this.data.list[t],designType:this.widgetForm.designType,relationId:1!=this.widgetForm.designType?"rBizId":"",relationValue:1!=this.widgetForm.designType?"#{param.mFlowBizId}":"",orderId:1!=this.widgetForm.designType?"cOrder":"",columns:this.data.list[t].columns.map(e=>({...e}))}),!a)if(1==this.widgetForm.designType){var s=Q(l,this.widgetForm);a=l+s,i+=s}else a=function(e,t,a){let i=t.dataSource;if(e||(e=1!=t.designType?P(i,t.formCode):"subTable"+Date.parse(new Date)),1!=t.designType){var l=i.repeatTable,s=O(e,i),n={},o=[],r={type:"EditList"};r.key=e+"AllListVar",r.name=a.name+s,r.phase=4,r.isNew="true",o.push(r),n.columns=o,n.key=e+"AllListVar",l.push(n)}return e}(a,this.widgetForm,this.data.list[t]),this.$set(this.data.list,t,{...this.data.list[t],allDataEL:"#{"+a+"AllListVar}"})}else if("DataList"===l)this.$set(this.data.list,t,{...this.data.list[t],list:this.data.list[t].list.map(e=>({...e}))}),1==this.widgetForm.designType?(s=Q(l,this.widgetForm),a=l+s,i+=s):(a=function(e,t,a){let i=t.dataSource;if(e||(e=1!=t.designType?P(i,t.formCode):"subTable"+Date.parse(new Date)),1!=t.designType){var l=i.repeatRTable,s=O(e,i),n={},o=[],r={type:"DataList"};r.key=e+"RAllListVar",r.name=a.name+s,r.phase=4,r.isNew="true",o.push(r),n.columns=o,n.key=e+"RAllListVar",l.push(n)}return e}(a,this.widgetForm,this.data.list[t]),this.$set(this.data.list,t,{...this.data.list[t],options:{...this.data.list[t].options,bindDataValue:"#{"+a+"RAllListVar}"}}));else if("splitline"===l||"TitlePanel"===l||"Tree"===l||"IncludeForm"===l||"ContainerPanel"===l)s=Q(l,this.widgetForm),a=l+s,i+=s;else if("HorizontalContainer"===l)this.$set(this.data.list,t,{...this.data.list[t],list:this.data.list[t].list.map(e=>({...e}))}),s=Q(l,this.widgetForm),a=l+s,i+=s;else if("Grid"===l)this.$set(this.data.list,t,{...this.data.list[t],columns:this.data.list[t].columns.map(e=>({...e}))}),s=Q(l,this.widgetForm),a=l+s,i+=s;else if("TabContainer"===l){if(this.data.list[t].tabPanels.length>0){let e=Q("draggableTabPanel",this.widgetForm);this.$set(this.data.list[t].tabPanels[0],"id","TabPanel"+e),this.$set(this.data.list[t].tabPanels[0],"title","标签"+e)}this.$set(this.data.list,t,{...this.data.list[t],tabPanels:this.data.list[t].tabPanels.map(e=>({...e}))}),s=Q(l,this.widgetForm),a=l+s,i+=s}else"QueryList"===l?(s=Q(l,this.widgetForm),a=l+s,i+=s):a||(1==this.widgetForm.designType?(s=Q(l,this.widgetForm),a=l+s,i+=s):a=W(a,this.widgetForm,this.data.list[t]));if(this.$set(this.data.list,t,{...this.data.list[t],options:{...this.data.list[t].options,id:a,colClass:this.widgetForm.config.colClass},key:a,name:i}),"EditList"!==l&&"QueryList"!==l||(this.data.list[t].actions.list=this.data.list[t].actions.list.map(e=>({...e,options:{...e.options,onclick:e.options.onclick+"('"+a+this.data.list[t].type+"')"}}))),"radio"!==l&&"checkbox"!==l&&"select"!==l||this.$set(this.data.list,t,{...this.data.list[t],options:{...this.data.list[t].options,colClass:this.data.list[t].options.hasOwnProperty("colClass")?this.data.list[t].options.colClass:this.data.config.colClass,options:this.data.list[t].options.options.map(e=>({...e}))}}),this.selectWidget=this.data.list[t],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget).columns,1==this.widgetForm.designType&&("EditList"===this.data.list[t].type||"QueryList"===this.data.list[t].type)){const e={list:this.data.list,newIndex:t};this.$emit("handleComponentSet",this.selectWidget,e,this)}},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){this.result=this.widgetForm.dataSource;let t=e.key,a="";return"DataList"==e.type&&(t=le(e.options.bindDataValue),a=t),"EditList"==e.type&&(t=le(e.allDataEL),a=t),N(t,this.result,a)},getMaxTabId(){return Q("setTabPanel",this.widgetForm)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;let n="";if(!e){const e=this.data.list[l].type;if(a)if("EditList"===a.type){if("EditList"==e||"DataList"==e||"splitline"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e)return layer.msg("重复表区域只能拖入字段",{icon:0}),!0}else if("DataList"===a.type&&("EditList"==e||"DataList"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e))return layer.msg("重复节区域只能拖入字段或分割线",{icon:0}),!0;return n=this.$t(`fm.components.fields.${e}`),!!this.isContainerFiled(e)&&(layer.msg(n+"不能拖入当前区域",{icon:0}),!0)}{a||(a=this.data),n=this.data&&void 0!==this.data.type?this.$t(`fm.components.fields.${this.data.type}`):this.data&&void 0!==this.data.id?"标签容器":"主表";const e=a.list[l];if(3!=this.widgetForm.designType&&(1!=this.widgetForm.isCustomForm||0!=this.widgetForm.isExtendField)){if("DataList"==e.fromComponent.fromType)return layer.msg("重复节组件不能移动到主表",{icon:0}),this.$set(this.fromData.row.list,s,{...this.data.list[l]}),!0;if("EditList"==e.fromComponent.fromType){if(a){if(a.key==e.fromComponent.variableId)return!1;layer.msg("重复表组件只能在自己所在重复表内移动",{icon:0}),void 0===i?this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.list[l]}):this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.columns[i].list[l]})}else layer.msg("重复表组件不能移动到主表",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...this.data.list[l]});return!0}if("mainTable"==e.fromComponent.fromType){if(void 0!==i)layer.msg("主表组件不能移动到重复表",{icon:0}),this.$set(null!=this.fromData.colIndex?this.fromData.row.columns[this.fromData.colIndex].list:this.fromData.row.list,s,{...a.columns[i].list[l]});else{if(this.data&&(void 0!==this.data.id||void 0===this.data.type||"TitlePanel"==this.data.type))return!1;layer.msg("主表组件不能移动到"+n,{icon:0}),this.$set(null!=this.fromData.colIndex?this.fromData.row.columns[this.fromData.colIndex].list:this.fromData.row.list,s,{...a.list[l]})}return!0}return!1}if(a&&void 0!==a.formCode)return!1;if("mainTable"==e.fromComponent.fromType&&a&&("ContainerPanel"==a.type||"TabContainer"==a.type||"TitlePanel"==a.type))return!1;if("mainTable"==e.fromComponent.fromType&&a)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.list.splice(l,1),!0;if(a&&a.key!=e.fromComponent.variableId)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)},handleMove(e,t){const a=e.to,i=e.from;return(!this.widgetForm.isExtendForm||-1!=a.className.indexOf("override-container"))&&(-1==i.className.indexOf("widget-form-list")||-1==a.className.indexOf("edit-List")&&-1==a.className.indexOf("data-list"))},isContainerFiled(e){let t=!1;switch(e){case"image":case"button":case"label":case"innerhtml":t=!0;break;default:t=!1}return t},loadComponentBySession(){const e=this;$.ajax({type:"POST",url:"../designerVue/formDesignVue_loadComponentBySession.action",data:{formUuid:e.$route.query.formUuid},dataType:"json",success:function(t){""!=t&&(e.$set(e.data.list,e.componentIndex,t),e.selectWidget=e.data.list[e.componentIndex]),e.componentIndex=-1}})},handleComponentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleComponentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},ra=(a("9357"),Object(s.a)(oa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("draggable",e._b({staticClass:"fromContainer",attrs:{move:e.handleMove},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.data,null)},add:e.handleWidgetAdd},model:{value:e.data.list,callback:function(t){e.$set(e.data,"list",t)},expression:"data.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,filter:".undraggable",handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-form-list",class:e.appendOverride,attrs:{name:"fade",tag:"div"}},[e._l(e.data.list,(function(t,i){return["EditList"==t.type?[t&&t.key?a("mf-edit-list",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"DataList"==t.type?[t&&t.key?a("mf-data-list",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"TitlePanel"==t.type?[t&&t.key?a("title-panel",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}}):e._e()]:"TabContainer"==t.type?[t&&t.key?a("mf-tab-container",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}}):e._e()]:"Grid"==t.type?[t&&t.key?a("mf-grid",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"HorizontalContainer"==t.type?[t&&t.key?a("mf-horizontal-container",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}}):e._e()]:"Tree"==t.type?[t&&t.key?a("mf-tree",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"IncludeForm"==t.type?[t&&t.key?a("mf-include-form",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"QueryList"==t.type?[t&&t.key?a("mf-query-list",{key:t.key,attrs:{id:t.key+"_table",element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:"ContainerPanel"==t.type?[t&&t.key?a("mf-container-panel",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}}):e._e()]:"SelectTransition"==t.type?[t&&t.key?a("mf-select-transition",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]:[t&&t.key?a("widget-form-item",{key:t.key,attrs:{element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,index:i,data:e.data,result:e.widgetForm.dataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()]]}))],2)],1)}),[],!1,null,null,null).exports),da={name:"MfTabContainer",componentName:"MfTabContainer",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm","overrideVal"],components:{Draggable:x.a},data(){return{tabId:this.element.tabPanels[0].id,contentHeight:"",selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},computed:{canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},mounted(){this.changeContenHeight(),window.onresize=()=>(()=>{this.changeContenHeight()})()},methods:{changeContenHeight(){this.$nextTick(()=>{if(this.$refs.tabDiv)if(null!=this.element.options.height&&""!=this.element.options.height){let e=this.$refs.tabDiv.$el.offsetHeight;this.contentHeight=e-66+"px"}else this.contentHeight="100%"})},handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)},loadComponentBySession(){this.$emit("loadComponentBySession")},handleComponentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleComponentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0},"element.options.height":function(e){this.changeContenHeight()},"element.tabPanels":function(e){this.tabId=e[0].id}}},ca=Object(s.a)(da,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggabl},style:{height:e.element.options.height,pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{type:"flex",gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{attrs:{span:24}},[e.element.tabPanels.length>0?a("el-tabs",{staticStyle:{padding:"0 10px"},model:{value:e.tabId,callback:function(t){e.tabId=t},expression:"tabId"}},e._l(e.element.tabPanels,(function(t,i){return a("el-tab-pane",{key:i,style:{height:e.contentHeight},attrs:{label:t.title,name:t.id}},[t.isURLPanel?e._e():a("form-container",{attrs:{data:t,element:t,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},handleComponentSet:function(t){return e.handleComponentSet(arguments)}}})],1)})),1):e._e()],1),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,ua={name:"MfGrid",componentName:"MfGrid",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm","overrideVal"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},mounted(){},computed:{gridHight(){let e=this.element.options.height;return e&&-1==e.toLowerCase().indexOf("px")&&-1==e.indexOf("%")&&(e+="px"),e},spanWidth:()=>function(e){const t={};return e&&(t.width=e),t},spanCol:()=>function(e){let t=0;return e&&""!=e&&(t=2*e),t},canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},appendOverride(){return se(this.overrideVal)?"override-container":""},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},methods:{handleMoveEnd({newIndex:e,oldIndex:t}){},handleSelectWidget(e){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleGridAdd(e,t,a){const i=e.newIndex,l=e.oldIndex,s=e.item;if(s.className.indexOf("data-grid")>=0)return"DIV"===s.tagName&&this.data.list.splice(l,0,t.columns[a].list[i]),t.columns[a].columns[a].list.splice(i,1),!1;this.result=this.widgetForm.dataSource,this.result.mainTable,this.result.repeatTable,this.result.repeatRTable;let n=t.columns[a].list[i].key;if(this.validateDraggableMsg(n,e,t,a))return;let o=t.columns[a].list[i].name;var r,d=t.columns[a].list[i].type;"label"===d||"innerhtml"===d||"image"===d||"button"===d||"Tree"===d?(n=d+(r=Q(d,this.widgetForm)),o+=r):n||(1==this.widgetForm.designType?(n=d+(r=Q(d,this.widgetForm)),o+=r):n=W(n,this.widgetForm,t.columns[a].list[i]));this.$set(t.columns[a].list,i,{...t.columns[a].list[i],options:{...t.columns[a].list[i].options},key:n,name:o}),"radio"!==t.columns[a].list[i].type&&"checkbox"!==t.columns[a].list[i].type&&"select"!==t.columns[a].list[i].type||this.$set(t.columns[a].list,i,{...t.columns[a].list[i],options:{...t.columns[a].list[i].options,options:t.columns[a].list[i].options.options.map(e=>({...e}))}}),this.selectWidget=t.columns[a].list[i],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)},validateDraggableMsg(e,t,a,i){const l=t.newIndex,s=t.oldIndex;if(!e){if(a){const e=this.element.columns[i].list[l].type;if("EditList"==e||"DataList"==e||"splitline"==e||"TitlePanel"==e||"TabContainer"==e||"Grid"==e)return layer.msg("栅格区域只能拖入字段",{icon:0}),a.columns[i].list.splice(l,1),!0}return!1}{const e=a.columns[i].list[l];if(3!=this.widgetForm.designType&&(1!=this.widgetForm.isCustomForm||0!=this.widgetForm.isExtendField))return"DataList"==e.fromComponent.fromType?(layer.msg("重复节组件不能移动到栅格",{icon:0}),this.$set(this.fromData.row.list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0):"EditList"==e.fromComponent.fromType?(layer.msg("重复表组件不能移动到栅格",{icon:0}),this.$set(this.fromData.row.columns[this.fromData.colIndex].list,s,{...a.columns[i].list[l]}),a.columns[i].list.splice(l,1),!0):(e.fromComponent.fromType,!1);if("mainTable"==e.fromComponent.fromType&&"DataList"==a.type)return layer.msg("主表组件不能移动到重复节",{icon:0}),"UL"!=t.from.tagName&&this.$set(this.data.list,s,{...a.list[l]}),a.columns[i].list.splice(l,1),!0;if(a&&a.key!=e.fromComponent.variableId)return layer.msg("重复节区域只能拖入相对应重复节数据",{icon:0}),a.columns[i].list.splice(l,1),!0}},handleMoveStart(e,t,a){t?(this.fromData.row=t,this.fromData.colIndex=a):(this.fromData.row=null,this.fromData.colIndex=null)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},pa=(a("8ba4"),Object(s.a)(ua,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget col-md-12 grid",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:{display:"flow-root",height:e.gridHight,pointerEvents:!0===e.isIncludeForm?"none":"auto"},attrs:{gutter:e.element.options.gutter?e.element.options.gutter:0,justify:e.element.options.justify,type:"flex",align:e.element.options.align},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e._l(e.element.columns,(function(t,i){return a("el-col",{key:i,staticClass:"grid-col",style:e.spanWidth(t.width),attrs:{span:e.spanCol(t.span)}},[a("draggable",e._b({staticClass:"grid-col",attrs:{"no-transition-on-drag":!0},on:{end:e.handleMoveEnd,start:function(t){return e.handleMoveStart(t,e.element,i)},add:function(t){return e.handleGridAdd(t,e.element,i)}},model:{value:t.list,callback:function(a){e.$set(t,"list",a)},expression:"col.list"}},"draggable",{group:"people",ghostClass:"ghost",animation:200,filter:".undraggable",handle:".drag-widget"},!1),[a("transition-group",{staticClass:"widget-col-list grid-col",class:["gridPosition-"+t.gridPosition,e.appendOverride],style:[{"min-height":"50px"},{height:e.gridHight}],attrs:{name:"fade",tag:"div"}},e._l(t.list,(function(i,l){return i.key?a("widget-form-item",{key:i.key,attrs:{element:i,select:e.selectWidget,selectDataSource:e.seleDataSource,index:l,data:t,result:e.widgetForm.dataSource,isIncludeForm:e.isIncludeForm,widgetForm:e.widgetForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}}):e._e()})),1)],1)],1)})),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],2):e._e()}),[],!1,null,null,null).exports),ma={name:"MfHorizontalContainer",componentName:"MfHorizontalContainer",props:["element","select","index","data","selectDataSource","widgetForm","isIncludeForm","overrideVal"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},computed:{initStyle(){let e=this.element.options.styleText;return e=e.toLowerCase(),!0===this.isIncludeForm&&(e+=";pointer-events: none"),e},canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal},canDelete(){return!(this.widgetForm.isExtendForm&&!se(this.overrideVal))&&this.selectWidget.key==this.element.key}},mounted(){},methods:{handleSelectWidget(e,t){this.selectWidget=this.data.list[e],this.widgetForm.isExtendForm&&!se(this.overrideVal)&&this.$set(this.selectWidget,"notEdit",!0),this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns,void 0!==t&&(t.cancelBubble=!0)},handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)},loadComponentBySession(){this.$emit("loadComponentBySession")},handleComponentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleComponentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},ha=(a("a66d"),Object(s.a)(ma,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index,t)}}},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"left-container",style:{height:"100%",width:e.element.list[0].width}},[e.element.list[0].isURLPanel?e._e():a("form-container",{attrs:{data:e.element.list[0],element:e.element.list[0],select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}})],1),a("div",{style:{height:"100%",marginLeft:e.element.list[0].width}},[a("div",{staticClass:"middle-line"}),a("div",{staticClass:"right-container"},[e.element.list[1].isURLPanel?e._e():a("form-container",{attrs:{data:e.element.list[1],element:e.element.list[1],select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:e.isIncludeForm,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}})],1)])]),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,"45b6036a",null).exports),fa={name:"MfIncludeForm",componentName:"MfIncludeForm",props:["element","select","index","data","selectDataSource","widgetForm","overrideVal"],components:{Draggable:x.a},data(){return{defaultStyle:"height:300px;width:100%",selectWidget:this.select,seleDataSource:this.selectDataSource,override:this.overrideVal}},computed:{initStyle(){let e=this.element.options.styleText;return null==e||0==e.length?this.defaultStyle:(e=e.toLowerCase(),e)},canDraggable(){return this.widgetForm.isExtendForm&&!this.overrideVal}},mounted(){},methods:{handleWidgetDelete(e){this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},handleSelectWidget(e){this.widgetForm.isExtendForm&&!se(this.overrideVal)||(this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns)},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},ga=(a("f983"),Object(s.a)(fa,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,ref:"tabDiv",staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[e.element.list.length>0?a("el-col",{attrs:{span:24,id:e.element.key,name:e.element.name}},[a("form-container",{attrs:{data:e.element,element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,isIncludeForm:!0,overrideVal:e.override},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t}}})],1):a("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24,id:e.element.key,name:e.element.name}},[a("label",{staticStyle:{color:"#000000"}},[e._v(e._s(e.element.name))])]),e.selectWidget.key==e.element.key?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports),ya={name:"MfEditListItem",componentName:"MfEditListItem",mixins:[Ne],provide(){return{MfEditListItem:this}},inject:["mfForm"],props:["element","index","select","data","widgetForm","fromData"],data(){return{selectWidget:this.select}},components:{},watch:{element(e){this.initCheckBox()}},computed:{},methods:{initCheckBox(){setTimeout((function(){$(".box").iCheck({labelHover:!1,cursor:!0,checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"})}),100)}},mounted(){this.initCheckBox()}},ba=(a("280c"),Object(s.a)(ya,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tbody",{attrs:{align:e.element.options.align}},[a("tr",{staticStyle:{width:"100%",height:"40px"}},[e.element.showLineNumber?[a("td",{staticClass:"subtableNumberStyle",staticStyle:{width:"30px"}},[e._v("\n             \n        ")])]:e._e(),e.element.showCheckBox?[a("td",{staticClass:"subtableHeadStyle",staticStyle:{width:"30px"}},[a("input",{staticClass:"box",attrs:{type:"checkbox",id:e.element.key+"_headCheckBox",name:"mForm0125EditList_trCheckBox_0"}})])]:e._e(),e._l(e.element.columns,(function(t,i){return a("td",{key:i,staticClass:"subtableHeadStyle",style:t.list[0].options.styleText},e._l(t.list,(function(t,i){return t.title?a("label",{staticClass:"el-form-item__label",staticStyle:{width:"100%","text-align":"center"}},[e._t("label",[e._v(e._s(t.title))])],2):e._e()})),0)}))],2),a("tr",[e.element.showLineNumber?[e._m(0)]:e._e(),e.element.showCheckBox?[a("td",{staticClass:"subtableHeadStyle",staticStyle:{width:"30px"}},[a("input",{staticClass:"box",attrs:{type:"checkbox",id:e.element.key+"_trCheckBox_0",name:"mForm0125EditList_trCheckBox_0"}})])]:e._e(),e._l(e.element.columns,(function(t,i){return a("td",{key:i,staticClass:"subtableCellStyle"},e._l(t.list,(function(t,i){return t.key?a("div",{key:t.key,staticStyle:{"pointer-events":"none"},attrs:{index:i}},[t.options.canEdit?["input"==t.type?[a("mf-input",{attrs:{defaultValue:t.options.defaultValue,id:t.key,mask:t.options.mask,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"date"==t.type?[a("mf-date",{attrs:{defaultValue:t.options.defaultValue,id:t.key,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"time"==t.type?[a("mf-time",{attrs:{defaultValue:t.options.defaultValue,id:t.key,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"number"==t.type?[a("mf-number",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"textarea"==t.type?[a("mf-textarea",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"select"==t.type?[a("mf-select",{attrs:{defaultValue:t.options.defaultValue,id:t.key,disabled:t.options.disabled,multiple:t.options.multiple,catalogIdText:t.options.catalogIdText,catalogId:t.options.catalogId,clearable:t.options.clearable,placeholder:t.options.placeholder}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"multiselect"==t.type?[a("mf-multiselect",{attrs:{defaultValue:t.options.defaultValue,id:t.key,disabled:t.options.disabled,multiple:t.options.multiple,clearable:t.options.clearable,placeholder:t.options.placeholder}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"listbox"==t.type?[a("mf-listbox",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,disabled:t.options.disabled,multiple:t.options.multiple,clearable:t.options.clearable,placeholder:t.options.placeholder}},e._l(t.options.options,(function(e){return a("option",{key:e.value,attrs:{label:t.options.showLabel?e.label:e.value},domProps:{value:e.value}})})),0)]:e._e(),"popupselect"==t.type?[a("mf-popupselect",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"radiogroup"==t.type?[a("mf-radio-group",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.key,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"checkboxgroup"==t.type?[a("mf-checkbox-group",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.key,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"checkbox"==t.type?[a("mf-checkbox",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.key,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled,labelValue:t.options.labelValue}})]:e._e(),"SingleUserSelect"==t.type?[a("mf-single-user-select",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"MultiUserSelect"==t.type?[a("mf-multi-user-select",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"SingleDeptSelect"==t.type?[a("mf-single-dept-select",{attrs:{defaultValue:t.options.defaultValue,id:t.options.id,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"MultiDeptSelect"==t.type?[a("mf-multi-dept-select",{style:t.options.styleText,attrs:{defaultValue:t.options.defaultValue,id:t.options.id,styleText:t.options.styleText,placeholder:t.options.placeholder,disabled:t.options.disabled}})]:e._e(),"SingleFileUpload"==t.type?[a("mf-single-file-upload",{attrs:{id:t.options.id,styleText:t.options.styleText}})]:e._e(),"MultiFileUpload"==t.type?[a("mf-multi-file-upload",{attrs:{id:t.options.id,styleText:t.options.styleText}})]:e._e()]:e._e(),""==t.type&&t.displayTypes?[e._l(t.displayTypes,(function(t,i){return["text_type"==t.type?[a("label",[e._v(e._s(t.value))])]:e._e(),"link_type"==t.type?[a("a",{attrs:{href:"#"}},[e._v(e._s(t.value))])]:e._e(),"picture_type"==t.type?[a("img",{attrs:{src:"../"+t.value}})]:e._e(),"picture_link_type"==t.type?[a("a",{attrs:{href:"#"}},[a("img",{attrs:{src:"../"+t.value}})])]:e._e()]}))]:e._e()],2):e._e()})),0)}))],2)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("td",{staticClass:"subtableNumberStyle",staticStyle:{width:"30px"}},[t("label",{staticClass:"control-label "},[this._v("1")])])}],!1,null,null,null).exports),va={name:"MfContainerPanel",componentName:"MfContainerPanel",props:["element","select","index","data","selectDataSource","widgetForm","fromData","isIncludeForm"],components:{Draggable:x.a},data(){return{selectWidget:this.select,seleDataSource:this.selectDataSource}},computed:{initStyle(){return this.element.options.styleText},isOverride(){return void 0!==this.element.options.overwrite&&this.element.options.overwrite},canDraggable(){return this.widgetForm.isExtendForm},canDelete(){return(!this.widgetForm.isExtendForm||!this.element.options.overwrite)&&this.selectWidget.key==this.element.key}},mounted(){},methods:{handleWidgetDelete(e){this.result=this.widgetForm.dataSource;var t=this.data.list[e].type,a=this.data.list[e].key,i=this.data.list[e];1!=this.widgetForm.designType&&B(t,a,i,this.widgetForm.dataSource),this.data.list.length-1===e?this.selectWidget=0===e?{}:this.data.list[e-1]:this.selectWidget=this.data.list[e+1],this.$nextTick(()=>{this.data.list.splice(e,1)})},handleSelectWidget(e){this.widgetForm.isExtendForm&&!this.element.options.overwrite||(this.selectWidget=this.data.list[e],this.seleDataSource=this.getDataSourceItemSelect(this.selectWidget.key).columns)},getDataSourceItemSelect(e){return this.result=this.widgetForm.dataSource,N(e,this.result)},loadComponentBySession(){this.$emit("loadComponentBySession")},handleComponentSet(e){const t=e[0],a=e[1],i=e[2];this.$emit("handleComponentSet",t,a,i)}},watch:{select(e){this.selectWidget=e},selectWidget:{handler(e){this.$emit("update:select",e)},deep:!0},selectDataSource(e){this.seleDataSource=e},seleDataSource:{handler(e){this.$emit("update:selectDataSource",e)},deep:!0}}},xa=Object(s.a)(va,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.element&&e.element.key?a("el-row",{key:e.element.key,staticClass:"widget-col widget-view drag-widget",class:{active:e.selectWidget.key==e.element.key,undraggable:e.canDraggable},style:e.initStyle,attrs:{type:"flex"},nativeOn:{click:function(t){return t.stopPropagation(),e.handleSelectWidget(e.index)}}},[a("el-col",{attrs:{span:24,id:e.element.key,name:e.element.name}},[a("form-container",{attrs:{data:e.element,element:e.element,select:e.selectWidget,selectDataSource:e.seleDataSource,widgetForm:e.widgetForm,fromData:e.fromData,isIncludeForm:e.isIncludeForm,overrideVal:e.isOverride},on:{"update:select":function(t){e.selectWidget=t},"update:selectDataSource":function(t){e.seleDataSource=t},"update:select-data-source":function(t){e.seleDataSource=t},loadComponentBySession:e.loadComponentBySession,handleComponentSet:function(t){return e.handleComponentSet(arguments)}}})],1),e.canDelete?a("div",{staticClass:"widget-view-action widget-col-action"},[a("i",{staticClass:"fa fa-trash-o",on:{click:function(t){return t.stopPropagation(),e.handleWidgetDelete(e.index)}}})]):e._e()],1):e._e()}),[],!1,null,null,null).exports,wa={fm:{components:{fields:{input:"文本框",textarea:"文本域",number:"数字框",radio:"单选框",radiogroup:"单选框组",checkbox:"复选框",checkboxgroup:"复选框组",time:"时间选择",date:"日期选择",select:"下拉框",multiselect:"多选下拉框",listbox:"列表框",switch:"开关",text:"文字",DataList:"重复节",EditList:"重复表",tabs:"标签页",popupselect:"弹出选择",label:"单行标签",image:"图片",innerhtml:"多行标签",SingleUserSelect:"单选用户",MultiUserSelect:"多选用户",SingleDeptSelect:"单选部门",MultiDeptSelect:"多选部门",SingleFileUpload:"单文件上传",MultiFileUpload:"多文件上传",DesignSingleFileUpload:"单文件上传",DesignMultiFileUpload:"多文件上传",ProcessOpinion:"流程意见",Tree:"树",splitline:"分割线",button:"按钮",TitlePanel:"标题面板",TabContainer:"标签容器",Grid:"栅格布局",HorizontalContainer:"左右分栏",IncludeForm:"子表单",QueryList:"查询列表",ContainerPanel:"容器布局",SelectTransition:"选步骤选人"},basic:{title:"基础字段"},advance:{title:"高级字段"},layout:{title:"布局组件"},composite:{title:"复合组件"},viewComponent:{title:"显示组件"}},description:{containerEmpty:"从左侧拖拽来添加字段",configEmpty:"请添加字段",tableEmpty:"从左侧拖拽来添加字段",uploadJsonInfo:"JSON格式如下，直接复制生成的json覆盖此处代码点击确定即可"},message:{copySuccess:"复制成功",validError:"表单数据校验失败"},actions:{import:"导入JSON",clear:"清空",preview:"预览",json:"生成JSON",code:"生成代码",getData:"获取数据",reset:"重置",copyData:"复制数据",cancel:"取 消",confirm:"确 定",addOption:"添加选项",addColumn:"添加列",addTab:"添加标签",upload:"点击上传",add:"添加"},config:{form:{title:"表单属性",labelPosition:{title:"标签对齐方式",left:"左对齐",right:"右对齐",top:"顶部对齐",center:"居中"},labelWidth:"表单标签宽度",size:"组件尺寸",col:"新加字段栅格布局",customClass:"自定义Class",formCode:"编码",formName:"名称",requiredValid:"数据唯一",formProperty:"表单属性"},widget:{title:"字段属性",id:"编码",fieldTitle:"标题",name:"名称",length:"长度",precision:"精度",styleText:"样式",styleLabel:"标签样式",styleValue:"编辑框样式",width:"宽度",height:"高度",size:"大小",labelWidth:"标签宽度",custom:"自定义",placeholder:"提示语",layout:"布局方式",block:"块级",inline:"行内",left:"左侧",right:"右侧",center:"居中",showInput:"显示输入框",min:"最小值",max:"最大值",step:"步长",multiple:"是否多选",filterable:"是否可搜索",allowHalf:"允许半选",showAlpha:"支持透明度选择",showLabel:"是否显示标签",option:"选项",value:"值",label:"标签",childrenOption:"子选项",defaultValue:"默认值",showType:"显示类型",isRange:"是否为范围选择",isTimestamp:"是否获取时间戳",startPlaceholder:"开始时间占位内容",endPlaceholder:"结束时间占位内容",format:"格式",limit:"最大上传数",span:"栅格值",align:"垂直排列方式",alignTop:"顶部对齐",alignMiddle:"居中",alignBottom:"底部对齐",type:"风格类型",default:"默认",card:"选项卡",borderCard:"卡片化",tabPosition:"选项卡位置",top:"顶部",bottom:"底部",tabOption:"标签配置项",tabName:"标签名称",customClass:"自定义Class",attribute:"操作属性",dataBind:"数据绑定",hidden:"隐藏",readonly:"完全只读",disabled:"禁用",editable:"文本框可输入",clearable:"显示清除按钮",arrowControl:"使用箭头进行时间选择",isDelete:"删除",isEdit:"编辑",showPassword:"显示密码",validate:"校验",required:"必填",mask:"输入格式",datePattern:"显示格式",dataValidate:"数据校验",tabSet:"标签页设置",newOption:"新选项",tab:"标签页",validatorRequired:"必须填写",validatorType:"格式不正确",validatorPattern:"格式不匹配",preDeduction:"预扣除",hint:"数字格式",textPattern:"文本格式",isCurrency:"货币组件",showPreview:"图片上传",fileType:"上传文件类型",maxFileCount:"上传最大文件个数",showMultiComments:"支持多人意见",showDep:"显示部门名称",showMinimizeButton:"支持展开合上",isCollapsed:"默认合上",columns:"列数",labelValue:"显示标签",contentValue:"显示内容",styleClass:"样式类",imgSrc:"图片地址",btnType:"按钮类型",requiredValid:"设置唯一",jointValidation:"联合校验",dataFormula:"数据计算",dataPower:"数据权限",dataEntry:"数据带入",triggerAction:"触发事件",relationType:"级联类型",relationId:"级联组件编码",relationProperty:"级联属性",digit:"规则编码总位数",levelDigit:"当前层次编码位数",rulePlaceHolder:"规则编码空位补缺符",catalogId:"数据字典",gutter:"栅格间隔",columnOption:"列配置项",fieldCol:"栅格布局",showTitle:"显示标题",bindValue:"绑定值",showLine:"显示分割线",attributeSet:"属性设置",link:"链接",formDid:"子表单",renderFormTag:"启用表单",jsEvent:"JS事件",relationProp:"级联属性",advancedProp:"高级属性",leftContainer:"左容器设置",rightContainer:"右容器设置",styleSet:"样式设置",src:"链接",method:"回调方法",targetDialogId:"目标窗口编码",popupTitle:"弹出窗口标题",dialogStyle:"窗口样式",rowData:"每行记录变量名",rowIndex:"行号变量名",relationPro:"关联属性",relationProValue:"关联属性值",orderId:"排序属性",fileId:"文件编码",fileName:"文件名称",fileSizes:"文件大小",designFileType:"文件类型",contents:"文件内容",displayMsg:"显示限制信息",queryCondition:"查询数据条件",fileRootPath:"文件根目录",fileSubPath:"文件子目录",isDowload:"是否可下载",isView:"是否可预览",isDeleted:"是否可删除",uploadAgain:"是否可新增",annexSize:"文件最大值",annexType:"允许上传的类型",annexNum:"允许上传的文件个数",saveType:"存储类型",bindId:"编码绑定",bindName:"名称绑定",dataObject:"业务对象",bindDataValue:"数据绑定",isURLPanel:"是否URL",viewURL:"URL地址",optionValue:"选项值",groupId:"组编码",spanWidth:"宽度(px/%)",overwrite:"可继承"}}}};a("eb0d"),a("b20f");const Sa=function(e,t,a,i){a?(a("zh-CN",{...a("zh-CN"),...wa}),e.config.lang=t):i?(i.setLocaleMessage("en-US",{...i.messages["en-US"],...enUS}),i.locale=t):(e.use(f.a),e.locale("zh-CN",{...e.locale("zh-CN"),...wa}),e.config.lang=t)};Oe.install=function(e,t={lang:"zh-CN",locale:null,i18n:null}){Sa(e,t.lang,t.locale,t.i18n),e.component(Oe.name,Oe)},xe.install=function(e,t={lang:"zh-CN",locale:null,i18n:null}){Sa(e,t.lang,t.locale,t.i18n),e.component(xe.name,xe)};const ka=[Oe,xe,Le,Ue,qe,He.a,Ge.a,Xe,tt,st,de,dt,mt,wt,vt,ft,yt,kt,_t,Tt,$t,It,Ot,Lt,Nt,jt,Ut,At,qt,Gt,he,Xt,ra,Zt,pa,ca,ta,ba,Qt,ta,ha,ga,sa,ia,xa],Ca=function(e,t={lang:"zh-CN",locale:null,i18n:null}){Sa(e,t.lang,t.locale,t.i18n),ka.forEach(t=>{e.component(t.name,t)})};"undefined"!=typeof window&&window.Vue&&Ca(window.Vue);var _a={install:Ca,MakingForm:Oe,GenerateForm:xe};i.default.use(f.a),i.default.use(g.a),i.default.locale("zh-CN",{...b.a,header:{title:"表单设计器",document:"使用文档",pricing:"商业授权",advanced:"高级版本"}}),i.default.config.lang="zh-CN",i.default.use(m.a,{size:"small"}),i.default.use(_a),i.default.config.productionTip=!1,window.Vue=new i.default({router:u,render:e=>e(n)}).$mount("#app")},"586e":function(e,t,a){},"5ab1":function(e,t,a){},"5c0b":function(e,t,a){"use strict";var i=a("5202");a.n(i).a},"5f1c":function(e,t,a){},"5f49":function(module,__webpack_exports__,__webpack_require__){"use strict";var _GenerateFormItem__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7f9e"),_util_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("4260");__webpack_exports__.a={name:"fm-generate-form",components:{GenetateFormItem:_GenerateFormItem__WEBPACK_IMPORTED_MODULE_0__.a},props:["data","remote","value","insite"],data:()=>({models:{},rules:{}}),created(){this.generateModle(this.data.list)},mounted(){},methods:{generateModle(genList){for(let i=0;i<genList.length;i++)"grid"===genList[i].type?genList[i].columns.forEach(e=>{this.generateModle(e.list)}):(this.value&&Object.keys(this.value).indexOf(genList[i].model)>=0?this.models[genList[i].model]=this.value[genList[i].model]:"blank"===genList[i].type?this.$set(this.models,genList[i].model,"String"===genList[i].options.defaultType?"":"Object"===genList[i].options.defaultType?{}:[]):this.models[genList[i].model]=genList[i].options.defaultValue,this.rules[genList[i].model]?this.rules[genList[i].model]=[...this.rules[genList[i].model],...genList[i].rules.map(item=>item.pattern?{...item,pattern:eval(item.pattern)}:{...item})]:this.rules[genList[i].model]=[...genList[i].rules.map(item=>item.pattern?{...item,pattern:eval(item.pattern)}:{...item})])},getData(){return new Promise((e,t)=>{this.$refs.generateForm.validate(a=>{a?e(this.models):t(new Error(this.$t("fm.message.validError")).message)})})},reset(){this.$refs.generateForm.resetFields()},onInputChange(e,t){this.$emit("on-change",t,e,this.models)},refresh(){}},watch:{data:{deep:!0,handler(e){this.generateModle(e.list)}},value:{deep:!0,handler(e){this.models={...this.models,...e}}}}}},"60da":function(e,t,a){"use strict";var i=a("fb15");a.n(i).a},6525:function(e,t,a){},"6be5":function(e,t,a){"use strict";var i={name:"MfPopupselect",componentName:"MfPopupselect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,readonly:Boolean,styleText:String,popupClick:Function,showPopup:{type:Boolean,default:!0}},computed:{nativeInputValue(){return null===this.value||void 0===this.value?"":String(this.value)},hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]},usableStyle(){return this.readonly||this.disabled?"":"usable"}},watch:{nativeInputValue(){this.setNativeInputValue()}},methods:{handleInput(e){this.isComposing||e.target.value!==this.nativeInputValue&&(this.$emit("input",e.target.value),this.$nextTick(this.setNativeInputValue))},setNativeInputValue(){const e=this.getInput();e&&e.value!==this.nativeInputValue&&(e.value=this.nativeInputValue)},getInput(){return this.$refs.input},handleClick(e){this.readonly||this.disabled||this.$emit("click",e)}},created(){},mounted(){this.setNativeInputValue()}},l=(a("4646"),a("2877")),s=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-md-12","input-group"]},[[a("input",e._b({ref:"input",class:["form-control",e.usableStyle],style:{height:"34px"},attrs:{id:e.id,name:e.name,readonly:(e.showPopup||!!e.readonly)&&"readonly",type:"text"},on:{input:e.handleInput}},"input",e.$attrs,!1)),e.showPopup?a("span",{staticClass:"input-group-addon addon-udSelect  ",attrs:{readonly:e.readonly},on:{click:e.handleClick}},[a("i",{staticClass:"fa fa-search"})]):e._e()]],2)}),[],!1,null,null,null);t.a=s.exports},"6fc0":function(e,t,a){},7417:function(e,t,a){},"783b":function(e,t,a){},"79d1":function(e,t,a){"use strict";var i=a("586e");a.n(i).a},"7c86":function(e,t,a){"use strict";var i={name:"MfSelect",componentName:"MfSelect",inheritAttrs:!1,props:{id:String,name:String,value:String,disabled:Boolean,styleText:String,readonly:Boolean,options:{type:Array,default:()=>[{value:"",label:""}]}},computed:{hightValue(){let e=this.styleText;if(null==e||0==e.length)return"";e=e.toLowerCase();const t=e.split(";");for(let a=0;a<t.length;a++)if(-1!=t[a].indexOf("height"))return t[a]}},watch:{},methods:{},created(){},mounted(){$("#"+this.id).select2({placeholder:this.placeholder,minimumResultsForSearch:-1,allowClear:!0})}},l=a("2877"),s=Object(l.a)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["col-xs-12","col-md-12","input-group"],style:[{height:"34px"},e.styleText]},[[a("select",e._b({staticClass:"form-control",staticStyle:{width:"100%",height:"100%"},attrs:{id:e.id,name:e.name,options:e.options,readonly:e.readonly}},"select",e.$attrs,!1),[a("option",{attrs:{id:"",value:""}}),e._l(e.options,(function(t){return a("option",{attrs:{id:t.value},domProps:{value:t.value}},[e._v(e._s(t.label))])}))],2)]],2)}),[],!1,null,null,null);t.a=s.exports},"7f9e":function(e,t,a){"use strict";var i=a("6be5"),l={props:["widget","models","rules","remote"],components:{MfSelect:a("7c86").a,MfPopupselect:i.a},data(){return{dataModel:this.models[this.widget.id]}},created(){this.widget.options.remote&&this.remote[this.widget.options.remoteFunc]&&this.remote[this.widget.options.remoteFunc](e=>{this.widget.options.remoteOptions=e.map(e=>({value:e[this.widget.options.props.value],label:e[this.widget.options.props.label],children:e[this.widget.options.props.children]}))}),"imgupload"===this.widget.type&&this.remote[this.widget.options.tokenFunc](e=>{this.widget.options.token=e})},methods:{},watch:{dataModel:{deep:!0,handler(e){this.models[this.widget.id]=e,this.$emit("update:models",{...this.models,[this.widget.id]:e}),this.$emit("input-change",e,this.widget.id)}},models:{deep:!0,handler(e){this.dataModel=e[this.widget.model]}}}},s=a("2877"),n=Object(s.a)(l,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form-item",{attrs:{label:e.widget.name,prop:e.widget.id}},[e._v("\n    <\n    "),"input"==e.element.type?[a("mf-input",{style:e.element.options.styleText,attrs:{styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e(),"select"==e.element.type?[a("mf-select",{style:e.element.options.styleText,attrs:{id:e.element.options.id,disabled:e.element.options.disabled,multiple:e.element.options.multiple,clearable:e.element.options.clearable,placeholder:e.element.options.placeholder,styleText:e.element.options.styleText},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}},e._l(e.element.options.options,(function(t){return a("option",{key:t.value,attrs:{label:e.element.options.showLabel?t.label:t.value},domProps:{value:t.value}})})),0)]:e._e(),"popupselect"==e.element.type?[a("mf-popupselect",{style:e.element.options.styleText,attrs:{id:e.element.options.id,styleText:e.element.options.styleText,placeholder:e.element.options.placeholder,disabled:e.element.options.disabled},model:{value:e.element.options.defaultValue,callback:function(t){e.$set(e.element.options,"defaultValue",t)},expression:"element.options.defaultValue"}})]:e._e()],2)}),[],!1,null,null,null);t.a=n.exports},"8ba4":function(e,t,a){"use strict";var i=a("4a82");a.n(i).a},9144:function(e,t,a){},9357:function(e,t,a){"use strict";var i=a("4ab6");a.n(i).a},"96c9":function(e,t,a){"use strict";var i=a("a3eb");a.n(i).a},a3eb:function(e,t,a){},a66d:function(e,t,a){"use strict";var i=a("dc96");a.n(i).a},b026:function(e,t,a){"use strict";var i=a("b89d");a.n(i).a},b126:function(e,t,a){},b20f:function(e,t,a){},b835:function(e,t,a){},b839:function(e,t,a){},b89d:function(e,t,a){},bd7f:function(e,t,a){"use strict";var i=a("0462");a.n(i).a},c0e7:function(e,t,a){"use strict";var i=a("d2f8");a.n(i).a},cbb4:function(e,t,a){},cf1c:function(e,t,a){},d2f8:function(e,t,a){},d769:function(e,t,a){},dc96:function(e,t,a){},e750:function(e,t,a){"use strict";var i=a("55a7");a.n(i).a},eb0d:function(e,t,a){},f715:function(e,t,a){"use strict";var i=a("cbb4");a.n(i).a},f983:function(e,t,a){"use strict";var i=a("d769");a.n(i).a},fb15:function(e,t,a){}});